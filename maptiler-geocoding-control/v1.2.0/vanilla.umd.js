(function(D,h){typeof exports=="object"&&typeof module<"u"?h(exports):typeof define=="function"&&define.amd?define(["exports"],h):(D=typeof globalThis<"u"?globalThis:D||self,h(D.maptilerGeocoder={}))})(this,function(D){"use strict";var dn=Object.defineProperty;var fn=(D,h,Q)=>h in D?dn(D,h,{enumerable:!0,configurable:!0,writable:!0,value:Q}):D[h]=Q;var ot=(D,h,Q)=>(fn(D,typeof h!="symbol"?h+"":h,Q),Q),Ut=(D,h,Q)=>{if(!h.has(D))throw TypeError("Cannot "+Q)};var ae=(D,h,Q)=>(Ut(D,h,"read from private field"),Q?Q.call(D):h.get(D)),Dt=(D,h,Q)=>{if(h.has(D))throw TypeError("Cannot add the same private member more than once");h instanceof WeakSet?h.add(D):h.set(D,Q)},At=(D,h,Q,Ce)=>(Ut(D,h,"write to private field"),Ce?Ce.call(D,Q):h.set(D,Q),Q);var Y;function h(){}function Q(i,e){for(const t in e)i[t]=e[t];return i}function Ce(i){return i()}function st(){return Object.create(null)}function re(i){i.forEach(Ce)}function at(i){return typeof i=="function"}function me(i,e){return i!=i?e==e:i!==e||i&&typeof i=="object"||typeof i=="function"}let Re;function V(i,e){return i===e?!0:(Re||(Re=document.createElement("a")),Re.href=e,i===Re.href)}function Bt(i){return Object.keys(i).length===0}function zt(i,e,t,n){if(i){const r=lt(i,e,t,n);return i[0](r)}}function lt(i,e,t,n){return i[1]&&n?Q(t.ctx.slice(),i[1](n(e))):t.ctx}function Ft(i,e,t,n){if(i[2]&&n){const r=i[2](n(t));if(e.dirty===void 0)return r;if(typeof r=="object"){const l=[],o=Math.max(e.dirty.length,r.length);for(let a=0;a<o;a+=1)l[a]=e.dirty[a]|r[a];return l}return e.dirty|r}return e.dirty}function Pt(i,e,t,n,r,l){if(r){const o=lt(e,t,n,l);i.p(o,r)}}function jt(i){if(i.ctx.length>32){const e=[],t=i.ctx.length/32;for(let n=0;n<t;n++)e[n]=-1;return e}return-1}function ct(i){return i??""}function T(i,e){i.appendChild(e)}function z(i,e,t){i.insertBefore(e,t||null)}function A(i){i.parentNode&&i.parentNode.removeChild(i)}function U(i){return document.createElement(i)}function le(i){return document.createElementNS("http://www.w3.org/2000/svg",i)}function ce(i){return document.createTextNode(i)}function X(){return ce(" ")}function Ht(){return ce("")}function K(i,e,t,n){return i.addEventListener(e,t,n),()=>i.removeEventListener(e,t,n)}function Zt(i){return function(e){return e.preventDefault(),i.call(this,e)}}function c(i,e,t){t==null?i.removeAttribute(e):i.getAttribute(e)!==t&&i.setAttribute(e,t)}function Gt(i){return Array.from(i.childNodes)}function Te(i,e){e=""+e,i.data!==e&&(i.data=e)}function ut(i,e){i.value=e??""}function ue(i,e,t){i.classList.toggle(e,!!t)}function Qt(i,e,{bubbles:t=!1,cancelable:n=!1}={}){return new CustomEvent(i,{detail:e,bubbles:t,cancelable:n})}let Me;function We(i){Me=i}function dt(){if(!Me)throw new Error("Function called outside component initialization");return Me}function qt(i){dt().$$.on_destroy.push(i)}function Vt(){const i=dt();return(e,t,{cancelable:n=!1}={})=>{const r=i.$$.callbacks[e];if(r){const l=Qt(e,t,{cancelable:n});return r.slice().forEach(o=>{o.call(i,l)}),!l.defaultPrevented}return!0}}function ft(i,e){const t=i.$$.callbacks[e.type];t&&t.slice().forEach(n=>n.call(this,e))}const Le=[],Ge=[];let ye=[];const mt=[],Kt=Promise.resolve();let Qe=!1;function Jt(){Qe||(Qe=!0,Kt.then(gt))}function qe(i){ye.push(i)}const Ve=new Set;let we=0;function gt(){if(we!==0)return;const i=Me;do{try{for(;we<Le.length;){const e=Le[we];we++,We(e),Xt(e.$$)}}catch(e){throw Le.length=0,we=0,e}for(We(null),Le.length=0,we=0;Ge.length;)Ge.pop()();for(let e=0;e<ye.length;e+=1){const t=ye[e];Ve.has(t)||(Ve.add(t),t())}ye.length=0}while(Le.length);for(;mt.length;)mt.pop()();Qe=!1,Ve.clear(),We(i)}function Xt(i){if(i.fragment!==null){i.update(),re(i.before_update);const e=i.dirty;i.dirty=[-1],i.fragment&&i.fragment.p(i.ctx,e),i.after_update.forEach(qe)}}function Yt(i){const e=[],t=[];ye.forEach(n=>i.indexOf(n)===-1?e.push(n):t.push(n)),t.forEach(n=>n()),ye=e}const Ue=new Set;let ge;function De(){ge={r:0,c:[],p:ge}}function Ae(){ge.r||re(ge.c),ge=ge.p}function P(i,e){i&&i.i&&(Ue.delete(i),i.i(e))}function q(i,e,t,n){if(i&&i.o){if(Ue.has(i))return;Ue.add(i),ge.c.push(()=>{Ue.delete(i),n&&(t&&i.d(1),n())}),i.o(e)}else n&&n()}function ht(i){return(i==null?void 0:i.length)!==void 0?i:Array.from(i)}function xt(i,e){q(i,1,1,()=>{e.delete(i.key)})}function $t(i,e,t,n,r,l,o,a,f,u,d,v){let b=i.length,k=l.length,O=b;const j={};for(;O--;)j[i[O].key]=O;const w=[],E=new Map,H=new Map,I=[];for(O=k;O--;){const _=v(r,l,O),N=t(_);let m=o.get(N);m?n&&I.push(()=>m.p(_,e)):(m=u(N,_),m.c()),E.set(N,w[O]=m),N in j&&H.set(N,Math.abs(O-j[N]))}const S=new Set,g=new Set;function R(_){P(_,1),_.m(a,d),o.set(_.key,_),d=_.first,k--}for(;b&&k;){const _=w[k-1],N=i[b-1],m=_.key,y=N.key;_===N?(d=_.first,b--,k--):E.has(y)?!o.has(m)||S.has(m)?R(_):g.has(y)?b--:H.get(m)>H.get(y)?(g.add(m),R(_)):(S.add(y),b--):(f(N,o),b--)}for(;b--;){const _=i[b];E.has(_.key)||f(_,o)}for(;k;)R(w[k-1]);return re(I),w}function de(i){i&&i.c()}function oe(i,e,t){const{fragment:n,after_update:r}=i.$$;n&&n.m(e,t),qe(()=>{const l=i.$$.on_mount.map(Ce).filter(at);i.$$.on_destroy?i.$$.on_destroy.push(...l):re(l),i.$$.on_mount=[]}),r.forEach(qe)}function se(i,e){const t=i.$$;t.fragment!==null&&(Yt(t.after_update),re(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function ei(i,e){i.$$.dirty[0]===-1&&(Le.push(i),Jt(),i.$$.dirty.fill(0)),i.$$.dirty[e/31|0]|=1<<e%31}function he(i,e,t,n,r,l,o=null,a=[-1]){const f=Me;We(i);const u=i.$$={fragment:null,ctx:[],props:l,update:h,not_equal:r,bound:st(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(f?f.$$.context:[])),callbacks:st(),dirty:a,skip_bound:!1,root:e.target||f.$$.root};o&&o(u.root);let d=!1;if(u.ctx=t?t(i,e.props||{},(v,b,...k)=>{const O=k.length?k[0]:b;return u.ctx&&r(u.ctx[v],u.ctx[v]=O)&&(!u.skip_bound&&u.bound[v]&&u.bound[v](O),d&&ei(i,v)),b}):[],u.update(),d=!0,re(u.before_update),u.fragment=n?n(u.ctx):!1,e.target){if(e.hydrate){const v=Gt(e.target);u.fragment&&u.fragment.l(v),v.forEach(A)}else u.fragment&&u.fragment.c();e.intro&&P(i.$$.fragment),oe(i,e.target,e.anchor),gt()}We(f)}class be{constructor(){ot(this,"$$");ot(this,"$$set")}$destroy(){se(this,1),this.$destroy=h}$on(e,t){if(!at(t))return h;const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const r=n.indexOf(t);r!==-1&&n.splice(r,1)}}$set(e){this.$$set&&!Bt(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const ti="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(ti);function ii(i){let e,t;return{c(){e=le("svg"),t=le("path"),c(t,"d","M13.12.706a.982.982 0 0 0-1.391 0L6.907 5.517 2.087.696a.982.982 0 1 0-1.391 1.39l4.821 4.821L.696 11.73a.982.982 0 1 0 1.39 1.39l4.821-4.821 4.822 4.821a.982.982 0 1 0 1.39-1.39L8.298 6.908l4.821-4.822a.988.988 0 0 0 0-1.38Z"),c(e,"viewBox","0 0 14 14"),c(e,"width","13"),c(e,"height","13"),c(e,"class","svelte-en2qvf")},m(n,r){z(n,e,r),T(e,t)},p:h,i:h,o:h,d(n){n&&A(e)}}}class bt extends be{constructor(e){super(),he(this,e,null,ii,me,{})}}function ni(i){let e,t;return{c(){e=le("svg"),t=le("path"),c(t,"d","M15 0C6.705 0 0 6.705 0 15C0 23.295 6.705 30 15 30C23.295 30 30 23.295 30 15C30 6.705 23.295 0 15 0ZM22.5 20.385L20.385 22.5L15 17.115L9.615 22.5L7.5 20.385L12.885 15L7.5 9.615L9.615 7.5L15 12.885L20.385 7.5L22.5 9.615L17.115 15L22.5 20.385Z"),c(e,"viewBox","0 0 30 30"),c(e,"fill","none"),c(e,"xmlns","http://www.w3.org/2000/svg"),c(e,"class","svelte-d2loi5")},m(n,r){z(n,e,r),T(e,t)},p:h,i:h,o:h,d(n){n&&A(e)}}}class vt extends be{constructor(e){super(),he(this,e,null,ni,me,{})}}function ri(i){let e,t;return{c(){e=U("img"),V(e.src,t=i[3]+"area.svg")||c(e,"src",t),c(e,"alt",i[6]),c(e,"class","svelte-ltkwvy")},m(n,r){z(n,e,r)},p(n,r){r&8&&!V(e.src,t=n[3]+"area.svg")&&c(e,"src",t),r&64&&c(e,"alt",n[6])},d(n){n&&A(e)}}}function oi(i){let e,t;return{c(){e=U("img"),V(e.src,t=i[3]+"reverse.svg")||c(e,"src",t),c(e,"alt",i[6]),c(e,"class","svelte-ltkwvy")},m(n,r){z(n,e,r)},p(n,r){r&8&&!V(e.src,t=n[3]+"reverse.svg")&&c(e,"src",t),r&64&&c(e,"alt",n[6])},d(n){n&&A(e)}}}function si(i){let e,t;return{c(){e=U("img"),V(e.src,t=i[3]+"poi.svg")||c(e,"src",t),c(e,"alt",i[6]),c(e,"class","svelte-ltkwvy")},m(n,r){z(n,e,r)},p(n,r){r&8&&!V(e.src,t=n[3]+"poi.svg")&&c(e,"src",t),r&64&&c(e,"alt",n[6])},d(n){n&&A(e)}}}function ai(i){let e,t;return{c(){e=U("img"),V(e.src,t=i[3]+"postal_code.svg")||c(e,"src",t),c(e,"alt",i[6]),c(e,"class","svelte-ltkwvy")},m(n,r){z(n,e,r)},p(n,r){r&8&&!V(e.src,t=n[3]+"postal_code.svg")&&c(e,"src",t),r&64&&c(e,"alt",n[6])},d(n){n&&A(e)}}}function li(i){let e,t;return{c(){e=U("img"),V(e.src,t=i[3]+"street.svg")||c(e,"src",t),c(e,"alt",i[6]),c(e,"class","svelte-ltkwvy")},m(n,r){z(n,e,r)},p(n,r){r&8&&!V(e.src,t=n[3]+"street.svg")&&c(e,"src",t),r&64&&c(e,"alt",n[6])},d(n){n&&A(e)}}}function ci(i){let e,t;return{c(){e=U("img"),V(e.src,t=i[3]+"road.svg")||c(e,"src",t),c(e,"alt",i[6]),c(e,"class","svelte-ltkwvy")},m(n,r){z(n,e,r)},p(n,r){r&8&&!V(e.src,t=n[3]+"road.svg")&&c(e,"src",t),r&64&&c(e,"alt",n[6])},d(n){n&&A(e)}}}function ui(i){let e,t;return{c(){e=U("img"),V(e.src,t=i[3]+"housenumber.svg")||c(e,"src",t),c(e,"alt",i[6]),c(e,"class","svelte-ltkwvy")},m(n,r){z(n,e,r)},p(n,r){r&8&&!V(e.src,t=n[3]+"housenumber.svg")&&c(e,"src",t),r&64&&c(e,"alt",n[6])},d(n){n&&A(e)}}}function di(i){let e,t,n,r;return{c(){e=U("img"),V(e.src,t=i[5])||c(e,"src",t),c(e,"alt",i[4]),c(e,"class","svelte-ltkwvy")},m(l,o){z(l,e,o),n||(r=K(e,"error",i[14]),n=!0)},p(l,o){o&32&&!V(e.src,t=l[5])&&c(e,"src",t),o&16&&c(e,"alt",l[4])},d(l){l&&A(e),n=!1,r()}}}function _t(i){let e,t;return{c(){e=U("span"),t=ce(i[6]),c(e,"class","secondary svelte-ltkwvy")},m(n,r){z(n,e,r),T(e,t)},p(n,r){r&64&&Te(t,n[6])},d(n){n&&A(e)}}}function fi(i){var _,N;let e,t,n,r,l,o,a,f,u=(i[7]?i[0].place_name:i[0].place_name.replace(/,.*/,""))+"",d,v,b=i[2]==="always"||i[2]&&!i[0].address&&((_=i[0].properties)==null?void 0:_.kind)!=="road"&&((N=i[0].properties)==null?void 0:N.kind)!=="road_relation"&&!i[0].id.startsWith("address.")&&!i[0].id.startsWith("postal_code.")&&(!i[0].id.startsWith("poi.")||!i[5])&&!i[7],k,O,j=(i[7]?"":i[0].place_name.replace(/[^,]*,?\s*/,""))+"",w,E,H;function I(m,y){var $,W;return y&1&&(t=null),y&1&&(n=null),y&1&&(r=null),m[5]?di:m[0].address?ui:(($=m[0].properties)==null?void 0:$.kind)==="road"||((W=m[0].properties)==null?void 0:W.kind)==="road_relation"?ci:(t==null&&(t=!!m[0].id.startsWith("address.")),t?li:(n==null&&(n=!!m[0].id.startsWith("postal_code.")),n?ai:(r==null&&(r=!!m[0].id.startsWith("poi.")),r?si:m[7]?oi:ri)))}let S=I(i,-1),g=S(i),R=b&&_t(i);return{c(){e=U("li"),g.c(),l=X(),o=U("span"),a=U("span"),f=U("span"),d=ce(u),v=X(),R&&R.c(),k=X(),O=U("span"),w=ce(j),c(f,"class","primary svelte-ltkwvy"),c(a,"class","svelte-ltkwvy"),c(O,"class","line2 svelte-ltkwvy"),c(o,"class","texts svelte-ltkwvy"),c(e,"tabindex","0"),c(e,"data-selected",i[1]),c(e,"class","svelte-ltkwvy"),ue(e,"selected",i[1])},m(m,y){z(m,e,y),g.m(e,null),T(e,l),T(e,o),T(o,a),T(a,f),T(f,d),T(a,v),R&&R.m(a,null),T(o,k),T(o,O),T(O,w),E||(H=[K(e,"mouseenter",i[12]),K(e,"focus",i[13])],E=!0)},p(m,[y]){var $,W;S===(S=I(m,y))&&g?g.p(m,y):(g.d(1),g=S(m),g&&(g.c(),g.m(e,l))),y&1&&u!==(u=(m[7]?m[0].place_name:m[0].place_name.replace(/,.*/,""))+"")&&Te(d,u),y&37&&(b=m[2]==="always"||m[2]&&!m[0].address&&(($=m[0].properties)==null?void 0:$.kind)!=="road"&&((W=m[0].properties)==null?void 0:W.kind)!=="road_relation"&&!m[0].id.startsWith("address.")&&!m[0].id.startsWith("postal_code.")&&(!m[0].id.startsWith("poi.")||!m[5])&&!m[7]),b?R?R.p(m,y):(R=_t(m),R.c(),R.m(a,null)):R&&(R.d(1),R=null),y&1&&j!==(j=(m[7]?"":m[0].place_name.replace(/[^,]*,?\s*/,""))+"")&&Te(w,j),y&2&&c(e,"data-selected",m[1]),y&2&&ue(e,"selected",m[1])},i:h,o:h,d(m){m&&A(e),g.d(),R&&R.d(),E=!1,re(H)}}}function mi(i,e,t){var I;let n,r,{feature:l}=e,{selected:o=!1}=e,{showPlaceType:a}=e,{missingIconsCache:f}=e,{iconsBaseUrl:u}=e;const d=(I=l.properties)==null?void 0:I.categories;let v,b,k=0,O=l.place_type[0]==="reverse";function j(S){b&&f.add(b),t(10,k++,k)}function w(S){ft.call(this,i,S)}function E(S){ft.call(this,i,S)}const H=S=>j(S.currentTarget);return i.$$set=S=>{"feature"in S&&t(0,l=S.feature),"selected"in S&&t(1,o=S.selected),"showPlaceType"in S&&t(2,a=S.showPlaceType),"missingIconsCache"in S&&t(9,f=S.missingIconsCache),"iconsBaseUrl"in S&&t(3,u=S.iconsBaseUrl)},i.$$.update=()=>{var S,g,R,_;if(i.$$.dirty&3640)do t(11,n--,n),t(4,v=d==null?void 0:d[n]),t(5,b=v?u+v.replace(/ /g,"_")+".svg":void 0);while(n>-1&&(!b||f.has(b)));i.$$.dirty&1&&t(6,r=l.id.startsWith("poi.")?(g=(S=l.properties)==null?void 0:S.categories)==null?void 0:g.join(", "):((_=(R=l.properties)==null?void 0:R.place_type_name)==null?void 0:_[0])??l.place_type[0])},t(11,n=(d==null?void 0:d.length)??0),[l,o,a,u,v,b,r,O,j,f,k,n,w,E,H]}class gi extends be{constructor(e){super(),he(this,e,mi,fi,me,{feature:0,selected:1,showPlaceType:2,missingIconsCache:9,iconsBaseUrl:3})}}function hi(i){let e;return{c(){e=U("div"),e.innerHTML='<svg viewBox="0 0 18 18" width="24" height="24" class="svelte-7cmwmc"><path fill="#333" d="M4.4 4.4l.8.8c2.1-2.1 5.5-2.1 7.6 0l.8-.8c-2.5-2.5-6.7-2.5-9.2 0z"></path><path opacity=".1" d="M12.8 12.9c-2.1 2.1-5.5 2.1-7.6 0-2.1-2.1-2.1-5.5 0-7.7l-.8-.8c-2.5 2.5-2.5 6.7 0 9.2s6.6 2.5 9.2 0 2.5-6.6 0-9.2l-.8.8c2.2 2.1 2.2 5.6 0 7.7z"></path></svg>',c(e,"class","svelte-7cmwmc")},m(t,n){z(t,e,n)},p:h,i:h,o:h,d(t){t&&A(e)}}}class bi extends be{constructor(e){super(),he(this,e,null,hi,me,{})}}function vi(i){let e,t;return{c(){e=le("svg"),t=le("path"),c(t,"d","M30.003-26.765C13.46-26.765 0-14.158 0 1.337c0 23.286 24.535 42.952 28.39 46.04.24.192.402.316.471.376.323.282.732.424 1.142.424.41 0 .82-.142 1.142-.424.068-.06.231-.183.471-.376 3.856-3.09 28.39-22.754 28.39-46.04 0-15.495-13.46-28.102-30.003-28.102Zm1.757 12.469c4.38 0 7.858 1.052 10.431 3.158 2.595 2.105 3.89 4.913 3.89 8.422 0 2.34-.53 4.362-1.593 6.063-1.063 1.702-3.086 3.616-6.063 5.742-2.042 1.51-3.337 2.659-3.89 3.446-.532.787-.8 1.82-.8 3.096v1.914h-8.449V15.18c0-2.041.434-3.815 1.306-5.325.872-1.51 2.467-3.118 4.785-4.82 2.233-1.594 3.7-2.89 4.402-3.889a5.582 5.582 0 0 0 1.087-3.35c0-1.382-.51-2.435-1.531-3.158-1.02-.723-2.45-1.087-4.28-1.087-3.19 0-6.826 1.047-10.91 3.131l-3.472-6.986c4.742-2.659 9.77-3.992 15.087-3.992Zm-1.88 37.324c1.765 0 3.124.472 4.08 1.408.98.936 1.47 2.276 1.47 4.02 0 1.68-.49 3.007-1.47 3.985-.977.957-2.336 1.435-4.08 1.435-1.787 0-3.171-.465-4.15-1.4-.978-.958-1.47-2.298-1.47-4.02 0-1.787.48-3.14 1.436-4.054.957-.915 2.355-1.374 4.184-1.374Z"),c(e,"viewBox","0 0 60.006 21.412"),c(e,"width","14"),c(e,"height","20"),c(e,"class","svelte-en2qvf")},m(n,r){z(n,e,r),T(e,t)},p:h,i:h,o:h,d(n){n&&A(e)}}}class _i extends be{constructor(e){super(),he(this,e,null,vi,me,{})}}function Li(i){let e,t;return{c(){e=le("svg"),t=le("path"),c(t,"d","M13.101 14.261 8.74 9.899a4.797 4.797 0 0 1-1.425.748 5.165 5.165 0 0 1-1.603.248c-1.446 0-2.677-.5-3.693-1.503S.495 7.164.495 5.717c0-1.446.508-2.678 1.524-3.693C3.035 1.008 4.266.5 5.712.5c1.448 0 2.672.508 3.675 1.524 1.002 1.015 1.503 2.247 1.503 3.693 0 .558-.08 1.092-.239 1.603-.159.512-.411.98-.757 1.405l4.382 4.4a.74.74 0 0 1 .229.568.81.81 0 0 1-.249.568.787.787 0 0 1-.577.239.787.787 0 0 1-.578-.239ZM5.712 9.223c.97 0 1.796-.342 2.48-1.026a3.378 3.378 0 0 0 1.026-2.48c0-.982-.34-1.818-1.016-2.509-.677-.69-1.507-1.035-2.49-1.035a3.42 3.42 0 0 0-2.509 1.035 3.42 3.42 0 0 0-1.035 2.51c0 .982.345 1.812 1.035 2.488.691.678 1.527 1.017 2.51 1.017Z"),c(e,"width","14"),c(e,"height","14"),c(e,"viewBox","0 0 15 15"),c(e,"class","svelte-en2qvf")},m(n,r){z(n,e,r),T(e,t)},p:h,i:h,o:h,d(n){n&&A(e)}}}class yi extends be{constructor(e){super(),he(this,e,null,Li,me,{})}}function wi(i,e,t){const n=e[1],r=e[0],l=n-r;return i===n&&t?i:((i-r)%l+l)%l+r}function Lt(i){const e=[...i];return e[2]<e[0]&&(e[2]+=360),e}let Oe;async function Ei(i,e,t){const n=i==null?void 0:i.getCenterAndZoom();for(const r of e??[])if(!(n&&(r.minZoom!=null&&r.minZoom>n[0]||r.maxZoom!=null&&r.maxZoom<n[0]))){if(r.type==="fixed")return r.coordinates.join(",");e:if(r.type==="client-geolocation"){if(Oe&&r.cachedLocationExpiry&&Oe.time+r.cachedLocationExpiry>Date.now()){if(!Oe.coords)break e;return Oe.coords}let l;try{return l=await new Promise((o,a)=>{t.signal.addEventListener("abort",()=>{a(Error("aborted"))}),navigator.geolocation.getCurrentPosition(f=>{o([f.coords.longitude,f.coords.latitude].map(u=>u.toFixed(6)).join(","))},f=>{a(f)},r)}),l}catch{}finally{r.cachedLocationExpiry&&(Oe={time:Date.now(),coords:l})}if(t.signal.aborted)return}if(r.type==="server-geolocation")return"ip";if(n&&r.type==="map-center")return n[1].toFixed(6)+","+n[2].toFixed(6)}}const yt=/(NORTH|SOUTH|[NS])?[\s]*([+-]?[0-8]?[0-9](?:[\.,]\d{3,}))[\s]*([•º°]?)[\s]*(NORTH|SOUTH|[NS])?[\s]*[,/;]?[\s]*(EAST|WEST|[EW])?[\s]*([+-]?[0-1]?[0-9]?[0-9](?:[\.,]\d{3,}))[\s]*([•º°]?)[\s]*(EAST|WEST|[EW])?/i,wt=/(NORTH|SOUTH|[NS])?\s*([+-]?[0-8]?[0-9])\s*(\.)\s*([0-5]?[0-9])\s*(\.)\s*((?:[0-5]?[0-9])(?:[\.,]\d{1,3})?)?\s*(NORTH|SOUTH|[NS])?(?:\s*[,/;]\s*|\s*)(EAST|WEST|[EW])?\s*([+-]?[0-1]?[0-9]?[0-9])\s*(\.)\s*([0-5]?[0-9])\s*(\.)\s*((?:[0-5]?[0-9])(?:[\.,]\d{1,3})?)?\s*(EAST|WEST|[EW])?/i,Et=/(NORTH|SOUTH|[NS])?\s*([+-]?[0-8]?[0-9])\s*(D(?:EG)?(?:REES)?)\s*([0-5]?[0-9])\s*(M(?:IN)?(?:UTES)?)\s*((?:[0-5]?[0-9])(?:[\.,]\d{1,3})?)?\s*(S(?:EC)?(?:ONDS)?)?\s*(NORTH|SOUTH|[NS])?(?:\s*[,/;]\s*|\s*)(EAST|WEST|[EW])?\s*([+-]?[0-1]?[0-9]?[0-9])\s*(D(?:EG)?(?:REES)?)\s*([0-5]?[0-9])\s*(M(?:IN)?(?:UTES)?)\s*((?:[0-5]?[0-9])(?:[\.,]\d{1,3})?)?\s*(S(?:EC)?(?:ONDS)?)\s*(EAST|WEST|[EW])?/i,St=/(NORTH|SOUTH|[NS])?\s*([+-]?[0-8]?[0-9])\s*([•º°\.:]|D(?:EG)?(?:REES)?)?\s*,?([0-5]?[0-9](?:[\.,]\d{1,})?)?\s*(['′´’\.:]|M(?:IN)?(?:UTES)?)?\s*,?((?:[0-5]?[0-9])(?:[\.,]\d{1,3})?)?\s*(''|′′|’’|´´|["″”\.])?\s*(NORTH|SOUTH|[NS])?(?:\s*[,/;]\s*|\s*)(EAST|WEST|[EW])?\s*([+-]?[0-1]?[0-9]?[0-9])\s*([•º°\.:]|D(?:EG)?(?:REES)?)?\s*,?([0-5]?[0-9](?:[\.,]\d{1,})?)?\s*(['′´’\.:]|M(?:IN)?(?:UTES)?)?\s*,?((?:[0-5]?[0-9])(?:[\.,]\d{1,3})?)?\s*(''|′′|´´|’’|["″”\.])?\s*(EAST|WEST|[EW])?/i;function Si(i){if(!["DMS","DM","DD"].includes(i))throw new Error("invalid format specified");if(this.decimalCoordinates&&this.decimalCoordinates.trim()){if(i=="DD")return this.decimalCoordinates;const e=this.decimalCoordinates.split(",").map(o=>Number(o.trim()));let t=pt(e[0],i),n=pt(e[1],i);t.endsWith('.0"')&&n.endsWith('.0"')&&(t=t.replace(/\.0"$/,'"'),n=n.replace(/\.0"$/,'"'));const r=e[0]>=0?" N":" S",l=e[1]>=0?" E":" W";return`${t+r}, ${n+l}`}else throw new Error("no decimal coordinates to convert")}function pt(i,e){const t=Math.abs(i),n=Math.floor(t),r=(t-n)*60;if(e=="DM"){let a=pi(r,3).toFixed(3).padStart(6,"0");return`${n}° ${a}'`}let l=Math.floor(r),o=((r-l)*60).toFixed(1).padStart(4,"0");return l=l.toString().padStart(2,"0"),`${n}° ${l}' ${o}"`}function pi(i,e){const t=Math.pow(10,e);return Math.round((i+Number.EPSILON)*t)/t}function Ke(i,e){e||(e=5),i=i.replace(/\s+/g," ").trim();let t=null,n=null,r="",l="",o=[],a=!1;if(yt.test(i))if(o=yt.exec(i),a=Be(o),a){if(t=o[2],n=o[6],t.includes(",")&&(t=t.replace(",",".")),n.includes(",")&&(n=n.replace(",",".")),Number(Math.round(t))==Number(t))throw new Error("integer only coordinate provided");if(Number(Math.round(n))==Number(n))throw new Error("integer only coordinate provided");o[1]?(r=o[1],l=o[5]):o[4]&&(r=o[4],l=o[8])}else throw new Error("invalid decimal coordinate format");else if(wt.test(i))if(o=wt.exec(i),a=Be(o),a)t=Math.abs(parseInt(o[2])),o[4]&&(t+=o[4]/60),o[6]&&(t+=o[6].replace(",",".")/3600),parseInt(o[2])<0&&(t=-1*t),n=Math.abs(parseInt(o[9])),o[11]&&(n+=o[11]/60),o[13]&&(n+=o[13].replace(",",".")/3600),parseInt(o[9])<0&&(n=-1*n),o[1]?(r=o[1],l=o[8]):o[7]&&(r=o[7],l=o[14]);else throw new Error("invalid DMS coordinates format");else if(Et.test(i))if(o=Et.exec(i),a=Be(o),a)t=Math.abs(parseInt(o[2])),o[4]&&(t+=o[4]/60),o[6]&&(t+=o[6]/3600),parseInt(o[2])<0&&(t=-1*t),n=Math.abs(parseInt(o[10])),o[12]&&(n+=o[12]/60),o[14]&&(n+=o[14]/3600),parseInt(o[10])<0&&(n=-1*n),o[1]?(r=o[1],l=o[9]):o[8]&&(r=o[8],l=o[16]);else throw new Error("invalid DMS coordinates format");else if(St.test(i))if(o=St.exec(i),a=Be(o),a)t=Math.abs(parseInt(o[2])),o[4]&&(t+=o[4]/60),o[6]&&(t+=o[6]/3600),parseInt(o[2])<0&&(t=-1*t),n=Math.abs(parseInt(o[10])),o[12]&&(n+=o[12]/60),o[14]&&(n+=o[14]/3600),parseInt(o[10])<0&&(n=-1*n),o[1]?(r=o[1],l=o[9]):o[8]&&(r=o[8],l=o[16]);else throw new Error("invalid coordinates format");if(a){if(Math.abs(n)>=180)throw new Error("invalid longitude value");if(Math.abs(t)>=90)throw new Error("invalid latitude value");if((r||l)&&(!r||!l))throw new Error("invalid coordinates format");if(r&&r==l)throw new Error("invalid coordinates format");let f=/S|SOUTH/i;f.test(r)&&t>0&&(t=-1*t),f=/W|WEST/i,f.test(l)&&n>0&&(n=-1*n);const u=o[0].trim();let d,v;const b=/[,/;\u0020]/g,k=u.match(b);if(k==null){const w=Math.floor(i.length/2);d=u.substring(0,w).trim(),v=u.substring(w).trim()}else{let w;k.length%2==1?w=Math.floor(k.length/2):w=k.length/2-1;let E=0;if(w==0)E=u.indexOf(k[0]),d=u.substring(0,E).trim(),v=u.substring(E+1).trim();else{let H=0,I=0;for(;H<=w;)E=u.indexOf(k[H],I),I=E+1,H++;d=u.substring(0,E).trim(),v=u.substring(E+1).trim()}}const O=d.split(".");if(O.length==2&&O[1]==0&&O[1].length!=2)throw new Error("invalid coordinates format");const j=v.split(".");if(j.length==2&&j[1]==0&&j[1].length!=2)throw new Error("invalid coordinates format");if(/^\d+$/.test(d)||/^\d+$/.test(v))throw new Error("degree only coordinate/s provided");return isNaN(t)&&t.includes(",")&&(t=t.replace(",",".")),t=Number(Number(t).toFixed(e)),isNaN(n)&&n.includes(",")&&(n=n.replace(",",".")),n=Number(Number(n).toFixed(e)),Object.freeze({verbatimCoordinates:u,verbatimLatitude:d,verbatimLongitude:v,decimalLatitude:t,decimalLongitude:n,decimalCoordinates:`${t},${n}`,closeEnough:ki,toCoordinateFormat:Si})}else throw new Error("coordinates pattern match failed")}function Be(i){if(!isNaN(i[0]))return!1;const e=[...i];if(e.shift(),e.length%2>0)return!1;const t=/^[-+]?\d+([\.,]\d+)?$/,n=/[eastsouthnorthwest]+/i,r=e.length/2;for(let l=0;l<r;l++){const o=e[l],a=e[l+r],f=t.test(o)&&t.test(a),u=n.test(o)&&n.test(a),d=o==a;if(!(o==null&&a==null)){if(o==null||a==null)return!1;if(f||u||d)continue;return!1}}return!0}function kt(i,e){const t=Math.abs(i-e);return Number(t.toFixed(6))<=1e-5}function ki(i){if(i.includes(",")){const e=i.split(",");if(Number(e[0])==NaN||Number(e[1])==NaN)throw new Error("coords are not valid decimals");return kt(this.decimalLatitude,Number(e[0]))&&kt(this.decimalLongitude,e[1])}else throw new Error("coords being tested must be separated by a comma")}const Ni=Object.freeze({DMS:"DMS",DM:"DM",DD:"DD"});Ke.to=Ni;const Ci=[{verbatimCoordinates:"40.123, -74.123",verbatimLatitude:"40.123",verbatimLongitude:"-74.123"},{verbatimCoordinates:"40.123° N 74.123° W",verbatimLatitude:"40.123° N",verbatimLongitude:"74.123° W"},{verbatimCoordinates:"40.123° N 74.123° W",verbatimLatitude:"40.123° N",verbatimLongitude:"74.123° W"},{verbatimCoordinates:'40° 7´ 22.8" N 74° 7´ 22.8" W',verbatimLatitude:'40° 7´ 22.8" N',verbatimLongitude:'74° 7´ 22.8" W'},{verbatimCoordinates:"40° 7.38’ , -74° 7.38’",verbatimLatitude:"40° 7.38’",verbatimLongitude:"-74° 7.38’"},{verbatimCoordinates:"N40°7’22.8’’, W74°7’22.8’’",verbatimLatitude:"N40°7’22.8’’",verbatimLongitude:"W74°7’22.8’’"},{verbatimCoordinates:'40°7’22.8"N, 74°7’22.8"W',verbatimLatitude:'40°7’22.8"N',verbatimLongitude:'74°7’22.8"W'},{verbatimCoordinates:`40°7'22.8"N, 74°7'22.8"W`,verbatimLatitude:`40°7'22.8"N`,verbatimLongitude:`74°7'22.8"W`},{verbatimCoordinates:"40 7 22.8, -74 7 22.8",verbatimLatitude:"40 7 22.8",verbatimLongitude:"-74 7 22.8"},{verbatimCoordinates:"40.123 -74.123",verbatimLatitude:"40.123",verbatimLongitude:"-74.123"},{verbatimCoordinates:"40.123°,-74.123°",verbatimLatitude:"40.123°",verbatimLongitude:"-74.123°"},{verbatimCoordinates:"40.123N74.123W",verbatimLatitude:"40.123N",verbatimLongitude:"74.123W"},{verbatimCoordinates:"4007.38N7407.38W",verbatimLatitude:"4007.38N",verbatimLongitude:"7407.38W"},{verbatimCoordinates:'40°7’22.8"N, 74°7’22.8"W',verbatimLatitude:'40°7’22.8"N',verbatimLongitude:'74°7’22.8"W'},{verbatimCoordinates:"400722.8N740722.8W",verbatimLatitude:"400722.8N",verbatimLongitude:"740722.8W"},{verbatimCoordinates:"N 40 7.38 W 74 7.38",verbatimLatitude:"N 40 7.38",verbatimLongitude:"W 74 7.38"},{verbatimCoordinates:"40:7:22.8N 74:7:22.8W",verbatimLatitude:"40:7:22.8N",verbatimLongitude:"74:7:22.8W"},{verbatimCoordinates:"40:7:23N,74:7:23W",verbatimLatitude:"40:7:23N",verbatimLongitude:"74:7:23W",decimalLatitude:40.1230555555,decimalLongitude:-74.1230555555},{verbatimCoordinates:'40°7’23"N 74°7’23"W',verbatimLatitude:'40°7’23"N',verbatimLongitude:'74°7’23"W',decimalLatitude:40.1230555555,decimalLongitude:-74.12305555555555},{verbatimCoordinates:'40°7’23"S 74°7’23"E',verbatimLatitude:'40°7’23"S',verbatimLongitude:'74°7’23"E',decimalLatitude:-40.1230555555,decimalLongitude:74.12305555555555},{verbatimCoordinates:'40°7’23" -74°7’23"',verbatimLatitude:'40°7’23"',verbatimLongitude:'-74°7’23"',decimalLatitude:40.1230555555,decimalLongitude:-74.123055555},{verbatimCoordinates:'40d 7’ 23" N 74d 7’ 23" W',verbatimLatitude:'40d 7’ 23" N',verbatimLongitude:'74d 7’ 23" W',decimalLatitude:40.1230555555,decimalLongitude:-74.123055555},{verbatimCoordinates:"40.123N 74.123W",verbatimLatitude:"40.123N",verbatimLongitude:"74.123W"},{verbatimCoordinates:"40° 7.38, -74° 7.38",verbatimLatitude:"40° 7.38",verbatimLongitude:"-74° 7.38"},{verbatimCoordinates:"40° 7.38, -74° 7.38",verbatimLatitude:"40° 7.38",verbatimLongitude:"-74° 7.38"},{verbatimCoordinates:"40 7 22.8; -74 7 22.8",verbatimLatitude:"40 7 22.8",verbatimLongitude:"-74 7 22.8"}],Ti={decimalLatitude:40.123,decimalLongitude:-74.123},Mi=[{verbatimCoordinates:`50°4'17.698"south, 14°24'2.826"east`,verbatimLatitude:`50°4'17.698"south`,verbatimLongitude:`14°24'2.826"east`,decimalLatitude:-50.07158277777778,decimalLongitude:14.400785},{verbatimCoordinates:"50d4m17.698S 14d24m2.826E",verbatimLatitude:"50d4m17.698S",verbatimLongitude:"14d24m2.826E",decimalLatitude:-50.07158277777778,decimalLongitude:14.400785},{verbatimCoordinates:"40:26:46N,79:56:55W",verbatimLatitude:"40:26:46N",verbatimLongitude:"79:56:55W",decimalLatitude:40.44611111111111,decimalLongitude:-79.9486111111111},{verbatimCoordinates:"40:26:46.302N 79:56:55.903W",verbatimLatitude:"40:26:46.302N",verbatimLongitude:"79:56:55.903W",decimalLatitude:40.446195,decimalLongitude:-79.94886194444445},{verbatimCoordinates:"40°26′47″N 79°58′36″W",verbatimLatitude:"40°26′47″N",verbatimLongitude:"79°58′36″W",decimalLatitude:40.44638888888889,decimalLongitude:-79.97666666666667},{verbatimCoordinates:"40d 26′ 47″ N 79d 58′ 36″ W",verbatimLatitude:"40d 26′ 47″ N",verbatimLongitude:"79d 58′ 36″ W",decimalLatitude:40.44638888888889,decimalLongitude:-79.97666666666667},{verbatimCoordinates:"40.446195N 79.948862W",verbatimLatitude:"40.446195N",verbatimLongitude:"79.948862W",decimalLatitude:40.446195,decimalLongitude:-79.948862},{verbatimCoordinates:"40,446195° 79,948862°",verbatimLatitude:"40,446195°",verbatimLongitude:"79,948862°",decimalLatitude:40.446195,decimalLongitude:79.948862},{verbatimCoordinates:"40° 26.7717, -79° 56.93172",verbatimLatitude:"40° 26.7717",verbatimLongitude:"-79° 56.93172",decimalLatitude:40.446195,decimalLongitude:-79.948862},{verbatimCoordinates:"40.446195, -79.948862",verbatimLatitude:"40.446195",verbatimLongitude:"-79.948862",decimalLatitude:40.446195,decimalLongitude:-79.948862},{verbatimCoordinates:"40.123256; -74.123256",verbatimLatitude:"40.123256",verbatimLongitude:"-74.123256",decimalLatitude:40.123256,decimalLongitude:-74.123256},{verbatimCoordinates:"18°24S 22°45E",verbatimLatitude:"18°24S",verbatimLongitude:"22°45E",decimalLatitude:-18.4,decimalLongitude:22.75}],Wi=[{verbatimCoordinates:"10.432342S 10.6345345E",verbatimLatitude:"10.432342S",verbatimLongitude:"10.6345345E",decimalLatitude:-10.432342,decimalLongitude:10.6345345},{verbatimCoordinates:"10.00S 10.00E",verbatimLatitude:"10.00S",verbatimLongitude:"10.00E",decimalLatitude:-10,decimalLongitude:10},{verbatimCoordinates:"00.00S 01.00E",verbatimLatitude:"00.00S",verbatimLongitude:"01.00E",decimalLatitude:0,decimalLongitude:1},{verbatimCoordinates:"18.24S 22.45E",verbatimLatitude:"18.24S",verbatimLongitude:"22.45E",decimalLatitude:-18.4,decimalLongitude:22.75},{verbatimCoordinates:"27deg 15min 45.2sec S 18deg 32min 53.7sec E",verbatimLatitude:"27deg 15min 45.2sec S",verbatimLongitude:"18deg 32min 53.7sec E",decimalLatitude:-27.262555555555554,decimalLongitude:18.54825},{verbatimCoordinates:"-23.3245° S / 28.2344° E",verbatimLatitude:"-23.3245° S",verbatimLongitude:"28.2344° E",decimalLatitude:-23.3245,decimalLongitude:28.2344},{verbatimCoordinates:"40° 26.7717 -79° 56.93172",verbatimLatitude:"40° 26.7717",verbatimLongitude:"-79° 56.93172",decimalLatitude:40.446195,decimalLongitude:-79.948862},{verbatimCoordinates:"27.15.45S 18.32.53E",verbatimLatitude:"27.15.45S",verbatimLongitude:"18.32.53E",decimalLatitude:-27.2625,decimalLongitude:18.548055},{verbatimCoordinates:"-27.15.45 18.32.53",verbatimLatitude:"-27.15.45",verbatimLongitude:"18.32.53",decimalLatitude:-27.2625,decimalLongitude:18.548055},{verbatimCoordinates:"27.15.45.2S 18.32.53.4E",verbatimLatitude:"27.15.45.2S",verbatimLongitude:"18.32.53.4E",decimalLatitude:-27.262556,decimalLongitude:18.548167},{verbatimCoordinates:"27.15.45,2S 18.32.53,4E",verbatimLatitude:"27.15.45,2S",verbatimLongitude:"18.32.53,4E",decimalLatitude:-27.262556,decimalLongitude:18.548167},{verbatimCoordinates:"S23.43563 °  E22.45634 °",verbatimLatitude:"S23.43563 °",verbatimLongitude:"E22.45634 °",decimalLatitude:-23.43563,decimalLongitude:22.45634},{verbatimCoordinates:"27,71372° S 23,07771° E",verbatimLatitude:"27,71372° S",verbatimLongitude:"23,07771° E",decimalLatitude:-27.71372,decimalLongitude:23.07771},{verbatimCoordinates:"27.45.34 S 23.23.23 E",verbatimLatitude:"27.45.34 S",verbatimLongitude:"23.23.23 E",decimalLatitude:-27.759444,decimalLongitude:23.38972222},{verbatimCoordinates:"S 27.45.34 E 23.23.23",verbatimLatitude:"S 27.45.34",verbatimLongitude:"E 23.23.23",decimalLatitude:-27.759444,decimalLongitude:23.38972222}];function Oi(){const i=[];return Ci.forEach(e=>{e.decimalLatitude?i.push(e):i.push({...e,...Ti})}),[...i,...Mi,...Wi]}const Ii=Oi();Ke.formats=Ii.map(i=>i.verbatimCoordinates);const Ri=Ke;function Nt(i,e,t){const n=i.slice();return n[81]=e[t],n[83]=t,n}function Ct(i){let e,t;return e=new bi({}),{c(){de(e.$$.fragment)},m(n,r){oe(e,n,r),t=!0},i(n){t||(P(e.$$.fragment,n),t=!0)},o(n){q(e.$$.fragment,n),t=!1},d(n){se(e,n)}}}function Tt(i){let e,t,n,r,l;return t=new _i({}),{c(){e=U("button"),de(t.$$.fragment),c(e,"type","button"),c(e,"title",i[9]),c(e,"class","svelte-1r7dvt7"),ue(e,"active",i[0])},m(o,a){z(o,e,a),oe(t,e,null),n=!0,r||(l=K(e,"click",i[67]),r=!0)},p(o,a){(!n||a[0]&512)&&c(e,"title",o[9]),(!n||a[0]&1)&&ue(e,"active",o[0])},i(o){n||(P(t.$$.fragment,o),n=!0)},o(o){q(t.$$.fragment,o),n=!1},d(o){o&&A(e),se(t),r=!1,l()}}}function Ui(i){let e,t=[],n=new Map,r,l,o,a=ht(i[14]);const f=u=>u[81].id+(u[81].address?","+u[81].address:"");for(let u=0;u<a.length;u+=1){let d=Nt(i,a,u),v=f(d);n.set(v,t[u]=Mt(v,d))}return{c(){e=U("ul");for(let u=0;u<t.length;u+=1)t[u].c();c(e,"class","svelte-1r7dvt7")},m(u,d){z(u,e,d);for(let v=0;v<t.length;v+=1)t[v]&&t[v].m(e,null);r=!0,l||(o=[K(e,"mouseleave",i[71]),K(e,"blur",i[72])],l=!0)},p(u,d){d[0]&17880064&&(a=ht(u[14]),De(),t=$t(t,d,f,1,u,a,n,e,xt,Mt,null,Nt),Ae())},i(u){if(!r){for(let d=0;d<a.length;d+=1)P(t[d]);r=!0}},o(u){for(let d=0;d<t.length;d+=1)q(t[d]);r=!1},d(u){u&&A(e);for(let d=0;d<t.length;d+=1)t[d].d();l=!1,re(o)}}}function Di(i){let e,t,n,r,l,o;return t=new vt({}),{c(){e=U("div"),de(t.$$.fragment),n=X(),r=U("div"),l=ce(i[7]),c(r,"class","svelte-1r7dvt7"),c(e,"class","no-results svelte-1r7dvt7")},m(a,f){z(a,e,f),oe(t,e,null),T(e,n),T(e,r),T(r,l),o=!0},p(a,f){(!o||f[0]&128)&&Te(l,a[7])},i(a){o||(P(t.$$.fragment,a),o=!0)},o(a){q(t.$$.fragment,a),o=!1},d(a){a&&A(e),se(t)}}}function Ai(i){let e="",t;return{c(){t=ce(e)},m(n,r){z(n,t,r)},p:h,i:h,o:h,d(n){n&&A(t)}}}function Bi(i){let e,t,n,r,l,o,a,f,u,d,v;return t=new vt({}),f=new bt({}),{c(){e=U("div"),de(t.$$.fragment),n=X(),r=U("div"),l=ce(i[6]),o=X(),a=U("button"),de(f.$$.fragment),c(r,"class","svelte-1r7dvt7"),c(a,"class","svelte-1r7dvt7"),c(e,"class","error svelte-1r7dvt7")},m(b,k){z(b,e,k),oe(t,e,null),T(e,n),T(e,r),T(r,l),T(e,o),T(e,a),oe(f,a,null),u=!0,d||(v=K(a,"click",i[68]),d=!0)},p(b,k){(!u||k[0]&64)&&Te(l,b[6])},i(b){u||(P(t.$$.fragment,b),P(f.$$.fragment,b),u=!0)},o(b){q(t.$$.fragment,b),q(f.$$.fragment,b),u=!1},d(b){b&&A(e),se(t),se(f),d=!1,v()}}}function Mt(i,e){let t,n,r;function l(){return e[69](e[83])}function o(){return e[70](e[81])}return n=new gi({props:{feature:e[81],showPlaceType:e[10],selected:e[15]===e[83],missingIconsCache:e[20],iconsBaseUrl:e[12]}}),n.$on("mouseenter",l),n.$on("focus",o),{key:i,first:null,c(){t=Ht(),de(n.$$.fragment),this.first=t},m(a,f){z(a,t,f),oe(n,a,f),r=!0},p(a,f){e=a;const u={};f[0]&16384&&(u.feature=e[81]),f[0]&1024&&(u.showPlaceType=e[10]),f[0]&49152&&(u.selected=e[15]===e[83]),f[0]&4096&&(u.iconsBaseUrl=e[12]),n.$set(u)},i(a){r||(P(n.$$.fragment,a),r=!0)},o(a){q(n.$$.fragment,a),r=!1},d(a){a&&A(t),se(n,a)}}}function zi(i){let e,t,n,r,l,o,a,f,u,d,v,b,k,O,j,w,E,H,I,S,g,R=!1;l=new yi({}),v=new bt({});let _=i[19]&&Ct(),N=i[5]===!0&&Tt(i);const m=i[59].default,y=zt(m,i,i[58],null),$=[Bi,Ai,Di,Ui],W=[];function Ee(L,F){var J,Se;return L[18]?0:L[16]?((J=L[14])==null?void 0:J.length)===0?2:L[16]&&((Se=L[14])!=null&&Se.length)?3:-1:1}return~(w=Ee(i))&&(E=W[w]=$[w](i)),{c(){e=X(),t=U("form"),n=U("div"),r=U("button"),de(l.$$.fragment),o=X(),a=U("input"),f=X(),u=U("div"),d=U("button"),de(v.$$.fragment),b=X(),_&&_.c(),k=X(),N&&N.c(),O=X(),y&&y.c(),j=X(),E&&E.c(),c(r,"class","search-button svelte-1r7dvt7"),c(r,"type","button"),c(a,"placeholder",i[8]),c(a,"aria-label",i[8]),c(a,"class","svelte-1r7dvt7"),c(d,"type","button"),c(d,"title",i[3]),c(d,"class","svelte-1r7dvt7"),c(u,"class","clear-button-container svelte-1r7dvt7"),ue(u,"displayable",i[1]!==""),c(n,"class","input-group svelte-1r7dvt7"),c(t,"tabindex","0"),c(t,"class",H=ct(i[2])+" svelte-1r7dvt7"),ue(t,"can-collapse",i[4]&&i[1]==="")},m(L,F){z(L,e,F),z(L,t,F),T(t,n),T(n,r),oe(l,r,null),T(n,o),T(n,a),i[61](a),ut(a,i[1]),T(n,f),T(n,u),T(u,d),oe(v,d,null),T(u,b),_&&_.m(u,null),T(n,k),N&&N.m(n,null),T(n,O),y&&y.m(n,null),T(t,j),~w&&W[w].m(t,null),I=!0,S||(g=[K(r,"click",i[60]),K(a,"input",i[62]),K(a,"focus",i[63]),K(a,"blur",i[64]),K(a,"keydown",i[22]),K(a,"input",i[65]),K(d,"click",i[66]),K(t,"submit",Zt(i[21]))],S=!0)},p(L,F){(!I||F[0]&256)&&c(a,"placeholder",L[8]),(!I||F[0]&256)&&c(a,"aria-label",L[8]),F[0]&2&&a.value!==L[1]&&ut(a,L[1]),(!I||F[0]&8)&&c(d,"title",L[3]),L[19]?_?F[0]&524288&&P(_,1):(_=Ct(),_.c(),P(_,1),_.m(u,null)):_&&(De(),q(_,1,1,()=>{_=null}),Ae()),(!I||F[0]&2)&&ue(u,"displayable",L[1]!==""),L[5]===!0?N?(N.p(L,F),F[0]&32&&P(N,1)):(N=Tt(L),N.c(),P(N,1),N.m(n,O)):N&&(De(),q(N,1,1,()=>{N=null}),Ae()),y&&y.p&&(!I||F[1]&134217728)&&Pt(y,m,L,L[58],I?Ft(m,L[58],F,null):jt(L[58]),null);let J=w;w=Ee(L),w===J?~w&&W[w].p(L,F):(E&&(De(),q(W[J],1,1,()=>{W[J]=null}),Ae()),~w?(E=W[w],E?E.p(L,F):(E=W[w]=$[w](L),E.c()),P(E,1),E.m(t,null)):E=null),(!I||F[0]&4&&H!==(H=ct(L[2])+" svelte-1r7dvt7"))&&c(t,"class",H),(!I||F[0]&22)&&ue(t,"can-collapse",L[4]&&L[1]==="")},i(L){I||(P(R),P(l.$$.fragment,L),P(v.$$.fragment,L),P(_),P(N),P(y,L),P(E),I=!0)},o(L){q(R),q(l.$$.fragment,L),q(v.$$.fragment,L),q(_),q(N),q(y,L),q(E),I=!1},d(L){L&&(A(e),A(t)),se(l),i[61](null),se(v),_&&_.d(),N&&N.d(),y&&y.d(L),~w&&W[w].d(),S=!1,re(g)}}}function Fi(i,e,t){let n,{$$slots:r={},$$scope:l}=e,{class:o=void 0}=e,{apiKey:a}=e,{bbox:f=void 0}=e,{clearButtonTitle:u="clear"}=e,{clearOnBlur:d=!1}=e,{collapsed:v=!1}=e,{country:b=void 0}=e,{debounceSearch:k=200}=e,{enableReverse:O=!1}=e,{errorMessage:j="Something went wrong…"}=e,{filter:w=()=>!0}=e,{flyTo:E=!0}=e,{fuzzyMatch:H=!0}=e,{language:I=void 0}=e,{limit:S=void 0}=e,{mapController:g=void 0}=e,{minLength:R=2}=e,{noResultsMessage:_="Oops! Looks like you're trying to predict something that's not quite right. We can't seem to find what you're looking for. Maybe try double-checking your spelling or try a different search term. Keep on typing - we'll do our best to get you where you need to go!"}=e,{placeholder:N="Search"}=e,{proximity:m=[{type:"server-geolocation"}]}=e,{reverseActive:y=O==="always"}=e,{reverseButtonTitle:$="toggle reverse geocoding"}=e,{searchValue:W=""}=e,{showFullGeometry:Ee=!0}=e,{showPlaceType:L="ifNeeded"}=e,{showResultsWhileTyping:F=!0}=e,{selectFirst:J=!0}=e,{flyToSelected:Se=!1}=e,{markerOnSelected:ze=!0}=e,{types:ve=void 0}=e,{excludeTypes:Fe=!1}=e,{zoom:Ie=16}=e,{maxZoom:pe=18}=e,{apiUrl:Je="https://api.maptiler.com/geocoding"}=e,{fetchParameters:Xe={}}=e,{iconsBaseUrl:Wt="https://cdn.maptiler.com/maptiler-geocoding-control/v1.2.0/icons/"}=e,{adjustUrlQuery:Ye=s=>{}}=e;function Zi(){ee.focus()}function Gi(){ee.blur()}function Ot(s,G=!0){t(1,W=s),G?(t(15,B=-1),Rt()):(tt(),setTimeout(()=>{ee.focus(),ee.select()}))}function Qi(){t(14,C=void 0),t(55,p=void 0),t(15,B=-1)}function qi(){t(54,Z=[]),t(55,p=void 0)}let ke=!1,C,Z,p,It="",ee,B=-1,te,Pe=[],_e,Ne,je,xe;const Vi=new Set,fe=Vt();qt(()=>{g&&(g.setEventHandler(void 0),g.indicateReverse(!1),g.setSelectedMarker(-1),g.setMarkers(void 0,void 0))});function Rt(s){if(Ne&&(clearTimeout(Ne),Ne=void 0),B>-1&&C)t(55,p=C[B]),t(1,W=p.place_type[0]==="reverse"?p.place_name:p.place_name.replace(/,.*/,"")),t(18,te=void 0),t(54,Z=void 0),t(15,B=-1);else if(W){const G=s||!$e(W);et(W,{exact:!0}).then(()=>{t(54,Z=C),t(55,p=void 0),G&&Ki()}).catch(ie=>t(18,te=ie))}}function $e(s){try{return Ri(s,6)}catch{return!1}}async function et(s,{byId:G=!1,exact:ie=!1}={}){t(18,te=void 0),_e==null||_e.abort();const ne=new AbortController;t(19,_e=ne);try{const M=$e(s),x=new URLSearchParams;if(I!==void 0&&x.set("language",Array.isArray(I)?I.join(","):I??""),ve&&x.set("types",ve.join(",")),Fe&&x.set("excludeTypes",String(Fe)),f&&x.set("bbox",f.map(Ze=>Ze.toFixed(6)).join(",")),b&&x.set("country",Array.isArray(b)?b.join(","):b),!G&&!M){const Ze=await Ei(g,m,ne);Ze&&x.set("proximity",Ze),(ie||!F)&&x.set("autocomplete","false"),x.set("fuzzyMatch",String(H))}S!==void 0&&(!M||(ve==null?void 0:ve.length)===1)&&x.set("limit",String(S)),x.set("key",a),Ye(x);const He=Je+"/"+encodeURIComponent(M?M.decimalLongitude+","+M.decimalLatitude:s)+".json?"+x.toString();if(He===It){G?(t(14,C=void 0),t(55,p=Pe[0])):t(14,C=Pe);return}It=He;const nt=await fetch(He,{signal:ne.signal,...Xe});if(!nt.ok)throw new Error(await nt.text());const rt=await nt.json();fe("response",{url:He,featureCollection:rt}),G?(t(14,C=void 0),t(55,p=rt.features[0]),Pe=[p]):(t(14,C=rt.features.filter(w)),M&&C.unshift({type:"Feature",properties:{},id:"reverse_"+M.decimalLongitude+"_"+M.decimalLatitude,text:M.decimalLatitude+", "+M.decimalLongitude,place_name:M.decimalLatitude+", "+M.decimalLongitude,place_type:["reverse"],center:[M.decimalLongitude,M.decimalLatitude],bbox:[M.decimalLongitude,M.decimalLatitude,M.decimalLongitude,M.decimalLatitude],geometry:{type:"Point",coordinates:[M.decimalLongitude,M.decimalLatitude]}}),Pe=C,M&&ee.focus())}catch(M){if(M&&typeof M=="object"&&"name"in M&&M.name==="AbortError")return;throw M}finally{ne===_e&&t(19,_e=void 0)}}function Ki(){var ie;if(!(Z!=null&&Z.length)||!E)return;const s=[180,90,-180,-90],G=!Z.some(ne=>!ne.matching_text);for(const ne of Z)if(G||!ne.matching_text)for(const M of[0,1,2,3])s[M]=Math[M<2?"min":"max"](s[M],((ie=ne.bbox)==null?void 0:ie[M])??ne.center[M%2]);g&&Z.length>0&&(p&&s[0]===s[2]&&s[1]===s[3]?g.flyTo(p.center,Ie):g.fitBounds(Lt(s),50,pe))}function Ji(s){t(0,y=O==="always"),t(14,C=void 0),t(55,p=void 0),t(15,B=-1),Ot(s[1].toFixed(6)+", "+wi(s[0],[-180,180],!0).toFixed(6),!1)}function Xi(s){if(!C)return;let G=s.key==="ArrowDown"?1:s.key==="ArrowUp"?-1:0;G&&(B===(J?0:-1)&&G===-1&&t(15,B=C.length),t(15,B+=G),B>=C.length&&t(15,B=-1),B<0&&J&&t(15,B=0),s.preventDefault())}function tt(s=!0){if(t(18,te=void 0),F){if(Ne&&clearTimeout(Ne),W.length<R)return;const G=W;Ne=window.setTimeout(()=>{et(G).catch(ie=>t(18,te=ie))},s?k:0)}else t(14,C=void 0),t(18,te=void 0)}function it(s){t(55,p=s),t(1,W=s.place_name),t(15,B=-1)}const Yi=()=>ee.focus();function xi(s){Ge[s?"unshift":"push"](()=>{ee=s,t(17,ee)})}function $i(){W=this.value,t(1,W),t(13,ke),t(27,d)}const en=()=>t(13,ke=!0),tn=()=>t(13,ke=!1),nn=()=>tt(),rn=()=>{t(1,W=""),ee.focus()},on=()=>t(0,y=!y),sn=()=>t(18,te=void 0),an=s=>t(15,B=s),ln=s=>it(s),cn=()=>{J||t(15,B=-1)},un=()=>{};return i.$$set=s=>{"class"in s&&t(2,o=s.class),"apiKey"in s&&t(25,a=s.apiKey),"bbox"in s&&t(26,f=s.bbox),"clearButtonTitle"in s&&t(3,u=s.clearButtonTitle),"clearOnBlur"in s&&t(27,d=s.clearOnBlur),"collapsed"in s&&t(4,v=s.collapsed),"country"in s&&t(28,b=s.country),"debounceSearch"in s&&t(29,k=s.debounceSearch),"enableReverse"in s&&t(5,O=s.enableReverse),"errorMessage"in s&&t(6,j=s.errorMessage),"filter"in s&&t(30,w=s.filter),"flyTo"in s&&t(31,E=s.flyTo),"fuzzyMatch"in s&&t(32,H=s.fuzzyMatch),"language"in s&&t(33,I=s.language),"limit"in s&&t(34,S=s.limit),"mapController"in s&&t(35,g=s.mapController),"minLength"in s&&t(36,R=s.minLength),"noResultsMessage"in s&&t(7,_=s.noResultsMessage),"placeholder"in s&&t(8,N=s.placeholder),"proximity"in s&&t(37,m=s.proximity),"reverseActive"in s&&t(0,y=s.reverseActive),"reverseButtonTitle"in s&&t(9,$=s.reverseButtonTitle),"searchValue"in s&&t(1,W=s.searchValue),"showFullGeometry"in s&&t(38,Ee=s.showFullGeometry),"showPlaceType"in s&&t(10,L=s.showPlaceType),"showResultsWhileTyping"in s&&t(39,F=s.showResultsWhileTyping),"selectFirst"in s&&t(11,J=s.selectFirst),"flyToSelected"in s&&t(40,Se=s.flyToSelected),"markerOnSelected"in s&&t(41,ze=s.markerOnSelected),"types"in s&&t(42,ve=s.types),"excludeTypes"in s&&t(43,Fe=s.excludeTypes),"zoom"in s&&t(44,Ie=s.zoom),"maxZoom"in s&&t(45,pe=s.maxZoom),"apiUrl"in s&&t(46,Je=s.apiUrl),"fetchParameters"in s&&t(47,Xe=s.fetchParameters),"iconsBaseUrl"in s&&t(12,Wt=s.iconsBaseUrl),"adjustUrlQuery"in s&&t(48,Ye=s.adjustUrlQuery),"$$scope"in s&&t(58,l=s.$$scope)},i.$$.update=()=>{if(i.$$.dirty[0]&134225920&&setTimeout(()=>{t(16,je=ke),d&&!ke&&t(1,W="")}),i.$$.dirty[0]&16386|i.$$.dirty[1]&32&&W.length<R&&(t(55,p=void 0),t(14,C=void 0),t(18,te=void 0),t(54,Z=C)),i.$$.dirty[1]&16777344&&Ee&&p&&!p.address&&p.geometry.type==="Point"&&p.place_type[0]!=="reverse"&&et(p.id,{byId:!0}).catch(s=>t(18,te=s)),i.$$.dirty[1]&50356241&&(g&&p&&p.id!==xe&&E&&(!p.bbox||p.bbox[0]===p.bbox[2]&&p.bbox[1]===p.bbox[3]?g.flyTo(p.center,p.id.startsWith("poi.")||p.id.startsWith("address.")?pe:Ie):g.fitBounds(Lt(p.bbox),50,pe),t(14,C=void 0),t(54,Z=void 0),t(15,B=-1)),t(56,xe=p==null?void 0:p.id)),i.$$.dirty[0]&18432&&J&&C!=null&&C.length&&t(15,B=0),i.$$.dirty[0]&2050&&(J||t(15,B=-1)),i.$$.dirty[0]&16384|i.$$.dirty[1]&8388608&&Z!==C&&t(54,Z=void 0),i.$$.dirty[0]&81921|i.$$.dirty[1]&8388624&&g&&g.setEventHandler(s=>{switch(s.type){case"mapClick":y&&Ji(s.coordinates);break;case"markerClick":{const G=C==null?void 0:C.find(ie=>ie.id===s.id);G&&it(G)}break;case"markerMouseEnter":Z&&t(15,B=je?(C==null?void 0:C.findIndex(G=>G.id===s.id))??-1:-1);break;case"markerMouseLeave":Z&&t(15,B=-1);break}}),i.$$.dirty[0]&49152&&t(57,n=C==null?void 0:C[B]),i.$$.dirty[1]&67133969&&g&&n&&E&&Se&&g.flyTo(n.center,n.id.startsWith("poi.")||n.id.startsWith("address.")?pe:Ie),i.$$.dirty[1]&1040&&(ze||g==null||g.setMarkers(void 0,void 0)),i.$$.dirty[1]&75498512&&g&&ze&&!Z&&(g.setMarkers(n?[n]:void 0,void 0),g.setSelectedMarker(n?0:-1)),i.$$.dirty[1]&25165840&&g&&g.setMarkers(Z,p),i.$$.dirty[0]&32768|i.$$.dirty[1]&8388624&&Z&&g&&g.setSelectedMarker(B),i.$$.dirty[0]&2|i.$$.dirty[1]&16&&g){const s=$e(W);g.setReverseMarker(s?[s.decimalLongitude,s.decimalLatitude]:void 0)}i.$$.dirty[1]&67108864&&fe("select",n),i.$$.dirty[1]&16777216&&fe("pick",p),i.$$.dirty[0]&81920&&fe("optionsVisibilityChange",je&&!!C),i.$$.dirty[0]&16384&&fe("featuresListed",C),i.$$.dirty[1]&8388608&&fe("featuresMarked",Z),i.$$.dirty[0]&1&&fe("reverseToggle",y),i.$$.dirty[0]&2&&fe("queryChange",W),i.$$.dirty[0]&1|i.$$.dirty[1]&16&&g&&g.indicateReverse(y)},[y,W,o,u,v,O,j,_,N,$,L,J,Wt,ke,C,B,je,ee,te,_e,Vi,Rt,Xi,tt,it,a,f,d,b,k,w,E,H,I,S,g,R,m,Ee,F,Se,ze,ve,Fe,Ie,pe,Je,Xe,Ye,Zi,Gi,Ot,Qi,qi,Z,p,xe,n,l,r,Yi,xi,$i,en,tn,nn,rn,on,sn,an,ln,cn,un]}let Pi=class extends be{constructor(e){super(),he(this,e,Fi,zi,me,{class:2,apiKey:25,bbox:26,clearButtonTitle:3,clearOnBlur:27,collapsed:4,country:28,debounceSearch:29,enableReverse:5,errorMessage:6,filter:30,flyTo:31,fuzzyMatch:32,language:33,limit:34,mapController:35,minLength:36,noResultsMessage:7,placeholder:8,proximity:37,reverseActive:0,reverseButtonTitle:9,searchValue:1,showFullGeometry:38,showPlaceType:10,showResultsWhileTyping:39,selectFirst:11,flyToSelected:40,markerOnSelected:41,types:42,excludeTypes:43,zoom:44,maxZoom:45,apiUrl:46,fetchParameters:47,iconsBaseUrl:12,adjustUrlQuery:48,focus:49,blur:50,setQuery:51,clearList:52,clearMap:53},null,[-1,-1,-1])}get focus(){return this.$$.ctx[49]}get blur(){return this.$$.ctx[50]}get setQuery(){return this.$$.ctx[51]}get clearList(){return this.$$.ctx[52]}get clearMap(){return this.$$.ctx[53]}};const ji=new FinalizationRegistry(i=>{i.$destroy()});class Hi extends EventTarget{constructor({target:t,...n}){super();Dt(this,Y,void 0);At(this,Y,new Pi({target:t,props:n}));for(const r of["select","pick","featuresListed","featuresMarked","response","optionsVisibilityChange","reverseToggle","queryChange"])ae(this,Y).$on(r,l=>this.dispatchEvent(l));ji.register(this,ae(this,Y))}setOptions(t){ae(this,Y).$set(t)}setQuery(t,n=!0){var r;(r=ae(this,Y))==null||r.setQuery(t,n)}clearMap(){var t;(t=ae(this,Y))==null||t.clearMap()}clearList(){var t;(t=ae(this,Y))==null||t.clearList()}focus(){var t;(t=ae(this,Y))==null||t.focus()}blur(){var t;(t=ae(this,Y))==null||t.blur()}}Y=new WeakMap,D.GeocodingControl=Hi,Object.defineProperty(D,Symbol.toStringTag,{value:"Module"})});
//# sourceMappingURL=vanilla.umd.cjs.map
