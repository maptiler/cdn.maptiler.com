(function(J,q){typeof exports=="object"&&typeof module<"u"?q(exports,require("react")):typeof define=="function"&&define.amd?define(["exports","react"],q):(J=typeof globalThis<"u"?globalThis:J||self,q(J.reactMaptilerGeocoder={},J.React))})(this,function(J,q){"use strict";var fn=Object.defineProperty;var mn=(J,q,O)=>q in J?fn(J,q,{enumerable:!0,configurable:!0,writable:!0,value:O}):J[q]=O;var rt=(J,q,O)=>mn(J,typeof q!="symbol"?q+"":q,O);function O(){}function Bt(i,e){for(const t in e)i[t]=e[t];return i}function ot(i){return i()}function st(){return Object.create(null)}function se(i){i.forEach(ot)}function at(i){return typeof i=="function"}function ge(i,e){return i!=i?e==e:i!==e||i&&typeof i=="object"||typeof i=="function"}let Oe;function V(i,e){return i===e?!0:(Oe||(Oe=document.createElement("a")),Oe.href=e,i===Oe.href)}function Ft(i){return Object.keys(i).length===0}function jt(i,e,t,n){if(i){const o=lt(i,e,t,n);return i[0](o)}}function lt(i,e,t,n){return i[1]&&n?Bt(t.ctx.slice(),i[1](n(e))):t.ctx}function qt(i,e,t,n){if(i[2]&&n){const o=i[2](n(t));if(e.dirty===void 0)return o;if(typeof o=="object"){const u=[],a=Math.max(e.dirty.length,o.length);for(let r=0;r<a;r+=1)u[r]=e.dirty[r]|o[r];return u}return e.dirty|o}return e.dirty}function zt(i,e,t,n,o,u){if(o){const a=lt(e,t,n,u);i.p(a,o)}}function Ht(i){if(i.ctx.length>32){const e=[],t=i.ctx.length/32;for(let n=0;n<t;n++)e[n]=-1;return e}return-1}function ut(i){return i??""}function M(i,e){i.appendChild(e)}function A(i,e,t){i.insertBefore(e,t||null)}function U(i){i.parentNode&&i.parentNode.removeChild(i)}function D(i){return document.createElement(i)}function ae(i){return document.createElementNS("http://www.w3.org/2000/svg",i)}function ce(i){return document.createTextNode(i)}function X(){return ce(" ")}function Pt(){return ce("")}function x(i,e,t,n){return i.addEventListener(e,t,n),()=>i.removeEventListener(e,t,n)}function Zt(i){return function(e){return e.preventDefault(),i.call(this,e)}}function l(i,e,t){t==null?i.removeAttribute(e):i.getAttribute(e)!==t&&i.setAttribute(e,t)}function Gt(i){return Array.from(i.childNodes)}function Me(i,e){e=""+e,i.data!==e&&(i.data=e)}function ct(i,e){i.value=e??""}function de(i,e,t){i.classList.toggle(e,!!t)}function Qt(i,e,{bubbles:t=!1,cancelable:n=!1}={}){return new CustomEvent(i,{detail:e,bubbles:t,cancelable:n})}let Te;function ke(i){Te=i}function dt(){if(!Te)throw new Error("Function called outside component initialization");return Te}function Kt(i){dt().$$.on_destroy.push(i)}function Vt(){const i=dt();return(e,t,{cancelable:n=!1}={})=>{const o=i.$$.callbacks[e];if(o){const u=Qt(e,t,{cancelable:n});return o.slice().forEach(a=>{a.call(i,u)}),!u.defaultPrevented}return!0}}function ft(i,e){const t=i.$$.callbacks[e.type];t&&t.slice().forEach(n=>n.call(this,e))}const ye=[],He=[];let we=[];const mt=[],xt=Promise.resolve();let Pe=!1;function Jt(){Pe||(Pe=!0,xt.then(gt))}function Ze(i){we.push(i)}const Ge=new Set;let Ee=0;function gt(){if(Ee!==0)return;const i=Te;do{try{for(;Ee<ye.length;){const e=ye[Ee];Ee++,ke(e),Xt(e.$$)}}catch(e){throw ye.length=0,Ee=0,e}for(ke(null),ye.length=0,Ee=0;He.length;)He.pop()();for(let e=0;e<we.length;e+=1){const t=we[e];Ge.has(t)||(Ge.add(t),t())}we.length=0}while(ye.length);for(;mt.length;)mt.pop()();Pe=!1,Ge.clear(),ke(i)}function Xt(i){if(i.fragment!==null){i.update(),se(i.before_update);const e=i.dirty;i.dirty=[-1],i.fragment&&i.fragment.p(i.ctx,e),i.after_update.forEach(Ze)}}function Yt(i){const e=[],t=[];we.forEach(n=>i.indexOf(n)===-1?e.push(n):t.push(n)),t.forEach(n=>n()),we=e}const De=new Set;let he;function Ue(){he={r:0,c:[],p:he}}function Ie(){he.r||se(he.c),he=he.p}function F(i,e){i&&i.i&&(De.delete(i),i.i(e))}function Q(i,e,t,n){if(i&&i.o){if(De.has(i))return;De.add(i),he.c.push(()=>{De.delete(i),n&&(t&&i.d(1),n())}),i.o(e)}else n&&n()}function ht(i){return(i==null?void 0:i.length)!==void 0?i:Array.from(i)}function $t(i,e){Q(i,1,1,()=>{e.delete(i.key)})}function ei(i,e,t,n,o,u,a,r,d,c,f,h){let v=i.length,_=u.length,w=v;const W={};for(;w--;)W[i[w].key]=w;const y=[],E=new Map,C=new Map,R=[];for(w=_;w--;){const g=h(o,u,w),m=t(g);let k=a.get(m);k?R.push(()=>k.p(g,e)):(k=c(m,g),k.c()),E.set(m,y[w]=k),m in W&&C.set(m,Math.abs(w-W[m]))}const p=new Set,K=new Set;function b(g){F(g,1),g.m(r,f),a.set(g.key,g),f=g.first,_--}for(;v&&_;){const g=y[_-1],m=i[v-1],k=g.key,z=m.key;g===m?(f=g.first,v--,_--):E.has(z)?!a.has(k)||p.has(k)?b(g):K.has(z)?v--:C.get(k)>C.get(z)?(K.add(k),b(g)):(p.add(z),v--):(d(m,a),v--)}for(;v--;){const g=i[v];E.has(g.key)||d(g,a)}for(;_;)b(y[_-1]);return se(R),y}function fe(i){i&&i.c()}function le(i,e,t){const{fragment:n,after_update:o}=i.$$;n&&n.m(e,t),Ze(()=>{const u=i.$$.on_mount.map(ot).filter(at);i.$$.on_destroy?i.$$.on_destroy.push(...u):se(u),i.$$.on_mount=[]}),o.forEach(Ze)}function ue(i,e){const t=i.$$;t.fragment!==null&&(Yt(t.after_update),se(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function ti(i,e){i.$$.dirty[0]===-1&&(ye.push(i),Jt(),i.$$.dirty.fill(0)),i.$$.dirty[e/31|0]|=1<<e%31}function be(i,e,t,n,o,u,a=null,r=[-1]){const d=Te;ke(i);const c=i.$$={fragment:null,ctx:[],props:u,update:O,not_equal:o,bound:st(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(d?d.$$.context:[])),callbacks:st(),dirty:r,skip_bound:!1,root:e.target||d.$$.root};a&&a(c.root);let f=!1;if(c.ctx=t?t(i,e.props||{},(h,v,..._)=>{const w=_.length?_[0]:v;return c.ctx&&o(c.ctx[h],c.ctx[h]=w)&&(!c.skip_bound&&c.bound[h]&&c.bound[h](w),f&&ti(i,h)),v}):[],c.update(),f=!0,se(c.before_update),c.fragment=n?n(c.ctx):!1,e.target){if(e.hydrate){const h=Gt(e.target);c.fragment&&c.fragment.l(h),h.forEach(U)}else c.fragment&&c.fragment.c();e.intro&&F(i.$$.fragment),le(i,e.target,e.anchor),gt()}ke(d)}class ve{constructor(){rt(this,"$$");rt(this,"$$set")}$destroy(){ue(this,1),this.$destroy=O}$on(e,t){if(!at(t))return O;const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const o=n.indexOf(t);o!==-1&&n.splice(o,1)}}$set(e){this.$$set&&!Ft(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const ii="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(ii);function ni(i){let e,t;return{c(){e=ae("svg"),t=ae("path"),l(t,"d","M13.12.706a.982.982 0 0 0-1.391 0L6.907 5.517 2.087.696a.982.982 0 1 0-1.391 1.39l4.821 4.821L.696 11.73a.982.982 0 1 0 1.39 1.39l4.821-4.821 4.822 4.821a.982.982 0 1 0 1.39-1.39L8.298 6.908l4.821-4.822a.988.988 0 0 0 0-1.38Z"),l(e,"viewBox","0 0 14 14"),l(e,"width","13"),l(e,"height","13"),l(e,"class","svelte-en2qvf")},m(n,o){A(n,e,o),M(e,t)},p:O,i:O,o:O,d(n){n&&U(e)}}}class bt extends ve{constructor(e){super(),be(this,e,null,ni,ge,{})}}function ri(i){let e,t;return{c(){e=ae("svg"),t=ae("path"),l(t,"d","M15 0C6.705 0 0 6.705 0 15C0 23.295 6.705 30 15 30C23.295 30 30 23.295 30 15C30 6.705 23.295 0 15 0ZM22.5 20.385L20.385 22.5L15 17.115L9.615 22.5L7.5 20.385L12.885 15L7.5 9.615L9.615 7.5L15 12.885L20.385 7.5L22.5 9.615L17.115 15L22.5 20.385Z"),l(e,"viewBox","0 0 30 30"),l(e,"fill","none"),l(e,"xmlns","http://www.w3.org/2000/svg"),l(e,"class","svelte-d2loi5")},m(n,o){A(n,e,o),M(e,t)},p:O,i:O,o:O,d(n){n&&U(e)}}}class vt extends ve{constructor(e){super(),be(this,e,null,ri,ge,{})}}function oi(i){let e,t;return{c(){e=D("img"),V(e.src,t=i[3]+"area.svg")||l(e,"src",t),l(e,"alt",i[6]),l(e,"class","svelte-ltkwvy")},m(n,o){A(n,e,o)},p(n,o){o&8&&!V(e.src,t=n[3]+"area.svg")&&l(e,"src",t),o&64&&l(e,"alt",n[6])},d(n){n&&U(e)}}}function si(i){let e,t;return{c(){e=D("img"),V(e.src,t=i[3]+"reverse.svg")||l(e,"src",t),l(e,"alt",i[6]),l(e,"class","svelte-ltkwvy")},m(n,o){A(n,e,o)},p(n,o){o&8&&!V(e.src,t=n[3]+"reverse.svg")&&l(e,"src",t),o&64&&l(e,"alt",n[6])},d(n){n&&U(e)}}}function ai(i){let e,t;return{c(){e=D("img"),V(e.src,t=i[3]+"poi.svg")||l(e,"src",t),l(e,"alt",i[6]),l(e,"class","svelte-ltkwvy")},m(n,o){A(n,e,o)},p(n,o){o&8&&!V(e.src,t=n[3]+"poi.svg")&&l(e,"src",t),o&64&&l(e,"alt",n[6])},d(n){n&&U(e)}}}function li(i){let e,t;return{c(){e=D("img"),V(e.src,t=i[3]+"postal_code.svg")||l(e,"src",t),l(e,"alt",i[6]),l(e,"class","svelte-ltkwvy")},m(n,o){A(n,e,o)},p(n,o){o&8&&!V(e.src,t=n[3]+"postal_code.svg")&&l(e,"src",t),o&64&&l(e,"alt",n[6])},d(n){n&&U(e)}}}function ui(i){let e,t;return{c(){e=D("img"),V(e.src,t=i[3]+"street.svg")||l(e,"src",t),l(e,"alt",i[6]),l(e,"class","svelte-ltkwvy")},m(n,o){A(n,e,o)},p(n,o){o&8&&!V(e.src,t=n[3]+"street.svg")&&l(e,"src",t),o&64&&l(e,"alt",n[6])},d(n){n&&U(e)}}}function ci(i){let e,t;return{c(){e=D("img"),V(e.src,t=i[3]+"road.svg")||l(e,"src",t),l(e,"alt",i[6]),l(e,"class","svelte-ltkwvy")},m(n,o){A(n,e,o)},p(n,o){o&8&&!V(e.src,t=n[3]+"road.svg")&&l(e,"src",t),o&64&&l(e,"alt",n[6])},d(n){n&&U(e)}}}function di(i){let e,t;return{c(){e=D("img"),V(e.src,t=i[3]+"housenumber.svg")||l(e,"src",t),l(e,"alt",i[6]),l(e,"class","svelte-ltkwvy")},m(n,o){A(n,e,o)},p(n,o){o&8&&!V(e.src,t=n[3]+"housenumber.svg")&&l(e,"src",t),o&64&&l(e,"alt",n[6])},d(n){n&&U(e)}}}function fi(i){let e,t,n,o;return{c(){e=D("img"),V(e.src,t=i[5])||l(e,"src",t),l(e,"alt",i[4]),l(e,"class","svelte-ltkwvy")},m(u,a){A(u,e,a),n||(o=x(e,"error",i[14]),n=!0)},p(u,a){a&32&&!V(e.src,t=u[5])&&l(e,"src",t),a&16&&l(e,"alt",u[4])},d(u){u&&U(e),n=!1,o()}}}function Lt(i){let e,t;return{c(){e=D("span"),t=ce(i[6]),l(e,"class","secondary svelte-ltkwvy")},m(n,o){A(n,e,o),M(e,t)},p(n,o){o&64&&Me(t,n[6])},d(n){n&&U(e)}}}function mi(i){let e,t,n,o,u,a,r,d,c,f=(i[7]?i[0].place_name:i[0].place_name.replace(/,.*/,""))+"",h,v,_=i[2]==="always"||i[2]&&!i[0].address&&!i[0].id.startsWith("road.")&&!i[0].id.startsWith("address.")&&!i[0].id.startsWith("postal_code.")&&(!i[0].id.startsWith("poi.")||!i[5])&&!i[7],w,W,y=(i[7]?"":i[0].place_name.replace(/[^,]*,?\s*/,""))+"",E,C,R;function p(m,k){return k&1&&(t=null),k&1&&(n=null),k&1&&(o=null),k&1&&(u=null),m[5]?fi:m[0].address?di:(t==null&&(t=!!m[0].id.startsWith("road.")),t?ci:(n==null&&(n=!!m[0].id.startsWith("address.")),n?ui:(o==null&&(o=!!m[0].id.startsWith("postal_code.")),o?li:(u==null&&(u=!!m[0].id.startsWith("poi.")),u?ai:m[7]?si:oi))))}let K=p(i,-1),b=K(i),g=_&&Lt(i);return{c(){e=D("li"),b.c(),a=X(),r=D("span"),d=D("span"),c=D("span"),h=ce(f),v=X(),g&&g.c(),w=X(),W=D("span"),E=ce(y),l(c,"class","primary svelte-ltkwvy"),l(d,"class","svelte-ltkwvy"),l(W,"class","line2 svelte-ltkwvy"),l(r,"class","texts svelte-ltkwvy"),l(e,"tabindex","0"),l(e,"data-selected",i[1]),l(e,"class","svelte-ltkwvy"),de(e,"selected",i[1])},m(m,k){A(m,e,k),b.m(e,null),M(e,a),M(e,r),M(r,d),M(d,c),M(c,h),M(d,v),g&&g.m(d,null),M(r,w),M(r,W),M(W,E),C||(R=[x(e,"mouseenter",i[12]),x(e,"focus",i[13])],C=!0)},p(m,[k]){K===(K=p(m,k))&&b?b.p(m,k):(b.d(1),b=K(m),b&&(b.c(),b.m(e,a))),k&1&&f!==(f=(m[7]?m[0].place_name:m[0].place_name.replace(/,.*/,""))+"")&&Me(h,f),k&37&&(_=m[2]==="always"||m[2]&&!m[0].address&&!m[0].id.startsWith("road.")&&!m[0].id.startsWith("address.")&&!m[0].id.startsWith("postal_code.")&&(!m[0].id.startsWith("poi.")||!m[5])&&!m[7]),_?g?g.p(m,k):(g=Lt(m),g.c(),g.m(d,null)):g&&(g.d(1),g=null),k&1&&y!==(y=(m[7]?"":m[0].place_name.replace(/[^,]*,?\s*/,""))+"")&&Me(E,y),k&2&&l(e,"data-selected",m[1]),k&2&&de(e,"selected",m[1])},i:O,o:O,d(m){m&&U(e),b.d(),g&&g.d(),C=!1,se(R)}}}function gi(i,e,t){var R;let n,o,{feature:u}=e,{selected:a=!1}=e,{showPlaceType:r}=e,{missingIconsCache:d}=e,{iconsBaseUrl:c}=e;const f=(R=u.properties)==null?void 0:R.categories;let h,v,_=0,w=u.place_type[0]==="reverse";function W(){v&&d.add(v),t(10,_++,_)}function y(p){ft.call(this,i,p)}function E(p){ft.call(this,i,p)}const C=()=>W();return i.$$set=p=>{"feature"in p&&t(0,u=p.feature),"selected"in p&&t(1,a=p.selected),"showPlaceType"in p&&t(2,r=p.showPlaceType),"missingIconsCache"in p&&t(9,d=p.missingIconsCache),"iconsBaseUrl"in p&&t(3,c=p.iconsBaseUrl)},i.$$.update=()=>{var p,K,b,g;if(i.$$.dirty&3640)do t(11,n--,n),t(4,h=f==null?void 0:f[n]),t(5,v=h?c+h.replace(/ /g,"_")+".svg":void 0);while(n>-1&&(!v||d.has(v)));i.$$.dirty&1&&t(6,o=((K=(p=u.properties)==null?void 0:p.categories)==null?void 0:K.join(", "))??((g=(b=u.properties)==null?void 0:b.place_type_name)==null?void 0:g[0])??u.place_type[0])},t(11,n=(f==null?void 0:f.length)??0),[u,a,r,c,h,v,o,w,W,d,_,n,y,E,C]}class hi extends ve{constructor(e){super(),be(this,e,gi,mi,ge,{feature:0,selected:1,showPlaceType:2,missingIconsCache:9,iconsBaseUrl:3})}}function bi(i){let e;return{c(){e=D("div"),e.innerHTML='<svg viewBox="0 0 18 18" width="24" height="24" class="svelte-7cmwmc"><path fill="#333" d="M4.4 4.4l.8.8c2.1-2.1 5.5-2.1 7.6 0l.8-.8c-2.5-2.5-6.7-2.5-9.2 0z"></path><path opacity=".1" d="M12.8 12.9c-2.1 2.1-5.5 2.1-7.6 0-2.1-2.1-2.1-5.5 0-7.7l-.8-.8c-2.5 2.5-2.5 6.7 0 9.2s6.6 2.5 9.2 0 2.5-6.6 0-9.2l-.8.8c2.2 2.1 2.2 5.6 0 7.7z"></path></svg>',l(e,"class","svelte-7cmwmc")},m(t,n){A(t,e,n)},p:O,i:O,o:O,d(t){t&&U(e)}}}class vi extends ve{constructor(e){super(),be(this,e,null,bi,ge,{})}}function Li(i){let e,t;return{c(){e=ae("svg"),t=ae("path"),l(t,"d","M30.003-26.765C13.46-26.765 0-14.158 0 1.337c0 23.286 24.535 42.952 28.39 46.04.24.192.402.316.471.376.323.282.732.424 1.142.424.41 0 .82-.142 1.142-.424.068-.06.231-.183.471-.376 3.856-3.09 28.39-22.754 28.39-46.04 0-15.495-13.46-28.102-30.003-28.102Zm1.757 12.469c4.38 0 7.858 1.052 10.431 3.158 2.595 2.105 3.89 4.913 3.89 8.422 0 2.34-.53 4.362-1.593 6.063-1.063 1.702-3.086 3.616-6.063 5.742-2.042 1.51-3.337 2.659-3.89 3.446-.532.787-.8 1.82-.8 3.096v1.914h-8.449V15.18c0-2.041.434-3.815 1.306-5.325.872-1.51 2.467-3.118 4.785-4.82 2.233-1.594 3.7-2.89 4.402-3.889a5.582 5.582 0 0 0 1.087-3.35c0-1.382-.51-2.435-1.531-3.158-1.02-.723-2.45-1.087-4.28-1.087-3.19 0-6.826 1.047-10.91 3.131l-3.472-6.986c4.742-2.659 9.77-3.992 15.087-3.992Zm-1.88 37.324c1.765 0 3.124.472 4.08 1.408.98.936 1.47 2.276 1.47 4.02 0 1.68-.49 3.007-1.47 3.985-.977.957-2.336 1.435-4.08 1.435-1.787 0-3.171-.465-4.15-1.4-.978-.958-1.47-2.298-1.47-4.02 0-1.787.48-3.14 1.436-4.054.957-.915 2.355-1.374 4.184-1.374Z"),l(e,"viewBox","0 0 60.006 21.412"),l(e,"width","14"),l(e,"height","20"),l(e,"class","svelte-en2qvf")},m(n,o){A(n,e,o),M(e,t)},p:O,i:O,o:O,d(n){n&&U(e)}}}class _i extends ve{constructor(e){super(),be(this,e,null,Li,ge,{})}}function yi(i){let e,t,n;return{c(){e=ae("svg"),t=ae("circle"),n=ae("path"),l(t,"cx","4.789"),l(t,"cy","4.787"),l(t,"r","3.85"),l(t,"class","svelte-1aq105l"),l(n,"d","M12.063 12.063 7.635 7.635"),l(n,"class","svelte-1aq105l"),l(e,"xmlns","http://www.w3.org/2000/svg"),l(e,"width","13"),l(e,"height","13"),l(e,"viewBox","0 0 13 13"),l(e,"class","svelte-1aq105l")},m(o,u){A(o,e,u),M(e,t),M(e,n)},p:O,i:O,o:O,d(o){o&&U(e)}}}class wi extends ve{constructor(e){super(),be(this,e,null,yi,ge,{})}}function Ei(i,e,t){const n=e[1],o=e[0],u=n-o;return i===n&&t?i:((i-o)%u+u)%u+o}function _t(i){const e=[...i];return e[2]<e[0]&&(Math.abs((e[0]+e[2]+360)/2)>Math.abs((e[0]-360+e[2])/2)?e[0]-=360:e[2]+=360),e}let Ce;async function Si(i,e,t){const n=i==null?void 0:i.getCenterAndZoom();for(const o of e??[])if(!(n&&(o.minZoom!=null&&o.minZoom>n[0]||o.maxZoom!=null&&o.maxZoom<n[0]))){if(o.type==="fixed")return o.coordinates.join(",");e:if(o.type==="client-geolocation"){if(Ce&&o.cachedLocationExpiry&&Ce.time+o.cachedLocationExpiry>Date.now()){if(!Ce.coords)break e;return Ce.coords}let u;try{return u=await new Promise((a,r)=>{t.signal.addEventListener("abort",()=>{r(Error("aborted"))}),navigator.geolocation.getCurrentPosition(d=>{a([d.coords.longitude,d.coords.latitude].map(c=>c.toFixed(6)).join(","))},d=>{r(d)},o)}),u}catch{}finally{o.cachedLocationExpiry&&(Ce={time:Date.now(),coords:u})}if(t.signal.aborted)return}if(o.type==="server-geolocation")return"ip";if(n&&o.type==="map-center")return n[1].toFixed(6)+","+n[2].toFixed(6)}}const pi=/^(NORTH|SOUTH|[NS])?\s*([+-]?[0-8]?[0-9])\s*([•º°\.:]|D(?:EG)?(?:REES)?)?\s*,?([6-9][0-9])\s*(['′´’\.:]|M(?:IN)?(?:UTES)?)?\s*(NORTH|SOUTH|[NS])?(?:\s*[,/;]\s*|\s*)(EAST|WEST|[EW])?\s*([+-]?[0-1]?[0-9]?[0-9])\s*([•º°\.:]|D(?:EG)?(?:REES)?)?\s*,?([6-9][0-9])\s*(['′´’\.:]|M(?:IN)?(?:UTES)?)?\s*(EAST|WEST|[EW])?$/i,yt=/^([+-]?[0-8]?[0-9])\s+([0-5]?[0-9]\.\d{3,})[\s,]{1,}([+-]?[0-1]?[0-9]?[0-9])\s+([0-5]?[0-9]\.\d{3,})$/,wt=/^(NORTH|SOUTH|[NS])?[\s]*([+-]?[0-8]?[0-9](?:[\.,]\d{3,}))[\s]*([•º°]?)[\s]*(NORTH|SOUTH|[NS])?[\s]*[,/;]?[\s]*(EAST|WEST|[EW])?[\s]*([+-]?[0-1]?[0-9]?[0-9](?:[\.,]\d{3,}))[\s]*([•º°]?)[\s]*(EAST|WEST|[EW])?$/i,Et=/^(NORTH|SOUTH|[NS])?\s*([+-]?[0-8]?[0-9])\s*(\.)\s*([0-5]?[0-9])\s*(\.)\s*((?:[0-5]?[0-9])(?:[\.,]\d{1,3})?)?\s*(NORTH|SOUTH|[NS])?(?:\s*[,/;]\s*|\s*)(EAST|WEST|[EW])?\s*([+-]?[0-1]?[0-9]?[0-9])\s*(\.)\s*([0-5]?[0-9])\s*(\.)\s*((?:[0-5]?[0-9])(?:[\.,]\d{1,3})?)?\s*(EAST|WEST|[EW])?$/i,St=/^(NORTH|SOUTH|[NS])?\s*([+-]?[0-8]?[0-9])\s*(D(?:EG)?(?:REES)?)\s*([0-5]?[0-9])\s*(M(?:IN)?(?:UTES)?)\s*((?:[0-5]?[0-9])(?:[\.,]\d{1,3})?)?\s*(S(?:EC)?(?:ONDS)?)?\s*(NORTH|SOUTH|[NS])?(?:\s*[,/;]\s*|\s*)(EAST|WEST|[EW])?\s*([+-]?[0-1]?[0-9]?[0-9])\s*(D(?:EG)?(?:REES)?)\s*([0-5]?[0-9])\s*(M(?:IN)?(?:UTES)?)\s*((?:[0-5]?[0-9])(?:[\.,]\d{1,3})?)?\s*(S(?:EC)?(?:ONDS)?)\s*(EAST|WEST|[EW])?$/i,pt=/^(NORTH|SOUTH|[NS])?\s*([+-]?[0-8]?[0-9])\s*([•º°\.:]|D(?:EG)?(?:REES)?)?\s*,?([0-5]?[0-9](?:[\.,]\d{1,})?)?\s*(['′´’\.:]|M(?:IN)?(?:UTES)?)?\s*,?((?:[0-5]?[0-9])(?:[\.,]\d{1,3})?)?\s*(''|′′|’’|´´|["″”\.])?\s*(NORTH|SOUTH|[NS])?(?:\s*[,/;]\s*|\s*)(EAST|WEST|[EW])?\s*([+-]?[0-1]?[0-9]?[0-9])\s*([•º°\.:]|D(?:EG)?(?:REES)?)?\s*,?([0-5]?[0-9](?:[\.,]\d{1,})?)?\s*(['′´’\.:]|M(?:IN)?(?:UTES)?)?\s*,?((?:[0-5]?[0-9])(?:[\.,]\d{1,3})?)?\s*(''|′′|´´|’’|["″”\.])?\s*(EAST|WEST|[EW])?$/i;function Ni(i){if(!["DMS","DM","DD"].includes(i))throw new Error("invalid format specified");if(this.decimalCoordinates&&this.decimalCoordinates.trim()){const e=this.decimalCoordinates.split(",").map(_=>Number(_.trim())),t=Number(e[0]),n=Number(e[1]),o=Math.abs(t),u=Math.abs(n),a=t>0?"N":"S",r=n>0?"E":"W";let d;i=="DD"&&(d=`${o}° ${a}, ${u}° ${r}`);const c=Math.floor(o),f=Math.floor(u),h=(o-c)*60,v=(u-f)*60;if(i=="DM"){let _=Nt(h,3).toFixed(3).padStart(6,"0"),w=Nt(v,3).toFixed(3).padStart(6,"0");_.endsWith(".000")&&w.endsWith(".000")&&(_=_.replace(/\.000$/,""),w=w.replace(/\.000$/,"")),d=`${c}° ${_}' ${a}, ${f}° ${w}' ${r}`}if(i=="DMS"){const _=Math.floor(h),w=Math.floor(v);let W=((h-_)*60).toFixed(1).padStart(4,"0"),y=((v-w)*60).toFixed(1).padStart(4,"0");const E=_.toString().padStart(2,"0"),C=w.toString().padStart(2,"0");W.endsWith(".0")&&y.endsWith(".0")&&(W=W.replace(/\.0$/,""),y=y.replace(/\.0$/,"")),d=`${c}° ${E}' ${W}" ${a}, ${f}° ${C}' ${y}" ${r}`}return d}else throw new Error("no decimal coordinates to convert")}function Nt(i,e){const t=Math.pow(10,e);return Math.round((i+Number.EPSILON)*t)/t}function Qe(i,e){e||(e=5),i=i.replace(/\s+/g," ").trim();let t=null,n=null,o="",u="",a=null,r=[],d=!1;if(pi.test(i))throw new Error("invalid coordinate value");if(yt.test(i))if(r=yt.exec(i),d=We(r),d)t=Math.abs(r[1])+r[2]/60,Number(r[1])<0&&(t*=-1),n=Math.abs(r[3])+r[4]/60,Number(r[3])<0&&(n*=-1),a="DM";else throw new Error("invalid coordinate format");else if(wt.test(i))if(r=wt.exec(i),d=We(r),d){if(t=r[2],n=r[6],t.includes(",")&&(t=t.replace(",",".")),n.includes(",")&&(n=n.replace(",",".")),a="DD",Number(Math.round(t))==Number(t))throw new Error("integer only coordinate provided");if(Number(Math.round(n))==Number(n))throw new Error("integer only coordinate provided");r[1]?(o=r[1],u=r[5]):r[4]&&(o=r[4],u=r[8])}else throw new Error("invalid decimal coordinate format");else if(Et.test(i))if(r=Et.exec(i),d=We(r),d)t=Math.abs(parseInt(r[2])),r[4]&&(t+=r[4]/60,a="DM"),r[6]&&(t+=r[6].replace(",",".")/3600,a="DMS"),parseInt(r[2])<0&&(t=-1*t),n=Math.abs(parseInt(r[9])),r[11]&&(n+=r[11]/60),r[13]&&(n+=r[13].replace(",",".")/3600),parseInt(r[9])<0&&(n=-1*n),r[1]?(o=r[1],u=r[8]):r[7]&&(o=r[7],u=r[14]);else throw new Error("invalid DMS coordinates format");else if(St.test(i))if(r=St.exec(i),d=We(r),d)t=Math.abs(parseInt(r[2])),r[4]&&(t+=r[4]/60,a="DM"),r[6]&&(t+=r[6]/3600,a="DMS"),parseInt(r[2])<0&&(t=-1*t),n=Math.abs(parseInt(r[10])),r[12]&&(n+=r[12]/60),r[14]&&(n+=r[14]/3600),parseInt(r[10])<0&&(n=-1*n),r[1]?(o=r[1],u=r[9]):r[8]&&(o=r[8],u=r[16]);else throw new Error("invalid DMS coordinates format");else if(pt.test(i)){if(r=pt.exec(i),d=We(r),r.filter(c=>c).length<=5)throw new Error("invalid coordinates format");if(d)t=Math.abs(parseInt(r[2])),r[4]&&(t+=r[4].replace(",",".")/60,a="DM"),r[6]&&(t+=r[6].replace(",",".")/3600,a="DMS"),parseInt(r[2])<0&&(t=-1*t),n=Math.abs(parseInt(r[10])),r[12]&&(n+=r[12].replace(",",".")/60),r[14]&&(n+=r[14].replace(",",".")/3600),parseInt(r[10])<0&&(n=-1*n),r[1]?(o=r[1],u=r[9]):r[8]&&(o=r[8],u=r[16]);else throw new Error("invalid coordinates format")}if(d){if(Math.abs(n)>=180)throw new Error("invalid longitude value");if(Math.abs(t)>=90)throw new Error("invalid latitude value");if(o&&!u||!o&&u)throw new Error("invalid coordinates value");if(o&&o==u)throw new Error("invalid coordinates format");t.toString().includes(",")&&(t=t.replace(",",".")),n.toString().includes(",")&&(n=n.replace(",","."));let c=/S|SOUTH/i;c.test(o)&&t>0&&(t=-1*t),c=/W|WEST/i,c.test(u)&&n>0&&(n=-1*n);const f=r[0].trim();let h,v;const _=/[,/;\u0020]/g,w=f.match(_);if(w==null){const E=Math.floor(i.length/2);h=f.substring(0,E).trim(),v=f.substring(E).trim()}else{let E;w.length%2==1?E=Math.floor(w.length/2):E=w.length/2-1;let C=0;if(E==0)C=f.indexOf(w[0]),h=f.substring(0,C).trim(),v=f.substring(C+1).trim();else{let R=0,p=0;for(;R<=E;)C=f.indexOf(w[R],p),p=C+1,R++;h=f.substring(0,C).trim(),v=f.substring(C+1).trim()}}const W=h.split(".");if(W.length==2&&W[1]==0&&W[1].length!=2)throw new Error("invalid coordinates format");const y=v.split(".");if(y.length==2&&y[1]==0&&y[1].length!=2)throw new Error("invalid coordinates format");if(/^\d+$/.test(h)||/^\d+$/.test(v))throw new Error("degree only coordinate/s provided");return t=Number(Number(t).toFixed(e)),n=Number(Number(n).toFixed(e)),Object.freeze({verbatimCoordinates:f,verbatimLatitude:h,verbatimLongitude:v,decimalLatitude:t,decimalLongitude:n,decimalCoordinates:`${t},${n}`,originalFormat:a,closeEnough:Mi,toCoordinateFormat:Ni})}else throw new Error("coordinates pattern match failed")}function We(i){if(!isNaN(i[0]))return!1;const e=[...i];if(e.shift(),e.length%2>0)return!1;const t=/^[-+]?\d+([\.,]\d+)?$/,n=/[eastsouthnorthwest]+/i,o=e.length/2;for(let u=0;u<o;u++){const a=e[u],r=e[u+o],d=t.test(a)&&t.test(r),c=n.test(a)&&n.test(r),f=a==r;if(!(a==null&&r==null)){if(a==null||r==null)return!1;if(d||c||f)continue;return!1}}return!0}function Mt(i,e){const t=Math.abs(i-e);return Number(t.toFixed(6))<=1e-5}function Mi(i){if(!i)throw new Error("coords must be provided");if(i.includes(",")){const e=i.split(",");if(Number(e[0])==NaN||Number(e[1])==NaN)throw new Error("coords are not valid decimals");return Mt(this.decimalLatitude,Number(e[0]))&&Mt(this.decimalLongitude,e[1])}else throw new Error("coords being tested must be separated by a comma")}const Ti=Object.freeze({DMS:"DMS",DM:"DM",DD:"DD"});Qe.to=Ti;const ki=[{verbatimCoordinates:"40.123, -74.123",verbatimLatitude:"40.123",verbatimLongitude:"-74.123"},{verbatimCoordinates:"40.123° N 74.123° W",verbatimLatitude:"40.123° N",verbatimLongitude:"74.123° W"},{verbatimCoordinates:"40.123° N 74.123° W",verbatimLatitude:"40.123° N",verbatimLongitude:"74.123° W"},{verbatimCoordinates:'40° 7´ 22.8" N 74° 7´ 22.8" W',verbatimLatitude:'40° 7´ 22.8" N',verbatimLongitude:'74° 7´ 22.8" W'},{verbatimCoordinates:"40° 7.38’ , -74° 7.38’",verbatimLatitude:"40° 7.38’",verbatimLongitude:"-74° 7.38’"},{verbatimCoordinates:"N40°7’22.8’’, W74°7’22.8’’",verbatimLatitude:"N40°7’22.8’’",verbatimLongitude:"W74°7’22.8’’"},{verbatimCoordinates:'40°7’22.8"N, 74°7’22.8"W',verbatimLatitude:'40°7’22.8"N',verbatimLongitude:'74°7’22.8"W'},{verbatimCoordinates:`40°7'22.8"N, 74°7'22.8"W`,verbatimLatitude:`40°7'22.8"N`,verbatimLongitude:`74°7'22.8"W`},{verbatimCoordinates:"40 7 22.8, -74 7 22.8",verbatimLatitude:"40 7 22.8",verbatimLongitude:"-74 7 22.8"},{verbatimCoordinates:"40.123 -74.123",verbatimLatitude:"40.123",verbatimLongitude:"-74.123"},{verbatimCoordinates:"40.123°,-74.123°",verbatimLatitude:"40.123°",verbatimLongitude:"-74.123°"},{verbatimCoordinates:"40.123N74.123W",verbatimLatitude:"40.123N",verbatimLongitude:"74.123W"},{verbatimCoordinates:"4007.38N7407.38W",verbatimLatitude:"4007.38N",verbatimLongitude:"7407.38W"},{verbatimCoordinates:'40°7’22.8"N, 74°7’22.8"W',verbatimLatitude:'40°7’22.8"N',verbatimLongitude:'74°7’22.8"W'},{verbatimCoordinates:"400722.8N740722.8W",verbatimLatitude:"400722.8N",verbatimLongitude:"740722.8W"},{verbatimCoordinates:"N 40 7.38 W 74 7.38",verbatimLatitude:"N 40 7.38",verbatimLongitude:"W 74 7.38"},{verbatimCoordinates:"40:7:22.8N 74:7:22.8W",verbatimLatitude:"40:7:22.8N",verbatimLongitude:"74:7:22.8W"},{verbatimCoordinates:"40:7:23N,74:7:23W",verbatimLatitude:"40:7:23N",verbatimLongitude:"74:7:23W",decimalLatitude:40.1230555555,decimalLongitude:-74.1230555555},{verbatimCoordinates:'40°7’23"N 74°7’23"W',verbatimLatitude:'40°7’23"N',verbatimLongitude:'74°7’23"W',decimalLatitude:40.1230555555,decimalLongitude:-74.12305555555555},{verbatimCoordinates:'40°7’23"S 74°7’23"E',verbatimLatitude:'40°7’23"S',verbatimLongitude:'74°7’23"E',decimalLatitude:-40.1230555555,decimalLongitude:74.12305555555555},{verbatimCoordinates:'40°7’23" -74°7’23"',verbatimLatitude:'40°7’23"',verbatimLongitude:'-74°7’23"',decimalLatitude:40.1230555555,decimalLongitude:-74.123055555},{verbatimCoordinates:'40d 7’ 23" N 74d 7’ 23" W',verbatimLatitude:'40d 7’ 23" N',verbatimLongitude:'74d 7’ 23" W',decimalLatitude:40.1230555555,decimalLongitude:-74.123055555},{verbatimCoordinates:"40.123N 74.123W",verbatimLatitude:"40.123N",verbatimLongitude:"74.123W"},{verbatimCoordinates:"40° 7.38, -74° 7.38",verbatimLatitude:"40° 7.38",verbatimLongitude:"-74° 7.38"},{verbatimCoordinates:"40° 7.38, -74° 7.38",verbatimLatitude:"40° 7.38",verbatimLongitude:"-74° 7.38"},{verbatimCoordinates:"40 7 22.8; -74 7 22.8",verbatimLatitude:"40 7 22.8",verbatimLongitude:"-74 7 22.8"}],Ci={decimalLatitude:40.123,decimalLongitude:-74.123},Wi=[{verbatimCoordinates:`50°4'17.698"south, 14°24'2.826"east`,verbatimLatitude:`50°4'17.698"south`,verbatimLongitude:`14°24'2.826"east`,decimalLatitude:-50.07158277777778,decimalLongitude:14.400785},{verbatimCoordinates:"50d4m17.698S 14d24m2.826E",verbatimLatitude:"50d4m17.698S",verbatimLongitude:"14d24m2.826E",decimalLatitude:-50.07158277777778,decimalLongitude:14.400785},{verbatimCoordinates:"40:26:46N,79:56:55W",verbatimLatitude:"40:26:46N",verbatimLongitude:"79:56:55W",decimalLatitude:40.44611111111111,decimalLongitude:-79.9486111111111},{verbatimCoordinates:"40:26:46.302N 79:56:55.903W",verbatimLatitude:"40:26:46.302N",verbatimLongitude:"79:56:55.903W",decimalLatitude:40.446195,decimalLongitude:-79.94886194444445},{verbatimCoordinates:"40°26′47″N 79°58′36″W",verbatimLatitude:"40°26′47″N",verbatimLongitude:"79°58′36″W",decimalLatitude:40.44638888888889,decimalLongitude:-79.97666666666667},{verbatimCoordinates:"40d 26′ 47″ N 79d 58′ 36″ W",verbatimLatitude:"40d 26′ 47″ N",verbatimLongitude:"79d 58′ 36″ W",decimalLatitude:40.44638888888889,decimalLongitude:-79.97666666666667},{verbatimCoordinates:"40.446195N 79.948862W",verbatimLatitude:"40.446195N",verbatimLongitude:"79.948862W",decimalLatitude:40.446195,decimalLongitude:-79.948862},{verbatimCoordinates:"40,446195° 79,948862°",verbatimLatitude:"40,446195°",verbatimLongitude:"79,948862°",decimalLatitude:40.446195,decimalLongitude:79.948862},{verbatimCoordinates:"40° 26.7717, -79° 56.93172",verbatimLatitude:"40° 26.7717",verbatimLongitude:"-79° 56.93172",decimalLatitude:40.446195,decimalLongitude:-79.948862},{verbatimCoordinates:"40.446195, -79.948862",verbatimLatitude:"40.446195",verbatimLongitude:"-79.948862",decimalLatitude:40.446195,decimalLongitude:-79.948862},{verbatimCoordinates:"40.123256; -74.123256",verbatimLatitude:"40.123256",verbatimLongitude:"-74.123256",decimalLatitude:40.123256,decimalLongitude:-74.123256},{verbatimCoordinates:"18°24S 22°45E",verbatimLatitude:"18°24S",verbatimLongitude:"22°45E",decimalLatitude:-18.4,decimalLongitude:22.75}],Ri=[{verbatimCoordinates:"10.432342S 10.6345345E",verbatimLatitude:"10.432342S",verbatimLongitude:"10.6345345E",decimalLatitude:-10.432342,decimalLongitude:10.6345345},{verbatimCoordinates:"10.00S 10.00E",verbatimLatitude:"10.00S",verbatimLongitude:"10.00E",decimalLatitude:-10,decimalLongitude:10},{verbatimCoordinates:"00.00S 01.00E",verbatimLatitude:"00.00S",verbatimLongitude:"01.00E",decimalLatitude:0,decimalLongitude:1},{verbatimCoordinates:"18.24S 22.45E",verbatimLatitude:"18.24S",verbatimLongitude:"22.45E",decimalLatitude:-18.4,decimalLongitude:22.75},{verbatimCoordinates:"27deg 15min 45.2sec S 18deg 32min 53.7sec E",verbatimLatitude:"27deg 15min 45.2sec S",verbatimLongitude:"18deg 32min 53.7sec E",decimalLatitude:-27.262555555555554,decimalLongitude:18.54825},{verbatimCoordinates:"-23.3245° S / 28.2344° E",verbatimLatitude:"-23.3245° S",verbatimLongitude:"28.2344° E",decimalLatitude:-23.3245,decimalLongitude:28.2344},{verbatimCoordinates:"40° 26.7717 -79° 56.93172",verbatimLatitude:"40° 26.7717",verbatimLongitude:"-79° 56.93172",decimalLatitude:40.446195,decimalLongitude:-79.948862},{verbatimCoordinates:"27.15.45S 18.32.53E",verbatimLatitude:"27.15.45S",verbatimLongitude:"18.32.53E",decimalLatitude:-27.2625,decimalLongitude:18.548055},{verbatimCoordinates:"-27.15.45 18.32.53",verbatimLatitude:"-27.15.45",verbatimLongitude:"18.32.53",decimalLatitude:-27.2625,decimalLongitude:18.548055},{verbatimCoordinates:"27.15.45.2S 18.32.53.4E",verbatimLatitude:"27.15.45.2S",verbatimLongitude:"18.32.53.4E",decimalLatitude:-27.262556,decimalLongitude:18.548167},{verbatimCoordinates:"27.15.45,2S 18.32.53,4E",verbatimLatitude:"27.15.45,2S",verbatimLongitude:"18.32.53,4E",decimalLatitude:-27.262556,decimalLongitude:18.548167},{verbatimCoordinates:"S23.43563 °  E22.45634 °",verbatimLatitude:"S23.43563 °",verbatimLongitude:"E22.45634 °",decimalLatitude:-23.43563,decimalLongitude:22.45634},{verbatimCoordinates:"27,71372° S 23,07771° E",verbatimLatitude:"27,71372° S",verbatimLongitude:"23,07771° E",decimalLatitude:-27.71372,decimalLongitude:23.07771},{verbatimCoordinates:"27.45.34 S 23.23.23 E",verbatimLatitude:"27.45.34 S",verbatimLongitude:"23.23.23 E",decimalLatitude:-27.759444,decimalLongitude:23.38972222},{verbatimCoordinates:"S 27.45.34 E 23.23.23",verbatimLatitude:"S 27.45.34",verbatimLongitude:"E 23.23.23",decimalLatitude:-27.759444,decimalLongitude:23.38972222},{verbatimCoordinates:"53 16.3863,4 52.8171",verbatimLatitude:"53 16.3863",verbatimLongitude:"4 52.8171",decimalLatitude:53.273105,decimalLongitude:4.88029},{verbatimCoordinates:"50 8.2914,-5 2.4447",verbatimLatitude:"50 8.2914",verbatimLongitude:"-5 2.4447",decimalLatitude:50.13819,decimalLongitude:-5.040745},{verbatimCoordinates:"N 48° 30,6410', E 18° 57,4583'",verbatimLatitude:"N 48° 30,6410'",verbatimLongitude:"E 18° 57,4583'",decimalLatitude:48.51068,decimalLongitude:18.95764},{verbatimCoordinates:"1.23456, 18.33453",verbatimLatitude:"1.23456",verbatimLongitude:"18.33453",decimalLatitude:1.23456,decimalLongitude:18.33453}];function Oi(){const i=[];return ki.forEach(e=>{e.decimalLatitude?i.push(e):i.push({...e,...Ci})}),[...i,...Wi,...Ri]}const Di=Oi();Qe.formats=Di.map(i=>i.verbatimCoordinates);const Ui=Qe;function Tt(i,e,t){const n=i.slice();return n[83]=e[t],n[85]=t,n}function kt(i){let e,t;return e=new vi({}),{c(){fe(e.$$.fragment)},m(n,o){le(e,n,o),t=!0},i(n){t||(F(e.$$.fragment,n),t=!0)},o(n){Q(e.$$.fragment,n),t=!1},d(n){ue(e,n)}}}function Ct(i){let e,t,n,o,u;return t=new _i({}),{c(){e=D("button"),fe(t.$$.fragment),l(e,"type","button"),l(e,"title",i[9]),l(e,"class","svelte-qnu791"),de(e,"active",i[0])},m(a,r){A(a,e,r),le(t,e,null),n=!0,o||(u=x(e,"click",i[68]),o=!0)},p(a,r){(!n||r[0]&512)&&l(e,"title",a[9]),(!n||r[0]&1)&&de(e,"active",a[0])},i(a){n||(F(t.$$.fragment,a),n=!0)},o(a){Q(t.$$.fragment,a),n=!1},d(a){a&&U(e),ue(t),o=!1,u()}}}function Ii(i){let e,t=[],n=new Map,o,u,a,r=ht(i[14]);const d=c=>c[83].id+(c[83].address?","+c[83].address:"");for(let c=0;c<r.length;c+=1){let f=Tt(i,r,c),h=d(f);n.set(h,t[c]=Wt(h,f))}return{c(){e=D("ul");for(let c=0;c<t.length;c+=1)t[c].c();l(e,"class","svelte-qnu791")},m(c,f){A(c,e,f);for(let h=0;h<t.length;h+=1)t[h]&&t[h].m(e,null);o=!0,u||(a=[x(e,"mouseleave",i[72]),x(e,"blur",i[73])],u=!0)},p(c,f){f[0]&17880064&&(r=ht(c[14]),Ue(),t=ei(t,f,d,1,c,r,n,e,$t,Wt,null,Tt),Ie())},i(c){if(!o){for(let f=0;f<r.length;f+=1)F(t[f]);o=!0}},o(c){for(let f=0;f<t.length;f+=1)Q(t[f]);o=!1},d(c){c&&U(e);for(let f=0;f<t.length;f+=1)t[f].d();u=!1,se(a)}}}function Ai(i){let e,t,n,o,u,a;return t=new vt({}),{c(){e=D("div"),fe(t.$$.fragment),n=X(),o=D("div"),u=ce(i[7]),l(o,"class","svelte-qnu791"),l(e,"class","no-results svelte-qnu791")},m(r,d){A(r,e,d),le(t,e,null),M(e,n),M(e,o),M(o,u),a=!0},p(r,d){(!a||d[0]&128)&&Me(u,r[7])},i(r){a||(F(t.$$.fragment,r),a=!0)},o(r){Q(t.$$.fragment,r),a=!1},d(r){r&&U(e),ue(t)}}}function Bi(i){let e="",t;return{c(){t=ce(e)},m(n,o){A(n,t,o)},p:O,i:O,o:O,d(n){n&&U(t)}}}function Fi(i){let e,t,n,o,u,a,r,d,c,f,h;return t=new vt({}),d=new bt({}),{c(){e=D("div"),fe(t.$$.fragment),n=X(),o=D("div"),u=ce(i[6]),a=X(),r=D("button"),fe(d.$$.fragment),l(o,"class","svelte-qnu791"),l(r,"class","svelte-qnu791"),l(e,"class","error svelte-qnu791")},m(v,_){A(v,e,_),le(t,e,null),M(e,n),M(e,o),M(o,u),M(e,a),M(e,r),le(d,r,null),c=!0,f||(h=x(r,"click",i[69]),f=!0)},p(v,_){(!c||_[0]&64)&&Me(u,v[6])},i(v){c||(F(t.$$.fragment,v),F(d.$$.fragment,v),c=!0)},o(v){Q(t.$$.fragment,v),Q(d.$$.fragment,v),c=!1},d(v){v&&U(e),ue(t),ue(d),f=!1,h()}}}function Wt(i,e){let t,n,o;function u(){return e[70](e[85])}function a(){return e[71](e[83])}return n=new hi({props:{feature:e[83],showPlaceType:e[10],selected:e[15]===e[85],missingIconsCache:e[20],iconsBaseUrl:e[12]}}),n.$on("mouseenter",u),n.$on("focus",a),{key:i,first:null,c(){t=Pt(),fe(n.$$.fragment),this.first=t},m(r,d){A(r,t,d),le(n,r,d),o=!0},p(r,d){e=r;const c={};d[0]&16384&&(c.feature=e[83]),d[0]&1024&&(c.showPlaceType=e[10]),d[0]&49152&&(c.selected=e[15]===e[85]),d[0]&4096&&(c.iconsBaseUrl=e[12]),n.$set(c)},i(r){o||(F(n.$$.fragment,r),o=!0)},o(r){Q(n.$$.fragment,r),o=!1},d(r){r&&U(t),ue(n,r)}}}function ji(i){let e,t,n,o,u,a,r,d,c,f,h,v,_,w,W,y,E,C,R,p,K,b=!1;u=new wi({}),h=new bt({});let g=i[19]&&kt(),m=i[5]===!0&&Ct(i);const k=i[60].default,z=jt(k,i,i[59],null),$=[Fi,Bi,Ai,Ii],ee=[];function H(L,j){var te,ie;return L[18]?0:L[16]?((te=L[14])==null?void 0:te.length)===0?2:L[16]&&((ie=L[14])!=null&&ie.length)?3:-1:1}return~(y=H(i))&&(E=ee[y]=$[y](i)),{c(){e=X(),t=D("form"),n=D("div"),o=D("button"),fe(u.$$.fragment),a=X(),r=D("input"),d=X(),c=D("div"),f=D("button"),fe(h.$$.fragment),v=X(),g&&g.c(),_=X(),m&&m.c(),w=X(),z&&z.c(),W=X(),E&&E.c(),l(o,"class","search-button svelte-qnu791"),l(o,"type","button"),l(r,"placeholder",i[8]),l(r,"aria-label",i[8]),l(r,"class","svelte-qnu791"),l(f,"type","button"),l(f,"title",i[3]),l(f,"class","svelte-qnu791"),l(c,"class","clear-button-container svelte-qnu791"),de(c,"displayable",i[1]!==""),l(n,"class","input-group svelte-qnu791"),l(t,"tabindex","0"),l(t,"class",C=ut(i[2])+" svelte-qnu791"),de(t,"can-collapse",i[4]&&i[1]==="")},m(L,j){A(L,e,j),A(L,t,j),M(t,n),M(n,o),le(u,o,null),M(n,a),M(n,r),i[62](r),ct(r,i[1]),M(n,d),M(n,c),M(c,f),le(h,f,null),M(c,v),g&&g.m(c,null),M(n,_),m&&m.m(n,null),M(n,w),z&&z.m(n,null),M(t,W),~y&&ee[y].m(t,null),R=!0,p||(K=[x(o,"click",i[61]),x(r,"input",i[63]),x(r,"focus",i[64]),x(r,"blur",i[65]),x(r,"keydown",i[22]),x(r,"input",i[66]),x(f,"click",i[67]),x(t,"submit",Zt(i[21]))],p=!0)},p(L,j){(!R||j[0]&256)&&l(r,"placeholder",L[8]),(!R||j[0]&256)&&l(r,"aria-label",L[8]),j[0]&2&&r.value!==L[1]&&ct(r,L[1]),(!R||j[0]&8)&&l(f,"title",L[3]),L[19]?g?j[0]&524288&&F(g,1):(g=kt(),g.c(),F(g,1),g.m(c,null)):g&&(Ue(),Q(g,1,1,()=>{g=null}),Ie()),(!R||j[0]&2)&&de(c,"displayable",L[1]!==""),L[5]===!0?m?(m.p(L,j),j[0]&32&&F(m,1)):(m=Ct(L),m.c(),F(m,1),m.m(n,w)):m&&(Ue(),Q(m,1,1,()=>{m=null}),Ie()),z&&z.p&&(!R||j[1]&268435456)&&zt(z,k,L,L[59],R?qt(k,L[59],j,null):Ht(L[59]),null);let te=y;y=H(L),y===te?~y&&ee[y].p(L,j):(E&&(Ue(),Q(ee[te],1,1,()=>{ee[te]=null}),Ie()),~y?(E=ee[y],E?E.p(L,j):(E=ee[y]=$[y](L),E.c()),F(E,1),E.m(t,null)):E=null),(!R||j[0]&4&&C!==(C=ut(L[2])+" svelte-qnu791"))&&l(t,"class",C),(!R||j[0]&22)&&de(t,"can-collapse",L[4]&&L[1]==="")},i(L){R||(F(b),F(u.$$.fragment,L),F(h.$$.fragment,L),F(g),F(m),F(z,L),F(E),R=!0)},o(L){Q(b),Q(u.$$.fragment,L),Q(h.$$.fragment,L),Q(g),Q(m),Q(z,L),Q(E),R=!1},d(L){L&&(U(e),U(t)),ue(u),i[62](null),ue(h),g&&g.d(),m&&m.d(),z&&z.d(L),~y&&ee[y].d(),p=!1,se(K)}}}function qi(i,e,t){let n,{$$slots:o={},$$scope:u}=e;const a={continental_marine:4,country:4,major_landform:8,region:5,subregion:6,county:7,joint_municipality:8,joint_submunicipality:9,municipality:10,municipal_district:11,locality:12,neighbourhood:13,place:14,postal_code:14,road:16,poi:17,address:18,"poi.peak":15,"poi.shop":18,"poi.cafe":18,"poi.restaurant":18,"poi.aerodrome":13};let{class:r=void 0}=e,{apiKey:d}=e,{bbox:c=void 0}=e,{clearButtonTitle:f="clear"}=e,{clearOnBlur:h=!1}=e,{collapsed:v=!1}=e,{country:_=void 0}=e,{debounceSearch:w=200}=e,{enableReverse:W=!1}=e,{errorMessage:y="Something went wrong…"}=e,{filter:E=()=>!0}=e,{flyTo:C=!0}=e,{fuzzyMatch:R=!0}=e,{language:p=void 0}=e,{limit:K=void 0}=e,{mapController:b=void 0}=e,{minLength:g=2}=e,{noResultsMessage:m="Oops! Looks like you're trying to predict something that's not quite right. We can't seem to find what you're looking for. Maybe try double-checking your spelling or try a different search term. Keep on typing - we'll do our best to get you where you need to go!"}=e,{placeholder:k="Search"}=e,{proximity:z=[{type:"server-geolocation"}]}=e,{reverseActive:$=W==="always"}=e,{reverseButtonTitle:ee="toggle reverse geocoding"}=e,{searchValue:H=""}=e,{showFullGeometry:L=!0}=e,{showPlaceType:j="ifNeeded"}=e,{showResultsWhileTyping:te=!0}=e,{selectFirst:ie=!0}=e,{flyToSelected:Ke=!1}=e,{markerOnSelected:Ae=!0}=e,{types:Le=void 0}=e,{excludeTypes:Be=!1}=e,{zoom:Se=a}=e,{maxZoom:Fe=void 0}=e,{apiUrl:Ve="https://api.maptiler.com/geocoding"}=e,{fetchParameters:xe={}}=e,{iconsBaseUrl:Dt="https://cdn.maptiler.com/maptiler-geocoding-control/v1.4.1/icons/"}=e,{adjustUrlQuery:Je=()=>{}}=e;function Zi(){ne.focus()}function Gi(){ne.blur()}function Ut(s,B=!0,G=!1){t(1,H=s),B?(t(15,I=-1),At()):(et(!G,G),setTimeout(()=>{ne.focus(),ne.select()}))}function Qi(){t(14,T=void 0),t(56,S=void 0),t(15,I=-1)}function Ki(){t(55,P=[]),t(56,S=void 0)}let pe=!1,T,P,S,It="",ne,I=-1,re,je=[],_e,Ne,qe,Xe;const Vi=new Set,me=Vt();Kt(()=>{b&&(b.setEventHandler(void 0),b.indicateReverse(!1),b.setSelectedMarker(-1),b.setMarkers(void 0,void 0))});function At(s){if(Ne&&(clearTimeout(Ne),Ne=void 0),I>-1&&T)t(56,S=T[I]),t(1,H=S.place_type[0]==="reverse"?S.place_name:S.place_name.replace(/,.*/,"")),t(18,re=void 0),t(55,P=void 0),t(15,I=-1);else if(H){const B=s||!Ye(H);$e(H,{exact:!0}).then(()=>{t(55,P=T),t(56,S=void 0),B&&xi()}).catch(G=>t(18,re=G))}}function Ye(s){try{return Ui(s,6)}catch{return!1}}async function $e(s,{byId:B=!1,exact:G=!1}={}){t(18,re=void 0),_e==null||_e.abort();const Y=new AbortController;t(19,_e=Y);try{const N=Ye(s),Z=new URLSearchParams;if(p!==void 0&&Z.set("language",Array.isArray(p)?p.join(","):p??""),Le&&Z.set("types",Le.join(",")),Be&&Z.set("excludeTypes",String(Be)),c&&Z.set("bbox",c.map(ze=>ze.toFixed(6)).join(",")),_&&Z.set("country",Array.isArray(_)?_.join(","):_),!B&&!N){const ze=await Si(b,z,Y);ze&&Z.set("proximity",ze),(G||!te)&&Z.set("autocomplete","false"),Z.set("fuzzyMatch",String(R))}K!==void 0&&(!N||(Le==null?void 0:Le.length)===1)&&Z.set("limit",String(K)),Z.set("key",d),Je(Z);const oe=Ve+"/"+encodeURIComponent(N?N.decimalLongitude+","+N.decimalLatitude:s)+".json?"+Z.toString();if(oe===It){B?(t(14,T=void 0),t(56,S=je[0])):t(14,T=je);return}It=oe;const it=await fetch(oe,{signal:Y.signal,...xe});if(!it.ok)throw new Error(await it.text());const nt=await it.json();me("response",{url:oe,featureCollection:nt}),B?(t(14,T=void 0),t(56,S=nt.features[0]),je=[S]):(t(14,T=nt.features.filter(E)),N&&T.unshift({type:"Feature",properties:{},id:"reverse_"+N.decimalLongitude+"_"+N.decimalLatitude,text:N.decimalLatitude+", "+N.decimalLongitude,place_name:N.decimalLatitude+", "+N.decimalLongitude,place_type:["reverse"],center:[N.decimalLongitude,N.decimalLatitude],bbox:[N.decimalLongitude,N.decimalLatitude,N.decimalLongitude,N.decimalLatitude],geometry:{type:"Point",coordinates:[N.decimalLongitude,N.decimalLatitude]}}),je=T,N&&ne.focus())}catch(N){if(N&&typeof N=="object"&&"name"in N&&N.name==="AbortError")return;throw N}finally{Y===_e&&t(19,_e=void 0)}}function xi(){var Y;if(!(P!=null&&P.length)||!C)return;const s=[180,90,-180,-90],B=!P.some(N=>!N.matching_text);let G;for(const N of P){const Z=Re(N);if(G=Fe??(G===void 0?Z:Z===void 0?G:Math.max(G,Z)),B||!N.matching_text)for(const oe of[0,1,2,3])s[oe]=Math[oe<2?"min":"max"](s[oe],((Y=N.bbox)==null?void 0:Y[oe])??N.center[oe%2])}b&&P.length>0&&(S&&s[0]===s[2]&&s[1]===s[3]?b.flyTo(S.center,Re(S)):b.fitBounds(_t(s),50,G))}function Re(s){var G;if(!s.bbox||s.bbox[0]!==s.bbox[2]&&s.bbox[1]!==s.bbox[3])return;if(typeof Se=="number")return s.id.startsWith("poi.")||s.id.startsWith("address.")?Fe:Se;const B=s.id.replace(/\..*/,"");return(Array.isArray((G=s.properties)==null?void 0:G.categories)?s.properties.categories.reduce((Y,N)=>{const Z=Se[B+"."+N];return Y===void 0?Z:Z===void 0?Y:Math.max(Y,Z)},void 0):void 0)??Se[B]}function Ji(s){t(0,$=W==="always"),t(14,T=void 0),t(56,S=void 0),t(15,I=-1),Ut(s[1].toFixed(6)+", "+Ei(s[0],[-180,180],!0).toFixed(6),!1,!0)}function Xi(s){if(!T)return;let B=s.key==="ArrowDown"?1:s.key==="ArrowUp"?-1:0;B&&(I===(ie?0:-1)&&B===-1&&t(15,I=T.length),t(15,I+=B),I>=T.length&&t(15,I=-1),I<0&&ie&&t(15,I=0),s.preventDefault())}function et(s=!0,B=!1){if(t(18,re=void 0),te||B){if(Ne&&clearTimeout(Ne),H.length<g)return;const G=H;Ne=window.setTimeout(()=>{$e(G).catch(Y=>t(18,re=Y))},s?w:0)}else t(14,T=void 0),t(18,re=void 0)}function tt(s){t(56,S=s),t(1,H=s.place_name),t(15,I=-1)}const Yi=()=>ne.focus();function $i(s){He[s?"unshift":"push"](()=>{ne=s,t(17,ne)})}function en(){H=this.value,t(1,H),t(13,pe),t(28,h)}const tn=()=>t(13,pe=!0),nn=()=>t(13,pe=!1),rn=()=>et(),on=()=>{t(1,H=""),ne.focus()},sn=()=>t(0,$=!$),an=()=>t(18,re=void 0),ln=s=>t(15,I=s),un=s=>tt(s),cn=()=>{ie||t(15,I=-1)},dn=()=>{};return i.$$set=s=>{"class"in s&&t(2,r=s.class),"apiKey"in s&&t(26,d=s.apiKey),"bbox"in s&&t(27,c=s.bbox),"clearButtonTitle"in s&&t(3,f=s.clearButtonTitle),"clearOnBlur"in s&&t(28,h=s.clearOnBlur),"collapsed"in s&&t(4,v=s.collapsed),"country"in s&&t(29,_=s.country),"debounceSearch"in s&&t(30,w=s.debounceSearch),"enableReverse"in s&&t(5,W=s.enableReverse),"errorMessage"in s&&t(6,y=s.errorMessage),"filter"in s&&t(31,E=s.filter),"flyTo"in s&&t(32,C=s.flyTo),"fuzzyMatch"in s&&t(33,R=s.fuzzyMatch),"language"in s&&t(34,p=s.language),"limit"in s&&t(35,K=s.limit),"mapController"in s&&t(36,b=s.mapController),"minLength"in s&&t(37,g=s.minLength),"noResultsMessage"in s&&t(7,m=s.noResultsMessage),"placeholder"in s&&t(8,k=s.placeholder),"proximity"in s&&t(38,z=s.proximity),"reverseActive"in s&&t(0,$=s.reverseActive),"reverseButtonTitle"in s&&t(9,ee=s.reverseButtonTitle),"searchValue"in s&&t(1,H=s.searchValue),"showFullGeometry"in s&&t(39,L=s.showFullGeometry),"showPlaceType"in s&&t(10,j=s.showPlaceType),"showResultsWhileTyping"in s&&t(40,te=s.showResultsWhileTyping),"selectFirst"in s&&t(11,ie=s.selectFirst),"flyToSelected"in s&&t(41,Ke=s.flyToSelected),"markerOnSelected"in s&&t(42,Ae=s.markerOnSelected),"types"in s&&t(43,Le=s.types),"excludeTypes"in s&&t(44,Be=s.excludeTypes),"zoom"in s&&t(45,Se=s.zoom),"maxZoom"in s&&t(46,Fe=s.maxZoom),"apiUrl"in s&&t(47,Ve=s.apiUrl),"fetchParameters"in s&&t(48,xe=s.fetchParameters),"iconsBaseUrl"in s&&t(12,Dt=s.iconsBaseUrl),"adjustUrlQuery"in s&&t(49,Je=s.adjustUrlQuery),"$$scope"in s&&t(59,u=s.$$scope)},i.$$.update=()=>{if(i.$$.dirty[0]&32&&t(0,$=W==="always"),i.$$.dirty[0]&268443648&&setTimeout(()=>{t(16,qe=pe),h&&!pe&&t(1,H="")}),i.$$.dirty[0]&16386|i.$$.dirty[1]&64&&H.length<g&&(t(56,S=void 0),t(14,T=void 0),t(18,re=void 0),t(55,P=T)),i.$$.dirty[1]&33554688&&L&&S&&!S.address&&S.geometry.type==="Point"&&S.place_type[0]!=="reverse"&&$e(S.id,{byId:!0}).catch(s=>t(18,re=s)),i.$$.dirty[1]&100663330&&(b&&S&&S.id!==Xe&&C&&(!S.bbox||S.bbox[0]===S.bbox[2]&&S.bbox[1]===S.bbox[3]?b.flyTo(S.center,Re(S)):b.fitBounds(_t(S.bbox),50,Re(S)),t(14,T=void 0),t(55,P=void 0),t(15,I=-1)),t(57,Xe=S==null?void 0:S.id)),i.$$.dirty[0]&18432&&ie&&T!=null&&T.length&&t(15,I=0),i.$$.dirty[0]&2050&&(ie||t(15,I=-1)),i.$$.dirty[0]&16384|i.$$.dirty[1]&16777216&&P!==T&&t(55,P=void 0),i.$$.dirty[0]&81921|i.$$.dirty[1]&16777248&&b&&b.setEventHandler(s=>{switch(s.type){case"mapClick":$&&Ji(s.coordinates);break;case"markerClick":{const B=T==null?void 0:T.find(G=>G.id===s.id);B&&tt(B)}break;case"markerMouseEnter":P&&t(15,I=qe?(T==null?void 0:T.findIndex(B=>B.id===s.id))??-1:-1);break;case"markerMouseLeave":P&&t(15,I=-1);break}}),i.$$.dirty[0]&49152&&t(58,n=T==null?void 0:T[I]),i.$$.dirty[1]&134218786&&b&&n&&C&&Ke&&b.flyTo(n.center,Re(n)),i.$$.dirty[1]&2080&&(Ae||b==null||b.setMarkers(void 0,void 0)),i.$$.dirty[1]&150997024&&b&&Ae&&!P&&(b.setMarkers(n?[n]:void 0,void 0),b.setSelectedMarker(n?0:-1)),i.$$.dirty[1]&50331680&&b&&b.setMarkers(P,S),i.$$.dirty[0]&32768|i.$$.dirty[1]&16777248&&P&&b&&b.setSelectedMarker(I),i.$$.dirty[0]&2|i.$$.dirty[1]&32&&b){const s=Ye(H);b.setReverseMarker(s?[s.decimalLongitude,s.decimalLatitude]:void 0)}i.$$.dirty[1]&134217728&&me("select",n),i.$$.dirty[1]&33554432&&me("pick",S),i.$$.dirty[0]&81920&&me("optionsVisibilityChange",qe&&!!T),i.$$.dirty[0]&16384&&me("featuresListed",T),i.$$.dirty[1]&16777216&&me("featuresMarked",P),i.$$.dirty[0]&1&&me("reverseToggle",$),i.$$.dirty[0]&2&&me("queryChange",H),i.$$.dirty[0]&1|i.$$.dirty[1]&32&&b&&b.indicateReverse($)},[$,H,r,f,v,W,y,m,k,ee,j,ie,Dt,pe,T,I,qe,ne,re,_e,Vi,At,Xi,et,tt,a,d,c,h,_,w,E,C,R,p,K,b,g,z,L,te,Ke,Ae,Le,Be,Se,Fe,Ve,xe,Je,Zi,Gi,Ut,Qi,Ki,P,S,Xe,n,u,o,Yi,$i,en,tn,nn,rn,on,sn,an,ln,un,cn,dn]}class zi extends ve{constructor(e){super(),be(this,e,qi,ji,ge,{ZOOM_DEFAULTS:25,class:2,apiKey:26,bbox:27,clearButtonTitle:3,clearOnBlur:28,collapsed:4,country:29,debounceSearch:30,enableReverse:5,errorMessage:6,filter:31,flyTo:32,fuzzyMatch:33,language:34,limit:35,mapController:36,minLength:37,noResultsMessage:7,placeholder:8,proximity:38,reverseActive:0,reverseButtonTitle:9,searchValue:1,showFullGeometry:39,showPlaceType:10,showResultsWhileTyping:40,selectFirst:11,flyToSelected:41,markerOnSelected:42,types:43,excludeTypes:44,zoom:45,maxZoom:46,apiUrl:47,fetchParameters:48,iconsBaseUrl:12,adjustUrlQuery:49,focus:50,blur:51,setQuery:52,clearList:53,clearMap:54},null,[-1,-1,-1])}get ZOOM_DEFAULTS(){return this.$$.ctx[25]}get focus(){return this.$$.ctx[50]}get blur(){return this.$$.ctx[51]}get setQuery(){return this.$$.ctx[52]}get clearList(){return this.$$.ctx[53]}get clearMap(){return this.$$.ctx[54]}}const Rt=["featuresListed","featuresMarked","optionsVisibilityChange","pick","queryChange","response","reverseToggle","select"],Hi=["apiKey","bbox","clearButtonTitle","clearOnBlur","collapsed","country","debounceSearch","enableReverse","reverseActive","errorMessage","filter","fuzzyMatch","language","limit","minLength","noResultsMessage","placeholder","proximity","reverseButtonTitle","showFullGeometry","showPlaceType","showResultsWhileTyping","adjustUrlQuery","types","excludeTypes","zoom","mapController"];function Ot(i){return"on"+i[0].toUpperCase()+i.slice(1)}const Pi=q.forwardRef(function(e,t){const n=q.useRef(),o=q.useRef(),u={...e};for(const a of Rt)delete u[Ot(a)];q.useEffect(()=>{if(!n.current)throw new Error;const a=new zi({target:n.current,props:u});return o.current=a,()=>a.$destroy()},[]);for(const a of Hi)q.useEffect(()=>{o.current&&e[a]!==void 0&&o.current.$set({[a]:e[a]})},[e[a]]);for(const a of Rt){const r=e[Ot(a)];q.useEffect(()=>{var d;return r&&((d=o.current)==null?void 0:d.$on(a,c=>{r(c.detail)}))},[r])}return q.useImperativeHandle(t,()=>({setQuery:(a,r=!0)=>{var d;return(d=o.current)==null?void 0:d.setQuery(a,r)},clearMap:()=>{var a;return(a=o.current)==null?void 0:a.clearMap()},clearList:()=>{var a;return(a=o.current)==null?void 0:a.clearList()},focus:()=>{var a;return(a=o.current)==null?void 0:a.focus()},blur:()=>{var a;return(a=o.current)==null?void 0:a.blur()}})),q.createElement("div",{ref:n})});J.GeocodingControl=Pi,Object.defineProperty(J,Symbol.toStringTag,{value:"Module"})});
//# sourceMappingURL=react.umd.js.map
