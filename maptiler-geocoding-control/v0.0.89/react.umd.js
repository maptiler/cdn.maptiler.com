(function(le,Z){typeof exports=="object"&&typeof module<"u"?Z(exports,require("react")):typeof define=="function"&&define.amd?define(["exports","react"],Z):(le=typeof globalThis<"u"?globalThis:le||self,Z(le.MapTilerGeocoder={},le.React))})(this,function(le,Z){"use strict";function p(){}function ht(t,e){for(const n in e)t[n]=e[n];return t}function De(t){return t()}function Ke(){return Object.create(null)}function Y(t){t.forEach(De)}function Ve(t){return typeof t=="function"}function ie(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function mt(t){return Object.keys(t).length===0}function _t(t,e,n,r){if(t){const o=He(t,e,n,r);return t[0](o)}}function He(t,e,n,r){return t[1]&&r?ht(n.ctx.slice(),t[1](r(e))):n.ctx}function gt(t,e,n,r){if(t[2]&&r){const o=t[2](r(n));if(e.dirty===void 0)return o;if(typeof o=="object"){const u=[],l=Math.max(e.dirty.length,o.length);for(let f=0;f<l;f+=1)u[f]=e.dirty[f]|o[f];return u}return e.dirty|o}return e.dirty}function yt(t,e,n,r,o,u){if(o){const l=He(e,n,r,u);t.p(l,o)}}function bt(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let r=0;r<n;r++)e[r]=-1;return e}return-1}function Qe(t){return t??""}function _(t,e){t.appendChild(e)}function O(t,e,n){t.insertBefore(e,n||null)}function j(t){t.parentNode&&t.parentNode.removeChild(t)}function wt(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function E(t){return document.createElement(t)}function $(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function oe(t){return document.createTextNode(t)}function q(){return oe(" ")}function N(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function vt(t){return function(e){return e.preventDefault(),t.call(this,e)}}function d(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function kt(t){return Array.from(t.childNodes)}function ve(t,e){e=""+e,t.data!==e&&(t.data=e)}function We(t,e){t.value=e??""}function ee(t,e,n){t.classList[n?"add":"remove"](e)}function pt(t,e,{bubbles:n=!1,cancelable:r=!1}={}){const o=document.createEvent("CustomEvent");return o.initCustomEvent(t,n,r,e),o}let ke;function pe(t){ke=t}function Ue(){if(!ke)throw new Error("Function called outside component initialization");return ke}function Tt(t){Ue().$$.on_destroy.push(t)}function Mt(){const t=Ue();return(e,n,{cancelable:r=!1}={})=>{const o=t.$$.callbacks[e];if(o){const u=pt(e,n,{cancelable:r});return o.slice().forEach(l=>{l.call(t,u)}),!u.defaultPrevented}return!0}}function Je(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach(r=>r.call(this,e))}const me=[],Ae=[];let _e=[];const Xe=[],Rt=Promise.resolve();let Ie=!1;function Lt(){Ie||(Ie=!0,Rt.then(Ye))}function xe(t){_e.push(t)}const je=new Set;let ge=0;function Ye(){if(ge!==0)return;const t=ke;do{try{for(;ge<me.length;){const e=me[ge];ge++,pe(e),Et(e.$$)}}catch(e){throw me.length=0,ge=0,e}for(pe(null),me.length=0,ge=0;Ae.length;)Ae.pop()();for(let e=0;e<_e.length;e+=1){const n=_e[e];je.has(n)||(je.add(n),n())}_e.length=0}while(me.length);for(;Xe.length;)Xe.pop()();Ie=!1,je.clear(),pe(t)}function Et(t){if(t.fragment!==null){t.update(),Y(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(xe)}}function zt(t){const e=[],n=[];_e.forEach(r=>t.indexOf(r)===-1?e.push(r):n.push(r)),n.forEach(r=>r()),_e=e}const Re=new Set;let ce;function Le(){ce={r:0,c:[],p:ce}}function Ee(){ce.r||Y(ce.c),ce=ce.p}function R(t,e){t&&t.i&&(Re.delete(t),t.i(e))}function B(t,e,n,r){if(t&&t.o){if(Re.has(t))return;Re.add(t),ce.c.push(()=>{Re.delete(t),r&&(n&&t.d(1),r())}),t.o(e)}else r&&r()}function te(t){t&&t.c()}function Q(t,e,n,r){const{fragment:o,after_update:u}=t.$$;o&&o.m(e,n),r||xe(()=>{const l=t.$$.on_mount.map(De).filter(Ve);t.$$.on_destroy?t.$$.on_destroy.push(...l):Y(l),t.$$.on_mount=[]}),u.forEach(xe)}function W(t,e){const n=t.$$;n.fragment!==null&&(zt(n.after_update),Y(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Ct(t,e){t.$$.dirty[0]===-1&&(me.push(t),Lt(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function ue(t,e,n,r,o,u,l,f=[-1]){const c=ke;pe(t);const a=t.$$={fragment:null,ctx:[],props:u,update:p,not_equal:o,bound:Ke(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(c?c.$$.context:[])),callbacks:Ke(),dirty:f,skip_bound:!1,root:e.target||c.$$.root};l&&l(a.root);let h=!1;if(a.ctx=n?n(t,e.props||{},(T,y,...P)=>{const v=P.length?P[0]:y;return a.ctx&&o(a.ctx[T],a.ctx[T]=v)&&(!a.skip_bound&&a.bound[T]&&a.bound[T](v),h&&Ct(t,T)),y}):[],a.update(),h=!0,Y(a.before_update),a.fragment=r?r(a.ctx):!1,e.target){if(e.hydrate){const T=kt(e.target);a.fragment&&a.fragment.l(T),T.forEach(j)}else a.fragment&&a.fragment.c();e.intro&&R(t.$$.fragment),Q(t,e.target,e.anchor,e.customElement),Ye()}pe(c)}class se{$destroy(){W(this,1),this.$destroy=p}$on(e,n){if(!Ve(n))return p;const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(n),()=>{const o=r.indexOf(n);o!==-1&&r.splice(o,1)}}$set(e){this.$$set&&!mt(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const gn="";function Bt(t){let e,n;return{c(){e=$("svg"),n=$("path"),d(n,"d","M13.12.706a.982.982 0 0 0-1.391 0L6.907 5.517 2.087.696a.982.982 0 1 0-1.391 1.39l4.821 4.821L.696 11.73a.982.982 0 1 0 1.39 1.39l4.821-4.821 4.822 4.821a.982.982 0 1 0 1.39-1.39L8.298 6.908l4.821-4.822a.988.988 0 0 0 0-1.38Z"),d(e,"viewBox","0 0 14 14"),d(e,"width","13"),d(e,"height","13"),d(e,"class","svelte-en2qvf")},m(r,o){O(r,e,o),_(e,n)},p,i:p,o:p,d(r){r&&j(e)}}}class $e extends se{constructor(e){super(),ue(this,e,null,Bt,ie,{})}}const yn="";function Pt(t){let e,n;return{c(){e=$("svg"),n=$("path"),d(n,"d","M15 0C6.705 0 0 6.705 0 15C0 23.295 6.705 30 15 30C23.295 30 30 23.295 30 15C30 6.705 23.295 0 15 0ZM22.5 20.385L20.385 22.5L15 17.115L9.615 22.5L7.5 20.385L12.885 15L7.5 9.615L9.615 7.5L15 12.885L20.385 7.5L22.5 9.615L17.115 15L22.5 20.385Z"),d(e,"viewBox","0 0 30 30"),d(e,"fill","none"),d(e,"xmlns","http://www.w3.org/2000/svg"),d(e,"class","svelte-d2loi5")},m(r,o){O(r,e,o),_(e,n)},p,i:p,o:p,d(r){r&&j(e)}}}class et extends se{constructor(e){super(),ue(this,e,null,Pt,ie,{})}}const bn="";function tt(t){var o,u;let e,n=(((u=(o=t[0].properties)==null?void 0:o.place_type_name)==null?void 0:u[0])??t[0].place_type[0])+"",r;return{c(){e=E("span"),r=oe(n),d(e,"class","line2 svelte-ewziy4")},m(l,f){O(l,e,f),_(e,r)},p(l,f){var c,a;f&1&&n!==(n=(((a=(c=l[0].properties)==null?void 0:c.place_type_name)==null?void 0:a[0])??l[0].place_type[0])+"")&&ve(r,n)},d(l){l&&j(e)}}}function St(t){let e,n,r,o,u=t[0].place_name.replace(/,.*/,"")+"",l,f,c,a=t[0].place_name.replace(/[^,]*,?\s*/,"")+"",h,T,y,P,v=t[2]&&tt(t);return{c(){e=E("li"),n=E("span"),r=E("span"),o=E("span"),l=oe(u),f=q(),c=E("span"),h=oe(a),T=q(),v&&v.c(),d(o,"class","primary svelte-ewziy4"),d(c,"class","secondary svelte-ewziy4"),d(r,"class","svelte-ewziy4"),d(n,"class","texts svelte-ewziy4"),d(e,"tabindex","0"),d(e,"data-selected",t[1]),d(e,"class","svelte-ewziy4"),ee(e,"selected",t[1])},m(g,w){O(g,e,w),_(e,n),_(n,r),_(r,o),_(o,l),_(r,f),_(r,c),_(c,h),_(n,T),v&&v.m(n,null),y||(P=[N(e,"mouseenter",t[3]),N(e,"focus",t[4])],y=!0)},p(g,[w]){w&1&&u!==(u=g[0].place_name.replace(/,.*/,"")+"")&&ve(l,u),w&1&&a!==(a=g[0].place_name.replace(/[^,]*,?\s*/,"")+"")&&ve(h,a),g[2]?v?v.p(g,w):(v=tt(g),v.c(),v.m(n,null)):v&&(v.d(1),v=null),w&2&&d(e,"data-selected",g[1]),w&2&&ee(e,"selected",g[1])},i:p,o:p,d(g){g&&j(e),v&&v.d(),y=!1,Y(P)}}}function At(t,e,n){let{feature:r}=e,{selected:o=!1}=e,{showPlaceType:u=!1}=e;function l(c){Je.call(this,t,c)}function f(c){Je.call(this,t,c)}return t.$$set=c=>{"feature"in c&&n(0,r=c.feature),"selected"in c&&n(1,o=c.selected),"showPlaceType"in c&&n(2,u=c.showPlaceType)},[r,o,u,l,f]}class It extends se{constructor(e){super(),ue(this,e,At,St,ie,{feature:0,selected:1,showPlaceType:2})}}const wn="";function xt(t){let e;return{c(){e=E("div"),e.innerHTML='<svg viewBox="0 0 18 18" width="24" height="24" class="svelte-7cmwmc"><path fill="#333" d="M4.4 4.4l.8.8c2.1-2.1 5.5-2.1 7.6 0l.8-.8c-2.5-2.5-6.7-2.5-9.2 0z"></path><path opacity=".1" d="M12.8 12.9c-2.1 2.1-5.5 2.1-7.6 0-2.1-2.1-2.1-5.5 0-7.7l-.8-.8c-2.5 2.5-2.5 6.7 0 9.2s6.6 2.5 9.2 0 2.5-6.6 0-9.2l-.8.8c2.2 2.1 2.2 5.6 0 7.7z"></path></svg>',d(e,"class","svelte-7cmwmc")},m(n,r){O(n,e,r)},p,i:p,o:p,d(n){n&&j(e)}}}class jt extends se{constructor(e){super(),ue(this,e,null,xt,ie,{})}}const vn="";function Nt(t){let e,n;return{c(){e=$("svg"),n=$("path"),d(n,"d","M30.003-26.765C13.46-26.765 0-14.158 0 1.337c0 23.286 24.535 42.952 28.39 46.04.24.192.402.316.471.376.323.282.732.424 1.142.424.41 0 .82-.142 1.142-.424.068-.06.231-.183.471-.376 3.856-3.09 28.39-22.754 28.39-46.04 0-15.495-13.46-28.102-30.003-28.102Zm1.757 12.469c4.38 0 7.858 1.052 10.431 3.158 2.595 2.105 3.89 4.913 3.89 8.422 0 2.34-.53 4.362-1.593 6.063-1.063 1.702-3.086 3.616-6.063 5.742-2.042 1.51-3.337 2.659-3.89 3.446-.532.787-.8 1.82-.8 3.096v1.914h-8.449V15.18c0-2.041.434-3.815 1.306-5.325.872-1.51 2.467-3.118 4.785-4.82 2.233-1.594 3.7-2.89 4.402-3.889a5.582 5.582 0 0 0 1.087-3.35c0-1.382-.51-2.435-1.531-3.158-1.02-.723-2.45-1.087-4.28-1.087-3.19 0-6.826 1.047-10.91 3.131l-3.472-6.986c4.742-2.659 9.77-3.992 15.087-3.992Zm-1.88 37.324c1.765 0 3.124.472 4.08 1.408.98.936 1.47 2.276 1.47 4.02 0 1.68-.49 3.007-1.47 3.985-.977.957-2.336 1.435-4.08 1.435-1.787 0-3.171-.465-4.15-1.4-.978-.958-1.47-2.298-1.47-4.02 0-1.787.48-3.14 1.436-4.054.957-.915 2.355-1.374 4.184-1.374Z"),d(e,"viewBox","0 0 60.006 21.412"),d(e,"width","14"),d(e,"height","20"),d(e,"class","svelte-en2qvf")},m(r,o){O(r,e,o),_(e,n)},p,i:p,o:p,d(r){r&&j(e)}}}class Gt extends se{constructor(e){super(),ue(this,e,null,Nt,ie,{})}}const kn="";function Ot(t){let e,n;return{c(){e=$("svg"),n=$("path"),d(n,"d","M13.101 14.261 8.74 9.899a4.797 4.797 0 0 1-1.425.748 5.165 5.165 0 0 1-1.603.248c-1.446 0-2.677-.5-3.693-1.503S.495 7.164.495 5.717c0-1.446.508-2.678 1.524-3.693C3.035 1.008 4.266.5 5.712.5c1.448 0 2.672.508 3.675 1.524 1.002 1.015 1.503 2.247 1.503 3.693 0 .558-.08 1.092-.239 1.603-.159.512-.411.98-.757 1.405l4.382 4.4a.74.74 0 0 1 .229.568.81.81 0 0 1-.249.568.787.787 0 0 1-.577.239.787.787 0 0 1-.578-.239ZM5.712 9.223c.97 0 1.796-.342 2.48-1.026a3.378 3.378 0 0 0 1.026-2.48c0-.982-.34-1.818-1.016-2.509-.677-.69-1.507-1.035-2.49-1.035a3.42 3.42 0 0 0-2.509 1.035 3.42 3.42 0 0 0-1.035 2.51c0 .982.345 1.812 1.035 2.488.691.678 1.527 1.017 2.51 1.017Z"),d(e,"width","14"),d(e,"height","14"),d(e,"viewBox","0 0 15 15"),d(e,"class","svelte-en2qvf")},m(r,o){O(r,e,o),_(e,n)},p,i:p,o:p,d(r){r&&j(e)}}}class Ft extends se{constructor(e){super(),ue(this,e,null,Ot,ie,{})}}const pn="";function nt(t,e,n){const r=t.slice();return r[70]=e[n],r[72]=n,r}function rt(t){let e,n;return e=new jt({}),{c(){te(e.$$.fragment)},m(r,o){Q(e,r,o),n=!0},i(r){n||(R(e.$$.fragment,r),n=!0)},o(r){B(e.$$.fragment,r),n=!1},d(r){W(e,r)}}}function lt(t){let e,n,r,o,u;return n=new Gt({}),{c(){e=E("button"),te(n.$$.fragment),d(e,"type","button"),d(e,"title",t[9]),d(e,"class","svelte-1r7dvt7"),ee(e,"active",t[0])},m(l,f){O(l,e,f),Q(n,e,null),r=!0,o||(u=N(e,"click",t[56]),o=!0)},p(l,f){(!r||f[0]&512)&&d(e,"title",l[9]),(!r||f[0]&1)&&ee(e,"active",l[0])},i(l){r||(R(n.$$.fragment,l),r=!0)},o(l){B(n.$$.fragment,l),r=!1},d(l){l&&j(e),W(n),o=!1,u()}}}function Zt(t){let e,n,r,o,u=t[12],l=[];for(let c=0;c<u.length;c+=1)l[c]=it(nt(t,u,c));const f=c=>B(l[c],1,1,()=>{l[c]=null});return{c(){e=E("ul");for(let c=0;c<l.length;c+=1)l[c].c();d(e,"class","svelte-1r7dvt7")},m(c,a){O(c,e,a);for(let h=0;h<l.length;h+=1)l[h]&&l[h].m(e,null);n=!0,r||(o=[N(e,"mouseleave",t[60]),N(e,"blur",t[61])],r=!0)},p(c,a){if(a[0]&2110464){u=c[12];let h;for(h=0;h<u.length;h+=1){const T=nt(c,u,h);l[h]?(l[h].p(T,a),R(l[h],1)):(l[h]=it(T),l[h].c(),R(l[h],1),l[h].m(e,null))}for(Le(),h=u.length;h<l.length;h+=1)f(h);Ee()}},i(c){if(!n){for(let a=0;a<u.length;a+=1)R(l[a]);n=!0}},o(c){l=l.filter(Boolean);for(let a=0;a<l.length;a+=1)B(l[a]);n=!1},d(c){c&&j(e),wt(l,c),r=!1,Y(o)}}}function qt(t){let e,n,r,o,u,l;return n=new et({}),{c(){e=E("div"),te(n.$$.fragment),r=q(),o=E("div"),u=oe(t[7]),d(o,"class","svelte-1r7dvt7"),d(e,"class","no-results svelte-1r7dvt7")},m(f,c){O(f,e,c),Q(n,e,null),_(e,r),_(e,o),_(o,u),l=!0},p(f,c){(!l||c[0]&128)&&ve(u,f[7])},i(f){l||(R(n.$$.fragment,f),l=!0)},o(f){B(n.$$.fragment,f),l=!1},d(f){f&&j(e),W(n)}}}function Dt(t){let e="",n;return{c(){n=oe(e)},m(r,o){O(r,n,o)},p,i:p,o:p,d(r){r&&j(n)}}}function Kt(t){let e,n,r,o,u,l,f,c,a,h,T;return n=new et({}),c=new $e({}),{c(){e=E("div"),te(n.$$.fragment),r=q(),o=E("div"),u=oe(t[6]),l=q(),f=E("button"),te(c.$$.fragment),d(o,"class","svelte-1r7dvt7"),d(f,"class","svelte-1r7dvt7"),d(e,"class","error svelte-1r7dvt7")},m(y,P){O(y,e,P),Q(n,e,null),_(e,r),_(e,o),_(o,u),_(e,l),_(e,f),Q(c,f,null),a=!0,h||(T=N(f,"click",t[57]),h=!0)},p(y,P){(!a||P[0]&64)&&ve(u,y[6])},i(y){a||(R(n.$$.fragment,y),R(c.$$.fragment,y),a=!0)},o(y){B(n.$$.fragment,y),B(c.$$.fragment,y),a=!1},d(y){y&&j(e),W(n),W(c),h=!1,T()}}}function it(t){let e,n;function r(){return t[58](t[72])}function o(){return t[59](t[70])}return e=new It({props:{feature:t[70],showPlaceType:t[10],selected:t[13]===t[72]}}),e.$on("mouseenter",r),e.$on("focus",o),{c(){te(e.$$.fragment)},m(u,l){Q(e,u,l),n=!0},p(u,l){t=u;const f={};l[0]&4096&&(f.feature=t[70]),l[0]&1024&&(f.showPlaceType=t[10]),l[0]&8192&&(f.selected=t[13]===t[72]),e.$set(f)},i(u){n||(R(e.$$.fragment,u),n=!0)},o(u){B(e.$$.fragment,u),n=!1},d(u){W(e,u)}}}function Vt(t){let e,n,r,o,u,l,f,c,a,h,T,y,P,v,g,w,U,A,D,fe;o=new Ft({}),h=new $e({});let m=t[17]&&rt(),M=t[5]===!0&&lt(t);const ye=t[48].default,G=_t(ye,t,t[47],null),J=[Kt,Dt,qt,Zt],S=[];function Te(s,L){var X,ae;return s[16]?0:s[14]?((X=s[12])==null?void 0:X.length)===0?2:s[14]&&((ae=s[12])!=null&&ae.length)?3:-1:1}return~(g=Te(t))&&(w=S[g]=J[g](t)),{c(){e=E("form"),n=E("div"),r=E("button"),te(o.$$.fragment),u=q(),l=E("input"),f=q(),c=E("div"),a=E("button"),te(h.$$.fragment),T=q(),m&&m.c(),y=q(),M&&M.c(),P=q(),G&&G.c(),v=q(),w&&w.c(),d(r,"class","search-button svelte-1r7dvt7"),d(r,"type","button"),d(l,"placeholder",t[8]),d(l,"aria-label",t[8]),d(l,"class","svelte-1r7dvt7"),d(a,"type","button"),d(a,"title",t[3]),d(a,"class","svelte-1r7dvt7"),d(c,"class","clear-button-container svelte-1r7dvt7"),ee(c,"displayable",t[1]!==""),d(n,"class","input-group svelte-1r7dvt7"),d(e,"tabindex","0"),d(e,"class",U=Qe(t[2])+" svelte-1r7dvt7"),ee(e,"can-collapse",t[4]&&t[1]==="")},m(s,L){O(s,e,L),_(e,n),_(n,r),Q(o,r,null),_(n,u),_(n,l),t[50](l),We(l,t[1]),_(n,f),_(n,c),_(c,a),Q(h,a,null),_(c,T),m&&m.m(c,null),_(n,y),M&&M.m(n,null),_(n,P),G&&G.m(n,null),_(e,v),~g&&S[g].m(e,null),A=!0,D||(fe=[N(r,"click",t[49]),N(l,"input",t[51]),N(l,"focus",t[52]),N(l,"blur",t[53]),N(l,"keydown",t[19]),N(l,"input",t[54]),N(a,"click",t[55]),N(e,"submit",vt(t[18]))],D=!0)},p(s,L){(!A||L[0]&256)&&d(l,"placeholder",s[8]),(!A||L[0]&256)&&d(l,"aria-label",s[8]),L[0]&2&&l.value!==s[1]&&We(l,s[1]),(!A||L[0]&8)&&d(a,"title",s[3]),s[17]?m?L[0]&131072&&R(m,1):(m=rt(),m.c(),R(m,1),m.m(c,null)):m&&(Le(),B(m,1,1,()=>{m=null}),Ee()),(!A||L[0]&2)&&ee(c,"displayable",s[1]!==""),s[5]===!0?M?(M.p(s,L),L[0]&32&&R(M,1)):(M=lt(s),M.c(),R(M,1),M.m(n,P)):M&&(Le(),B(M,1,1,()=>{M=null}),Ee()),G&&G.p&&(!A||L[1]&65536)&&yt(G,ye,s,s[47],A?gt(ye,s[47],L,null):bt(s[47]),null);let X=g;g=Te(s),g===X?~g&&S[g].p(s,L):(w&&(Le(),B(S[X],1,1,()=>{S[X]=null}),Ee()),~g?(w=S[g],w?w.p(s,L):(w=S[g]=J[g](s),w.c()),R(w,1),w.m(e,null)):w=null),(!A||L[0]&4&&U!==(U=Qe(s[2])+" svelte-1r7dvt7"))&&d(e,"class",U),(!A||L[0]&22)&&ee(e,"can-collapse",s[4]&&s[1]==="")},i(s){A||(R(o.$$.fragment,s),R(h.$$.fragment,s),R(m),R(M),R(G,s),R(w),A=!0)},o(s){B(o.$$.fragment,s),B(h.$$.fragment,s),B(m),B(M),B(G,s),B(w),A=!1},d(s){s&&j(e),W(o),t[50](null),W(h),m&&m.d(),M&&M.d(),G&&G.d(s),~g&&S[g].d(),D=!1,Y(fe)}}}function Ht(t,e,n){const r=e[1],o=e[0],u=r-o;return t===r&&n?t:((t-o)%u+u)%u+o}function ot(t){let e=[...t];return e[2]<e[0]&&(e[2]+=360),e}function Qt(t,e,n){let r,{$$slots:o={},$$scope:u}=e,{class:l=void 0}=e,{apiKey:f}=e,{bbox:c=void 0}=e,{clearButtonTitle:a="clear"}=e,{clearOnBlur:h=!1}=e,{collapsed:T=!1}=e,{country:y=void 0}=e,{debounceSearch:P=200}=e,{enableReverse:v=!1}=e,{errorMessage:g="Something went wrong…"}=e,{filter:w=()=>!0}=e,{flyTo:U=!0}=e,{fuzzyMatch:A=!0}=e,{language:D=void 0}=e,{limit:fe=void 0}=e,{mapController:m=void 0}=e,{minLength:M=2}=e,{noResultsMessage:ye="Oops! Looks like you're trying to predict something that's not quite right. We can't seem to find what you're looking for. Maybe try double-checking your spelling or try a different search term. Keep on typing - we'll do our best to get you where you need to go!"}=e,{placeholder:G="Search"}=e,{proximity:J=void 0}=e,{reverseActive:S=v==="always"}=e,{reverseButtonTitle:Te="toggle reverse geocoding"}=e,{searchValue:s=""}=e,{showFullGeometry:L=!0}=e,{showPlaceType:X=!1}=e,{showResultsWhileTyping:ae=!0}=e,{trackProximity:ze=!0}=e,{types:Ce=void 0}=e,{zoom:Be=16}=e,{fetchParameters:Ne={}}=e;function Xt(){K.focus()}function Yt(){K.blur()}function st(i,C=!0){n(1,s=i),C?(n(13,z=-1),at()):(Oe(),setTimeout(()=>{K.focus(),K.select()}))}let be=!1,b,I,k,ft="",K,z=-1,V,Pe=[],de,we,Se;const ne=Mt();Tt(()=>{m&&(m.setEventHandler(void 0),m.indicateReverse(!1),m.setSelectedMarker(-1),m.setMarkers(void 0,void 0))});function at(i){if(we&&(clearTimeout(we),we=void 0),z>-1&&b)n(45,k=b[z]),n(1,s=k.place_name.replace(/,.*/,"")),n(16,V=void 0),n(44,I=void 0),n(13,z=-1);else if(s){const C=i||!dt();Ge(s,{exact:!0}).then(()=>{n(44,I=b),n(45,k=void 0),C&&$t()}).catch(H=>n(16,V=H))}}function dt(){return/^-?\d+(\.\d+)?,-?\d+(\.\d+)?$/.test(s)}async function Ge(i,{byId:C=!1,exact:H=!1}={}){n(16,V=void 0);const Me=dt(),F=new URLSearchParams;D!=null&&F.set("language",Array.isArray(D)?D.join(","):D),Ce&&F.set("types",Ce.join(",")),Me||(c&&F.set("bbox",c.map(re=>re.toFixed(6)).join(",")),y&&F.set("country",Array.isArray(y)?y.join(","):y)),C||(J&&F.set("proximity",J.map(re=>re.toFixed(6)).join(",")),(H||!ae)&&F.set("autocomplete","false"),F.set("fuzzyMatch",String(A))),fe!==void 0&&F.set("limit",String(fe)),F.set("key",f);const he="https://api.maptiler.com/geocoding/"+encodeURIComponent(i)+".json?"+F.toString();if(he===ft){C?(n(12,b=void 0),n(45,k=Pe[0])):n(12,b=Pe);return}ft=he,de==null||de.abort();const x=new AbortController;n(17,de=x);let Ze;try{Ze=await fetch(he,{signal:x.signal,...Ne}).finally(()=>{x===de&&n(17,de=void 0)})}catch(re){if(re&&typeof re=="object"&&"name"in re&&re.name==="AbortError")return;throw new Error}if(!Ze.ok)throw new Error;const qe=await Ze.json();ne("response",{url:he,featureCollection:qe}),C?(n(12,b=void 0),n(45,k=qe.features[0]),Pe=[k]):(n(12,b=qe.features.filter(w)),Pe=b,Me&&K.focus())}function $t(){var H,Me,F,he;if(!(I!=null&&I.length)||!U)return;const i=[180,90,-180,-90],C=!I.some(x=>!x.matching_text);for(const x of I)(C||!x.matching_text)&&(i[0]=Math.min(i[0],((H=x.bbox)==null?void 0:H[0])??x.center[0]),i[1]=Math.min(i[1],((Me=x.bbox)==null?void 0:Me[1])??x.center[1]),i[2]=Math.max(i[2],((F=x.bbox)==null?void 0:F[2])??x.center[0]),i[3]=Math.max(i[3],((he=x.bbox)==null?void 0:he[3])??x.center[1]));m&&I.length>0&&(k&&i[0]===i[2]&&i[1]===i[3]?m.flyTo(k.center,Be):m.fitBounds(ot(i),50))}function en(i){n(0,S=v==="always"),st(Ht(i[0],[-180,180],!0).toFixed(6)+","+i[1].toFixed(6))}function tn(i){if(!b)return;let C=i.key==="ArrowDown"?1:i.key==="ArrowUp"?-1:0;C?(z===-1&&C===-1&&n(13,z=b.length),n(13,z+=C),z>=b.length&&n(13,z=-1),i.preventDefault()):["ArrowLeft","ArrowRight","Home","End"].includes(i.key)&&n(13,z=-1)}function Oe(i=!0){if(n(16,V=void 0),ae){if(we&&clearTimeout(we),s.length<=M)return;const C=s;we=window.setTimeout(()=>{Ge(C).catch(H=>n(16,V=H))},i?P:0)}else n(12,b=void 0),n(16,V=void 0)}function Fe(i){n(45,k=i),n(1,s=i.place_name),n(13,z=-1)}const nn=()=>K.focus();function rn(i){Ae[i?"unshift":"push"](()=>{K=i,n(15,K)})}function ln(){s=this.value,n(1,s),n(11,be),n(25,h)}const on=()=>n(11,be=!0),cn=()=>n(11,be=!1),un=()=>Oe(),sn=()=>{n(1,s=""),K.focus()},fn=()=>n(0,S=!S),an=()=>n(16,V=void 0),dn=i=>n(13,z=i),hn=i=>Fe(i),mn=()=>n(13,z=-1),_n=()=>{};return t.$$set=i=>{"class"in i&&n(2,l=i.class),"apiKey"in i&&n(23,f=i.apiKey),"bbox"in i&&n(24,c=i.bbox),"clearButtonTitle"in i&&n(3,a=i.clearButtonTitle),"clearOnBlur"in i&&n(25,h=i.clearOnBlur),"collapsed"in i&&n(4,T=i.collapsed),"country"in i&&n(26,y=i.country),"debounceSearch"in i&&n(27,P=i.debounceSearch),"enableReverse"in i&&n(5,v=i.enableReverse),"errorMessage"in i&&n(6,g=i.errorMessage),"filter"in i&&n(28,w=i.filter),"flyTo"in i&&n(29,U=i.flyTo),"fuzzyMatch"in i&&n(30,A=i.fuzzyMatch),"language"in i&&n(31,D=i.language),"limit"in i&&n(32,fe=i.limit),"mapController"in i&&n(33,m=i.mapController),"minLength"in i&&n(34,M=i.minLength),"noResultsMessage"in i&&n(7,ye=i.noResultsMessage),"placeholder"in i&&n(8,G=i.placeholder),"proximity"in i&&n(22,J=i.proximity),"reverseActive"in i&&n(0,S=i.reverseActive),"reverseButtonTitle"in i&&n(9,Te=i.reverseButtonTitle),"searchValue"in i&&n(1,s=i.searchValue),"showFullGeometry"in i&&n(35,L=i.showFullGeometry),"showPlaceType"in i&&n(10,X=i.showPlaceType),"showResultsWhileTyping"in i&&n(36,ae=i.showResultsWhileTyping),"trackProximity"in i&&n(37,ze=i.trackProximity),"types"in i&&n(38,Ce=i.types),"zoom"in i&&n(39,Be=i.zoom),"fetchParameters"in i&&n(40,Ne=i.fetchParameters),"$$scope"in i&&n(47,u=i.$$scope)},t.$$.update=()=>{if(t.$$.dirty[1]&64&&(ze||n(22,J=void 0)),t.$$.dirty[0]&33556480&&setTimeout(()=>{n(14,Se=be),h&&!be&&n(1,s="")}),t.$$.dirty[0]&4098&&(s||(n(45,k=void 0),n(12,b=void 0),n(16,V=void 0),n(44,I=b))),t.$$.dirty[1]&16400&&L&&k&&!k.address&&k.geometry.type==="Point"&&Ge(k.id,{byId:!0}).catch(i=>n(16,V=i)),t.$$.dirty[0]&536870912|t.$$.dirty[1]&16644&&m&&k&&U&&(!k.bbox||k.bbox[0]===k.bbox[2]&&k.bbox[1]===k.bbox[3]?m.flyTo(k.center,Be):m.fitBounds(ot(k.bbox),50),n(12,b=void 0),n(44,I=void 0),n(13,z=-1)),t.$$.dirty[0]&4096|t.$$.dirty[1]&8192&&I!==b&&n(44,I=void 0),t.$$.dirty[1]&24580&&m&&m.setMarkers(I,k),t.$$.dirty[0]&2&&n(13,z=-1),t.$$.dirty[0]&20481|t.$$.dirty[1]&68&&m&&m.setEventHandler(i=>{switch(i.type){case"mapClick":S&&en(i.coordinates);break;case"proximityChange":n(22,J=ze?i.proximity:void 0);break;case"markerClick":{const C=b==null?void 0:b.find(H=>H.id===i.id);C&&Fe(C)}break;case"markerMouseEnter":n(13,z=Se?(b==null?void 0:b.findIndex(C=>C.id===i.id))??-1:-1);break;case"markerMouseLeave":n(13,z=-1);break}}),t.$$.dirty[0]&8192|t.$$.dirty[1]&4&&(m==null||m.setSelectedMarker(z)),t.$$.dirty[0]&12288&&n(46,r=b==null?void 0:b[z]),t.$$.dirty[0]&2|t.$$.dirty[1]&4){const i=/^(-?\d+(?:\.\d*)?),(-?\d+(?:\.\d*)?)$/.exec(s);m==null||m.setReverseMarker(i?[Number(i[1]),Number(i[2])]:void 0)}t.$$.dirty[1]&32768&&ne("select",r),t.$$.dirty[1]&16384&&ne("pick",k),t.$$.dirty[0]&20480&&ne("optionsVisibilityChange",Se&&!!b),t.$$.dirty[0]&4096&&ne("featuresListed",b),t.$$.dirty[1]&8192&&ne("featuresMarked",I),t.$$.dirty[0]&1&&ne("reverseToggle",S),t.$$.dirty[0]&2&&ne("queryChange",s),t.$$.dirty[0]&1|t.$$.dirty[1]&4&&m&&m.indicateReverse(S)},[S,s,l,a,T,v,g,ye,G,Te,X,be,b,z,Se,K,V,de,at,tn,Oe,Fe,J,f,c,h,y,P,w,U,A,D,fe,m,M,L,ae,ze,Ce,Be,Ne,Xt,Yt,st,I,k,r,u,o,nn,rn,ln,on,cn,un,sn,fn,an,dn,hn,mn,_n]}class Wt extends se{constructor(e){super(),ue(this,e,Qt,Vt,ie,{class:2,apiKey:23,bbox:24,clearButtonTitle:3,clearOnBlur:25,collapsed:4,country:26,debounceSearch:27,enableReverse:5,errorMessage:6,filter:28,flyTo:29,fuzzyMatch:30,language:31,limit:32,mapController:33,minLength:34,noResultsMessage:7,placeholder:8,proximity:22,reverseActive:0,reverseButtonTitle:9,searchValue:1,showFullGeometry:35,showPlaceType:10,showResultsWhileTyping:36,trackProximity:37,types:38,zoom:39,fetchParameters:40,focus:41,blur:42,setQuery:43},null,[-1,-1,-1])}get focus(){return this.$$.ctx[41]}get blur(){return this.$$.ctx[42]}get setQuery(){return this.$$.ctx[43]}}const ct=["featuresListed","featuresMarked","optionsVisibilityChange","pick","queryChange","response","reverseToggle","select"],Ut=["apiKey","bbox","clearButtonTitle","clearOnBlur","collapsed","country","debounceSearch","enableReverse","errorMessage","filter","fuzzyMatch","language","limit","minLength","noResultsMessage","placeholder","proximity","reverseButtonTitle","showFullGeometry","showPlaceType","showResultsWhileTyping","trackProximity","types","zoom","mapController"];function ut(t){return"on"+t[0].toUpperCase()+t.slice(1)}const Jt=Z.forwardRef(function(e,n){const r=Z.useRef(),o=Z.useRef(),u={...e};for(const l of ct)delete u[ut(l)];Z.useEffect(()=>{if(!r.current)throw new Error;const l=new Wt({target:r.current,props:u});return o.current=l,()=>l.$destroy()},[]);for(const l of Ut)Z.useEffect(()=>{o.current&&e[l]!==void 0&&o.current.$set({[l]:e[l]})},[e[l]]);for(const l of ct){const f=e[ut(l)];Z.useEffect(()=>{var c;(c=o.current)==null||c.$on(l,f?a=>{f(a.detail)}:void 0)},[f])}return Z.useImperativeHandle(n,()=>({setQuery:(l,f=!0)=>{var c;return(c=o.current)==null?void 0:c.setQuery(l,f)},focus:()=>{var l;return(l=o.current)==null?void 0:l.focus()},blur:()=>{var l;return(l=o.current)==null?void 0:l.blur()}})),Z.createElement("div",{ref:r})});le.GeocodingControl=Jt,Object.defineProperty(le,Symbol.toStringTag,{value:"Module"})});
//# sourceMappingURL=react.umd.cjs.map
