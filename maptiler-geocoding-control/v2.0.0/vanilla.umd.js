(function(R,L){typeof exports=="object"&&typeof module<"u"?L(exports):typeof define=="function"&&define.amd?define(["exports"],L):(R=typeof globalThis<"u"?globalThis:R||self,L(R.maptilerGeocoder={}))})(this,function(R){"use strict";var bn=Object.defineProperty;var Ft=R=>{throw TypeError(R)};var vn=(R,L,V)=>L in R?bn(R,L,{enumerable:!0,configurable:!0,writable:!0,value:V}):R[L]=V;var lt=(R,L,V)=>vn(R,typeof L!="symbol"?L+"":L,V),jt=(R,L,V)=>L.has(R)||Ft("Cannot "+V);var de=(R,L,V)=>(jt(R,L,"read from private field"),V?V.call(R):L.get(R)),zt=(R,L,V)=>L.has(R)?Ft("Cannot add the same private member more than once"):L instanceof WeakSet?L.add(R):L.set(R,V),Ht=(R,L,V,ke)=>(jt(R,L,"write to private field"),ke?ke.call(R,V):L.set(R,V),V);var $;function L(){}function V(i,e){for(const t in e)i[t]=e[t];return i}function ke(i){return i()}function ut(){return Object.create(null)}function se(i){i.forEach(ke)}function ct(i){return typeof i=="function"}function be(i,e){return i!=i?e==e:i!==e||i&&typeof i=="object"||typeof i=="function"}let Ie;function K(i,e){return i===e?!0:(Ie||(Ie=document.createElement("a")),Ie.href=e,i===Ie.href)}function Pt(i){return Object.keys(i).length===0}function Zt(i,e,t,n){if(i){const o=dt(i,e,t,n);return i[0](o)}}function dt(i,e,t,n){return i[1]&&n?V(t.ctx.slice(),i[1](n(e))):t.ctx}function Gt(i,e,t,n){if(i[2]&&n){const o=i[2](n(t));if(e.dirty===void 0)return o;if(typeof o=="object"){const l=[],c=Math.max(e.dirty.length,o.length);for(let r=0;r<c;r+=1)l[r]=e.dirty[r]|o[r];return l}return e.dirty|o}return e.dirty}function qt(i,e,t,n,o,l){if(o){const c=dt(e,t,n,l);i.p(c,o)}}function Qt(i){if(i.ctx.length>32){const e=[],t=i.ctx.length/32;for(let n=0;n<t;n++)e[n]=-1;return e}return-1}function ft(i){return i??""}function T(i,e){i.appendChild(e)}function B(i,e,t){i.insertBefore(e,t||null)}function I(i){i.parentNode&&i.parentNode.removeChild(i)}function U(i){return document.createElement(i)}function ae(i){return document.createElementNS("http://www.w3.org/2000/svg",i)}function fe(i){return document.createTextNode(i)}function X(){return fe(" ")}function xt(){return fe("")}function J(i,e,t,n){return i.addEventListener(e,t,n),()=>i.removeEventListener(e,t,n)}function Vt(i){return function(e){return e.preventDefault(),i.call(this,e)}}function a(i,e,t){t==null?i.removeAttribute(e):i.getAttribute(e)!==t&&i.setAttribute(e,t)}function Kt(i){return Array.from(i.childNodes)}function Ce(i,e){e=""+e,i.data!==e&&(i.data=e)}function mt(i,e){i.value=e??""}function me(i,e,t){i.classList.toggle(e,!!t)}function Jt(i,e,{bubbles:t=!1,cancelable:n=!1}={}){return new CustomEvent(i,{detail:e,bubbles:t,cancelable:n})}let We;function Oe(i){We=i}function gt(){if(!We)throw new Error("Function called outside component initialization");return We}function Xt(i){gt().$$.on_destroy.push(i)}function Yt(){const i=gt();return(e,t,{cancelable:n=!1}={})=>{const o=i.$$.callbacks[e];if(o){const l=Jt(e,t,{cancelable:n});return o.slice().forEach(c=>{c.call(i,l)}),!l.defaultPrevented}return!0}}function ht(i,e){const t=i.$$.callbacks[e.type];t&&t.slice().forEach(n=>n.call(this,e))}const Ee=[],qe=[];let Se=[];const bt=[],$t=Promise.resolve();let Qe=!1;function ei(){Qe||(Qe=!0,$t.then(vt))}function xe(i){Se.push(i)}const Ve=new Set;let pe=0;function vt(){if(pe!==0)return;const i=We;do{try{for(;pe<Ee.length;){const e=Ee[pe];pe++,Oe(e),ti(e.$$)}}catch(e){throw Ee.length=0,pe=0,e}for(Oe(null),Ee.length=0,pe=0;qe.length;)qe.pop()();for(let e=0;e<Se.length;e+=1){const t=Se[e];Ve.has(t)||(Ve.add(t),t())}Se.length=0}while(Ee.length);for(;bt.length;)bt.pop()();Qe=!1,Ve.clear(),Oe(i)}function ti(i){if(i.fragment!==null){i.update(),se(i.before_update);const e=i.dirty;i.dirty=[-1],i.fragment&&i.fragment.p(i.ctx,e),i.after_update.forEach(xe)}}function ii(i){const e=[],t=[];Se.forEach(n=>i.indexOf(n)===-1?e.push(n):t.push(n)),t.forEach(n=>n()),Se=e}const Ae=new Set;let ve;function Be(){ve={r:0,c:[],p:ve}}function Fe(){ve.r||se(ve.c),ve=ve.p}function j(i,e){i&&i.i&&(Ae.delete(i),i.i(e))}function Q(i,e,t,n){if(i&&i.o){if(Ae.has(i))return;Ae.add(i),ve.c.push(()=>{Ae.delete(i),n&&(t&&i.d(1),n())}),i.o(e)}else n&&n()}function Lt(i){return(i==null?void 0:i.length)!==void 0?i:Array.from(i)}function ni(i,e){Q(i,1,1,()=>{e.delete(i.key)})}function ri(i,e,t,n,o,l,c,r,d,u,f,h){let v=i.length,y=l.length,E=v;const O={};for(;E--;)O[i[E].key]=E;const w=[],S=new Map,W=new Map,D=[];for(E=y;E--;){const g=h(o,l,E),m=t(g);let C=c.get(m);C?D.push(()=>C.p(g,e)):(C=u(m,g),C.c()),S.set(m,w[E]=C),m in O&&W.set(m,Math.abs(E-O[m]))}const N=new Set,x=new Set;function b(g){j(g,1),g.m(r,f),c.set(g.key,g),f=g.first,y--}for(;v&&y;){const g=w[y-1],m=i[v-1],C=g.key,H=m.key;g===m?(f=g.first,v--,y--):S.has(H)?!c.has(C)||N.has(C)?b(g):x.has(H)?v--:W.get(C)>W.get(H)?(x.add(C),b(g)):(N.add(H),v--):(d(m,c),v--)}for(;v--;){const g=i[v];S.has(g.key)||d(g,c)}for(;y;)b(w[y-1]);return se(D),w}function ge(i){i&&i.c()}function le(i,e,t){const{fragment:n,after_update:o}=i.$$;n&&n.m(e,t),xe(()=>{const l=i.$$.on_mount.map(ke).filter(ct);i.$$.on_destroy?i.$$.on_destroy.push(...l):se(l),i.$$.on_mount=[]}),o.forEach(xe)}function ue(i,e){const t=i.$$;t.fragment!==null&&(ii(t.after_update),se(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function oi(i,e){i.$$.dirty[0]===-1&&(Ee.push(i),ei(),i.$$.dirty.fill(0)),i.$$.dirty[e/31|0]|=1<<e%31}function Le(i,e,t,n,o,l,c=null,r=[-1]){const d=We;Oe(i);const u=i.$$={fragment:null,ctx:[],props:l,update:L,not_equal:o,bound:ut(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(d?d.$$.context:[])),callbacks:ut(),dirty:r,skip_bound:!1,root:e.target||d.$$.root};c&&c(u.root);let f=!1;if(u.ctx=t?t(i,e.props||{},(h,v,...y)=>{const E=y.length?y[0]:v;return u.ctx&&o(u.ctx[h],u.ctx[h]=E)&&(!u.skip_bound&&u.bound[h]&&u.bound[h](E),f&&oi(i,h)),v}):[],u.update(),f=!0,se(u.before_update),u.fragment=n?n(u.ctx):!1,e.target){if(e.hydrate){const h=Kt(e.target);u.fragment&&u.fragment.l(h),h.forEach(I)}else u.fragment&&u.fragment.c();e.intro&&j(i.$$.fragment),le(i,e.target,e.anchor),vt()}Oe(d)}class _e{constructor(){lt(this,"$$");lt(this,"$$set")}$destroy(){ue(this,1),this.$destroy=L}$on(e,t){if(!ct(t))return L;const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const o=n.indexOf(t);o!==-1&&n.splice(o,1)}}$set(e){this.$$set&&!Pt(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const si="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(si);function ai(i){let e,t;return{c(){e=ae("svg"),t=ae("path"),a(t,"d","M13.12.706a.982.982 0 0 0-1.391 0L6.907 5.517 2.087.696a.982.982 0 1 0-1.391 1.39l4.821 4.821L.696 11.73a.982.982 0 1 0 1.39 1.39l4.821-4.821 4.822 4.821a.982.982 0 1 0 1.39-1.39L8.298 6.908l4.821-4.822a.988.988 0 0 0 0-1.38Z"),a(e,"viewBox","0 0 14 14"),a(e,"width","13"),a(e,"height","13"),a(e,"class","svelte-en2qvf")},m(n,o){B(n,e,o),T(e,t)},p:L,i:L,o:L,d(n){n&&I(e)}}}class _t extends _e{constructor(e){super(),Le(this,e,null,ai,be,{})}}function li(i){let e,t;return{c(){e=ae("svg"),t=ae("path"),a(t,"d","M15 0C6.705 0 0 6.705 0 15C0 23.295 6.705 30 15 30C23.295 30 30 23.295 30 15C30 6.705 23.295 0 15 0ZM22.5 20.385L20.385 22.5L15 17.115L9.615 22.5L7.5 20.385L12.885 15L7.5 9.615L9.615 7.5L15 12.885L20.385 7.5L22.5 9.615L17.115 15L22.5 20.385Z"),a(e,"viewBox","0 0 30 30"),a(e,"fill","none"),a(e,"xmlns","http://www.w3.org/2000/svg"),a(e,"class","svelte-d2loi5")},m(n,o){B(n,e,o),T(e,t)},p:L,i:L,o:L,d(n){n&&I(e)}}}class yt extends _e{constructor(e){super(),Le(this,e,null,li,be,{})}}function ui(i){let e,t;return{c(){e=U("img"),K(e.src,t=i[3]+"area.svg")||a(e,"src",t),a(e,"alt",i[6]),a(e,"class","svelte-ltkwvy")},m(n,o){B(n,e,o)},p(n,o){o&8&&!K(e.src,t=n[3]+"area.svg")&&a(e,"src",t),o&64&&a(e,"alt",n[6])},d(n){n&&I(e)}}}function ci(i){let e,t;return{c(){e=U("img"),K(e.src,t=i[3]+"reverse.svg")||a(e,"src",t),a(e,"alt",i[6]),a(e,"class","svelte-ltkwvy")},m(n,o){B(n,e,o)},p(n,o){o&8&&!K(e.src,t=n[3]+"reverse.svg")&&a(e,"src",t),o&64&&a(e,"alt",n[6])},d(n){n&&I(e)}}}function di(i){let e,t;return{c(){e=U("img"),K(e.src,t=i[3]+"poi.svg")||a(e,"src",t),a(e,"alt",i[6]),a(e,"class","svelte-ltkwvy")},m(n,o){B(n,e,o)},p(n,o){o&8&&!K(e.src,t=n[3]+"poi.svg")&&a(e,"src",t),o&64&&a(e,"alt",n[6])},d(n){n&&I(e)}}}function fi(i){let e,t;return{c(){e=U("img"),K(e.src,t=i[3]+"postal_code.svg")||a(e,"src",t),a(e,"alt",i[6]),a(e,"class","svelte-ltkwvy")},m(n,o){B(n,e,o)},p(n,o){o&8&&!K(e.src,t=n[3]+"postal_code.svg")&&a(e,"src",t),o&64&&a(e,"alt",n[6])},d(n){n&&I(e)}}}function mi(i){let e,t;return{c(){e=U("img"),K(e.src,t=i[3]+"street.svg")||a(e,"src",t),a(e,"alt",i[6]),a(e,"class","svelte-ltkwvy")},m(n,o){B(n,e,o)},p(n,o){o&8&&!K(e.src,t=n[3]+"street.svg")&&a(e,"src",t),o&64&&a(e,"alt",n[6])},d(n){n&&I(e)}}}function gi(i){let e,t;return{c(){e=U("img"),K(e.src,t=i[3]+"road.svg")||a(e,"src",t),a(e,"alt",i[6]),a(e,"class","svelte-ltkwvy")},m(n,o){B(n,e,o)},p(n,o){o&8&&!K(e.src,t=n[3]+"road.svg")&&a(e,"src",t),o&64&&a(e,"alt",n[6])},d(n){n&&I(e)}}}function hi(i){let e,t;return{c(){e=U("img"),K(e.src,t=i[3]+"housenumber.svg")||a(e,"src",t),a(e,"alt",i[6]),a(e,"class","svelte-ltkwvy")},m(n,o){B(n,e,o)},p(n,o){o&8&&!K(e.src,t=n[3]+"housenumber.svg")&&a(e,"src",t),o&64&&a(e,"alt",n[6])},d(n){n&&I(e)}}}function bi(i){let e,t,n,o;return{c(){e=U("img"),K(e.src,t=i[5])||a(e,"src",t),a(e,"alt",i[4]),a(e,"class","svelte-ltkwvy")},m(l,c){B(l,e,c),n||(o=J(e,"error",i[14]),n=!0)},p(l,c){c&32&&!K(e.src,t=l[5])&&a(e,"src",t),c&16&&a(e,"alt",l[4])},d(l){l&&I(e),n=!1,o()}}}function wt(i){let e,t;return{c(){e=U("span"),t=fe(i[6]),a(e,"class","secondary svelte-ltkwvy")},m(n,o){B(n,e,o),T(e,t)},p(n,o){o&64&&Ce(t,n[6])},d(n){n&&I(e)}}}function vi(i){let e,t,n,o,l,c,r,d,u,f=(i[7]?i[0].place_name:i[0].place_name.replace(/,.*/,""))+"",h,v,y=i[2]==="always"||i[2]&&!i[0].address&&!i[0].id.startsWith("road.")&&!i[0].id.startsWith("address.")&&!i[0].id.startsWith("postal_code.")&&(!i[0].id.startsWith("poi.")||!i[5])&&!i[7],E,O,w=(i[7]?"":i[0].place_name.replace(/[^,]*,?\s*/,""))+"",S,W,D;function N(m,C){return C&1&&(t=null),C&1&&(n=null),C&1&&(o=null),C&1&&(l=null),m[5]?bi:m[0].address?hi:(t==null&&(t=!!m[0].id.startsWith("road.")),t?gi:(n==null&&(n=!!m[0].id.startsWith("address.")),n?mi:(o==null&&(o=!!m[0].id.startsWith("postal_code.")),o?fi:(l==null&&(l=!!m[0].id.startsWith("poi.")),l?di:m[7]?ci:ui))))}let x=N(i,-1),b=x(i),g=y&&wt(i);return{c(){e=U("li"),b.c(),c=X(),r=U("span"),d=U("span"),u=U("span"),h=fe(f),v=X(),g&&g.c(),E=X(),O=U("span"),S=fe(w),a(u,"class","primary svelte-ltkwvy"),a(d,"class","svelte-ltkwvy"),a(O,"class","line2 svelte-ltkwvy"),a(r,"class","texts svelte-ltkwvy"),a(e,"tabindex","0"),a(e,"data-selected",i[1]),a(e,"class","svelte-ltkwvy"),me(e,"selected",i[1])},m(m,C){B(m,e,C),b.m(e,null),T(e,c),T(e,r),T(r,d),T(d,u),T(u,h),T(d,v),g&&g.m(d,null),T(r,E),T(r,O),T(O,S),W||(D=[J(e,"mouseenter",i[12]),J(e,"focus",i[13])],W=!0)},p(m,[C]){x===(x=N(m,C))&&b?b.p(m,C):(b.d(1),b=x(m),b&&(b.c(),b.m(e,c))),C&1&&f!==(f=(m[7]?m[0].place_name:m[0].place_name.replace(/,.*/,""))+"")&&Ce(h,f),C&37&&(y=m[2]==="always"||m[2]&&!m[0].address&&!m[0].id.startsWith("road.")&&!m[0].id.startsWith("address.")&&!m[0].id.startsWith("postal_code.")&&(!m[0].id.startsWith("poi.")||!m[5])&&!m[7]),y?g?g.p(m,C):(g=wt(m),g.c(),g.m(d,null)):g&&(g.d(1),g=null),C&1&&w!==(w=(m[7]?"":m[0].place_name.replace(/[^,]*,?\s*/,""))+"")&&Ce(S,w),C&2&&a(e,"data-selected",m[1]),C&2&&me(e,"selected",m[1])},i:L,o:L,d(m){m&&I(e),b.d(),g&&g.d(),W=!1,se(D)}}}function Li(i,e,t){var D;let n,o,{feature:l}=e,{selected:c=!1}=e,{showPlaceType:r}=e,{missingIconsCache:d}=e,{iconsBaseUrl:u}=e;const f=(D=l.properties)==null?void 0:D.categories;let h,v,y=0,E=l.place_type[0]==="reverse";function O(){v&&d.add(v),t(10,y++,y)}function w(N){ht.call(this,i,N)}function S(N){ht.call(this,i,N)}const W=()=>O();return i.$$set=N=>{"feature"in N&&t(0,l=N.feature),"selected"in N&&t(1,c=N.selected),"showPlaceType"in N&&t(2,r=N.showPlaceType),"missingIconsCache"in N&&t(9,d=N.missingIconsCache),"iconsBaseUrl"in N&&t(3,u=N.iconsBaseUrl)},i.$$.update=()=>{var N,x,b,g;if(i.$$.dirty&3640)do t(11,n--,n),t(4,h=f==null?void 0:f[n]),t(5,v=h?u+h.replace(/ /g,"_")+".svg":void 0);while(n>-1&&(!v||d.has(v)));i.$$.dirty&1&&t(6,o=((x=(N=l.properties)==null?void 0:N.categories)==null?void 0:x.join(", "))??((g=(b=l.properties)==null?void 0:b.place_type_name)==null?void 0:g[0])??l.place_type[0])},t(11,n=(f==null?void 0:f.length)??0),[l,c,r,u,h,v,o,E,O,d,y,n,w,S,W]}class _i extends _e{constructor(e){super(),Le(this,e,Li,vi,be,{feature:0,selected:1,showPlaceType:2,missingIconsCache:9,iconsBaseUrl:3})}}function yi(i){let e;return{c(){e=U("div"),e.innerHTML='<svg viewBox="0 0 18 18" width="24" height="24" class="svelte-7cmwmc"><path fill="#333" d="M4.4 4.4l.8.8c2.1-2.1 5.5-2.1 7.6 0l.8-.8c-2.5-2.5-6.7-2.5-9.2 0z"></path><path opacity=".1" d="M12.8 12.9c-2.1 2.1-5.5 2.1-7.6 0-2.1-2.1-2.1-5.5 0-7.7l-.8-.8c-2.5 2.5-2.5 6.7 0 9.2s6.6 2.5 9.2 0 2.5-6.6 0-9.2l-.8.8c2.2 2.1 2.2 5.6 0 7.7z"></path></svg>',a(e,"class","svelte-7cmwmc")},m(t,n){B(t,e,n)},p:L,i:L,o:L,d(t){t&&I(e)}}}class wi extends _e{constructor(e){super(),Le(this,e,null,yi,be,{})}}function Ei(i){let e,t;return{c(){e=ae("svg"),t=ae("path"),a(t,"d","M30.003-26.765C13.46-26.765 0-14.158 0 1.337c0 23.286 24.535 42.952 28.39 46.04.24.192.402.316.471.376.323.282.732.424 1.142.424.41 0 .82-.142 1.142-.424.068-.06.231-.183.471-.376 3.856-3.09 28.39-22.754 28.39-46.04 0-15.495-13.46-28.102-30.003-28.102Zm1.757 12.469c4.38 0 7.858 1.052 10.431 3.158 2.595 2.105 3.89 4.913 3.89 8.422 0 2.34-.53 4.362-1.593 6.063-1.063 1.702-3.086 3.616-6.063 5.742-2.042 1.51-3.337 2.659-3.89 3.446-.532.787-.8 1.82-.8 3.096v1.914h-8.449V15.18c0-2.041.434-3.815 1.306-5.325.872-1.51 2.467-3.118 4.785-4.82 2.233-1.594 3.7-2.89 4.402-3.889a5.582 5.582 0 0 0 1.087-3.35c0-1.382-.51-2.435-1.531-3.158-1.02-.723-2.45-1.087-4.28-1.087-3.19 0-6.826 1.047-10.91 3.131l-3.472-6.986c4.742-2.659 9.77-3.992 15.087-3.992Zm-1.88 37.324c1.765 0 3.124.472 4.08 1.408.98.936 1.47 2.276 1.47 4.02 0 1.68-.49 3.007-1.47 3.985-.977.957-2.336 1.435-4.08 1.435-1.787 0-3.171-.465-4.15-1.4-.978-.958-1.47-2.298-1.47-4.02 0-1.787.48-3.14 1.436-4.054.957-.915 2.355-1.374 4.184-1.374Z"),a(e,"viewBox","0 0 60.006 21.412"),a(e,"width","14"),a(e,"height","20"),a(e,"class","svelte-en2qvf")},m(n,o){B(n,e,o),T(e,t)},p:L,i:L,o:L,d(n){n&&I(e)}}}class Si extends _e{constructor(e){super(),Le(this,e,null,Ei,be,{})}}function pi(i){let e,t,n;return{c(){e=ae("svg"),t=ae("circle"),n=ae("path"),a(t,"cx","4.789"),a(t,"cy","4.787"),a(t,"r","3.85"),a(t,"class","svelte-1aq105l"),a(n,"d","M12.063 12.063 7.635 7.635"),a(n,"class","svelte-1aq105l"),a(e,"xmlns","http://www.w3.org/2000/svg"),a(e,"width","13"),a(e,"height","13"),a(e,"viewBox","0 0 13 13"),a(e,"class","svelte-1aq105l")},m(o,l){B(o,e,l),T(e,t),T(e,n)},p:L,i:L,o:L,d(o){o&&I(e)}}}class Ni extends _e{constructor(e){super(),Le(this,e,null,pi,be,{})}}function Mi(i,e,t){const n=e[1],o=e[0],l=n-o;return i===n&&t?i:((i-o)%l+l)%l+o}function Et(i){const e=[...i];return e[2]<e[0]&&(Math.abs((e[0]+e[2]+360)/2)>Math.abs((e[0]-360+e[2])/2)?e[0]-=360:e[2]+=360),e}let De;async function Ti(i,e,t){const n=i==null?void 0:i.getCenterAndZoom();for(const o of e??[])if(!(n&&(o.minZoom!=null&&o.minZoom>n[0]||o.maxZoom!=null&&o.maxZoom<n[0]))){if(o.type==="fixed")return o.coordinates.join(",");e:if(o.type==="client-geolocation"){if(De&&o.cachedLocationExpiry&&De.time+o.cachedLocationExpiry>Date.now()){if(!De.coords)break e;return De.coords}let l;try{return l=await new Promise((c,r)=>{t.signal.addEventListener("abort",()=>{r(Error("aborted"))}),navigator.geolocation.getCurrentPosition(d=>{c([d.coords.longitude,d.coords.latitude].map(u=>u.toFixed(6)).join(","))},d=>{r(d)},o)}),l}catch{}finally{o.cachedLocationExpiry&&(De={time:Date.now(),coords:l})}if(t.signal.aborted)return}if(o.type==="server-geolocation")return"ip";if(n&&o.type==="map-center")return n[1].toFixed(6)+","+n[2].toFixed(6)}}const ki=/^(NORTH|SOUTH|[NS])?\s*([+-]?[0-8]?[0-9])\s*([•º°\.:]|D(?:EG)?(?:REES)?)?\s*,?([6-9][0-9])\s*(['′´’\.:]|M(?:IN)?(?:UTES)?)?\s*(NORTH|SOUTH|[NS])?(?:\s*[,/;]\s*|\s*)(EAST|WEST|[EW])?\s*([+-]?[0-1]?[0-9]?[0-9])\s*([•º°\.:]|D(?:EG)?(?:REES)?)?\s*,?([6-9][0-9])\s*(['′´’\.:]|M(?:IN)?(?:UTES)?)?\s*(EAST|WEST|[EW])?$/i,St=/^([+-]?[0-8]?[0-9])\s+([0-5]?[0-9]\.\d{3,})[\s,]{1,}([+-]?[0-1]?[0-9]?[0-9])\s+([0-5]?[0-9]\.\d{3,})$/,pt=/^(NORTH|SOUTH|[NS])?[\s]*([+-]?[0-8]?[0-9](?:[\.,]\d{3,}))[\s]*([•º°]?)[\s]*(NORTH|SOUTH|[NS])?[\s]*[,/;]?[\s]*(EAST|WEST|[EW])?[\s]*([+-]?[0-1]?[0-9]?[0-9](?:[\.,]\d{3,}))[\s]*([•º°]?)[\s]*(EAST|WEST|[EW])?$/i,Nt=/^(NORTH|SOUTH|[NS])?\s*([+-]?[0-8]?[0-9])\s*(\.)\s*([0-5]?[0-9])\s*(\.)\s*((?:[0-5]?[0-9])(?:[\.,]\d{1,3})?)?\s*(NORTH|SOUTH|[NS])?(?:\s*[,/;]\s*|\s*)(EAST|WEST|[EW])?\s*([+-]?[0-1]?[0-9]?[0-9])\s*(\.)\s*([0-5]?[0-9])\s*(\.)\s*((?:[0-5]?[0-9])(?:[\.,]\d{1,3})?)?\s*(EAST|WEST|[EW])?$/i,Mt=/^(NORTH|SOUTH|[NS])?\s*([+-]?[0-8]?[0-9])\s*(D(?:EG)?(?:REES)?)\s*([0-5]?[0-9])\s*(M(?:IN)?(?:UTES)?)\s*((?:[0-5]?[0-9])(?:[\.,]\d{1,3})?)?\s*(S(?:EC)?(?:ONDS)?)?\s*(NORTH|SOUTH|[NS])?(?:\s*[,/;]\s*|\s*)(EAST|WEST|[EW])?\s*([+-]?[0-1]?[0-9]?[0-9])\s*(D(?:EG)?(?:REES)?)\s*([0-5]?[0-9])\s*(M(?:IN)?(?:UTES)?)\s*((?:[0-5]?[0-9])(?:[\.,]\d{1,3})?)?\s*(S(?:EC)?(?:ONDS)?)\s*(EAST|WEST|[EW])?$/i,Tt=/^(NORTH|SOUTH|[NS])?\s*([+-]?[0-8]?[0-9])\s*([•º°\.:]|D(?:EG)?(?:REES)?)?\s*,?([0-5]?[0-9](?:[\.,]\d{1,})?)?\s*(['′´’\.:]|M(?:IN)?(?:UTES)?)?\s*,?((?:[0-5]?[0-9])(?:[\.,]\d{1,3})?)?\s*(''|′′|’’|´´|["″”\.])?\s*(NORTH|SOUTH|[NS])?(?:\s*[,/;]\s*|\s*)(EAST|WEST|[EW])?\s*([+-]?[0-1]?[0-9]?[0-9])\s*([•º°\.:]|D(?:EG)?(?:REES)?)?\s*,?([0-5]?[0-9](?:[\.,]\d{1,})?)?\s*(['′´’\.:]|M(?:IN)?(?:UTES)?)?\s*,?((?:[0-5]?[0-9])(?:[\.,]\d{1,3})?)?\s*(''|′′|´´|’’|["″”\.])?\s*(EAST|WEST|[EW])?$/i;function Ci(i){if(!["DMS","DM","DD"].includes(i))throw new Error("invalid format specified");if(this.decimalCoordinates&&this.decimalCoordinates.trim()){const e=this.decimalCoordinates.split(",").map(y=>Number(y.trim())),t=Number(e[0]),n=Number(e[1]),o=Math.abs(t),l=Math.abs(n),c=t>0?"N":"S",r=n>0?"E":"W";let d;i=="DD"&&(d=`${o}° ${c}, ${l}° ${r}`);const u=Math.floor(o),f=Math.floor(l),h=(o-u)*60,v=(l-f)*60;if(i=="DM"){let y=kt(h,3).toFixed(3).padStart(6,"0"),E=kt(v,3).toFixed(3).padStart(6,"0");y.endsWith(".000")&&E.endsWith(".000")&&(y=y.replace(/\.000$/,""),E=E.replace(/\.000$/,"")),d=`${u}° ${y}' ${c}, ${f}° ${E}' ${r}`}if(i=="DMS"){const y=Math.floor(h),E=Math.floor(v);let O=((h-y)*60).toFixed(1).padStart(4,"0"),w=((v-E)*60).toFixed(1).padStart(4,"0");const S=y.toString().padStart(2,"0"),W=E.toString().padStart(2,"0");O.endsWith(".0")&&w.endsWith(".0")&&(O=O.replace(/\.0$/,""),w=w.replace(/\.0$/,"")),d=`${u}° ${S}' ${O}" ${c}, ${f}° ${W}' ${w}" ${r}`}return d}else throw new Error("no decimal coordinates to convert")}function kt(i,e){const t=Math.pow(10,e);return Math.round((i+Number.EPSILON)*t)/t}function Ke(i,e){e||(e=5),i=i.replace(/\s+/g," ").trim();let t=null,n=null,o="",l="",c=null,r=[],d=!1;if(ki.test(i))throw new Error("invalid coordinate value");if(St.test(i))if(r=St.exec(i),d=Re(r),d)t=Math.abs(r[1])+r[2]/60,Number(r[1])<0&&(t*=-1),n=Math.abs(r[3])+r[4]/60,Number(r[3])<0&&(n*=-1),c="DM";else throw new Error("invalid coordinate format");else if(pt.test(i))if(r=pt.exec(i),d=Re(r),d){if(t=r[2],n=r[6],t.includes(",")&&(t=t.replace(",",".")),n.includes(",")&&(n=n.replace(",",".")),c="DD",Number(Math.round(t))==Number(t))throw new Error("integer only coordinate provided");if(Number(Math.round(n))==Number(n))throw new Error("integer only coordinate provided");r[1]?(o=r[1],l=r[5]):r[4]&&(o=r[4],l=r[8])}else throw new Error("invalid decimal coordinate format");else if(Nt.test(i))if(r=Nt.exec(i),d=Re(r),d)t=Math.abs(parseInt(r[2])),r[4]&&(t+=r[4]/60,c="DM"),r[6]&&(t+=r[6].replace(",",".")/3600,c="DMS"),parseInt(r[2])<0&&(t=-1*t),n=Math.abs(parseInt(r[9])),r[11]&&(n+=r[11]/60),r[13]&&(n+=r[13].replace(",",".")/3600),parseInt(r[9])<0&&(n=-1*n),r[1]?(o=r[1],l=r[8]):r[7]&&(o=r[7],l=r[14]);else throw new Error("invalid DMS coordinates format");else if(Mt.test(i))if(r=Mt.exec(i),d=Re(r),d)t=Math.abs(parseInt(r[2])),r[4]&&(t+=r[4]/60,c="DM"),r[6]&&(t+=r[6]/3600,c="DMS"),parseInt(r[2])<0&&(t=-1*t),n=Math.abs(parseInt(r[10])),r[12]&&(n+=r[12]/60),r[14]&&(n+=r[14]/3600),parseInt(r[10])<0&&(n=-1*n),r[1]?(o=r[1],l=r[9]):r[8]&&(o=r[8],l=r[16]);else throw new Error("invalid DMS coordinates format");else if(Tt.test(i)){if(r=Tt.exec(i),d=Re(r),r.filter(u=>u).length<=5)throw new Error("invalid coordinates format");if(d)t=Math.abs(parseInt(r[2])),r[4]&&(t+=r[4].replace(",",".")/60,c="DM"),r[6]&&(t+=r[6].replace(",",".")/3600,c="DMS"),parseInt(r[2])<0&&(t=-1*t),n=Math.abs(parseInt(r[10])),r[12]&&(n+=r[12].replace(",",".")/60),r[14]&&(n+=r[14].replace(",",".")/3600),parseInt(r[10])<0&&(n=-1*n),r[1]?(o=r[1],l=r[9]):r[8]&&(o=r[8],l=r[16]);else throw new Error("invalid coordinates format")}if(d){if(Math.abs(n)>=180)throw new Error("invalid longitude value");if(Math.abs(t)>=90)throw new Error("invalid latitude value");if(o&&!l||!o&&l)throw new Error("invalid coordinates value");if(o&&o==l)throw new Error("invalid coordinates format");t.toString().includes(",")&&(t=t.replace(",",".")),n.toString().includes(",")&&(n=n.replace(",","."));let u=/S|SOUTH/i;u.test(o)&&t>0&&(t=-1*t),u=/W|WEST/i,u.test(l)&&n>0&&(n=-1*n);const f=r[0].trim();let h,v;const y=/[,/;\u0020]/g,E=f.match(y);if(E==null){const S=Math.floor(i.length/2);h=f.substring(0,S).trim(),v=f.substring(S).trim()}else{let S;E.length%2==1?S=Math.floor(E.length/2):S=E.length/2-1;let W=0;if(S==0)W=f.indexOf(E[0]),h=f.substring(0,W).trim(),v=f.substring(W+1).trim();else{let D=0,N=0;for(;D<=S;)W=f.indexOf(E[D],N),N=W+1,D++;h=f.substring(0,W).trim(),v=f.substring(W+1).trim()}}const O=h.split(".");if(O.length==2&&O[1]==0&&O[1].length!=2)throw new Error("invalid coordinates format");const w=v.split(".");if(w.length==2&&w[1]==0&&w[1].length!=2)throw new Error("invalid coordinates format");if(/^\d+$/.test(h)||/^\d+$/.test(v))throw new Error("degree only coordinate/s provided");return t=Number(Number(t).toFixed(e)),n=Number(Number(n).toFixed(e)),Object.freeze({verbatimCoordinates:f,verbatimLatitude:h,verbatimLongitude:v,decimalLatitude:t,decimalLongitude:n,decimalCoordinates:`${t},${n}`,originalFormat:c,closeEnough:Wi,toCoordinateFormat:Ci})}else throw new Error("coordinates pattern match failed")}function Re(i){if(!isNaN(i[0]))return!1;const e=[...i];if(e.shift(),e.length%2>0)return!1;const t=/^[-+]?\d+([\.,]\d+)?$/,n=/[eastsouthnorthwest]+/i,o=e.length/2;for(let l=0;l<o;l++){const c=e[l],r=e[l+o],d=t.test(c)&&t.test(r),u=n.test(c)&&n.test(r),f=c==r;if(!(c==null&&r==null)){if(c==null||r==null)return!1;if(d||u||f)continue;return!1}}return!0}function Ct(i,e){const t=Math.abs(i-e);return Number(t.toFixed(6))<=1e-5}function Wi(i){if(!i)throw new Error("coords must be provided");if(i.includes(",")){const e=i.split(",");if(Number(e[0])==NaN||Number(e[1])==NaN)throw new Error("coords are not valid decimals");return Ct(this.decimalLatitude,Number(e[0]))&&Ct(this.decimalLongitude,e[1])}else throw new Error("coords being tested must be separated by a comma")}const Oi=Object.freeze({DMS:"DMS",DM:"DM",DD:"DD"});Ke.to=Oi;const Di=[{verbatimCoordinates:"40.123, -74.123",verbatimLatitude:"40.123",verbatimLongitude:"-74.123"},{verbatimCoordinates:"40.123° N 74.123° W",verbatimLatitude:"40.123° N",verbatimLongitude:"74.123° W"},{verbatimCoordinates:"40.123° N 74.123° W",verbatimLatitude:"40.123° N",verbatimLongitude:"74.123° W"},{verbatimCoordinates:'40° 7´ 22.8" N 74° 7´ 22.8" W',verbatimLatitude:'40° 7´ 22.8" N',verbatimLongitude:'74° 7´ 22.8" W'},{verbatimCoordinates:"40° 7.38’ , -74° 7.38’",verbatimLatitude:"40° 7.38’",verbatimLongitude:"-74° 7.38’"},{verbatimCoordinates:"N40°7’22.8’’, W74°7’22.8’’",verbatimLatitude:"N40°7’22.8’’",verbatimLongitude:"W74°7’22.8’’"},{verbatimCoordinates:'40°7’22.8"N, 74°7’22.8"W',verbatimLatitude:'40°7’22.8"N',verbatimLongitude:'74°7’22.8"W'},{verbatimCoordinates:`40°7'22.8"N, 74°7'22.8"W`,verbatimLatitude:`40°7'22.8"N`,verbatimLongitude:`74°7'22.8"W`},{verbatimCoordinates:"40 7 22.8, -74 7 22.8",verbatimLatitude:"40 7 22.8",verbatimLongitude:"-74 7 22.8"},{verbatimCoordinates:"40.123 -74.123",verbatimLatitude:"40.123",verbatimLongitude:"-74.123"},{verbatimCoordinates:"40.123°,-74.123°",verbatimLatitude:"40.123°",verbatimLongitude:"-74.123°"},{verbatimCoordinates:"40.123N74.123W",verbatimLatitude:"40.123N",verbatimLongitude:"74.123W"},{verbatimCoordinates:"4007.38N7407.38W",verbatimLatitude:"4007.38N",verbatimLongitude:"7407.38W"},{verbatimCoordinates:'40°7’22.8"N, 74°7’22.8"W',verbatimLatitude:'40°7’22.8"N',verbatimLongitude:'74°7’22.8"W'},{verbatimCoordinates:"400722.8N740722.8W",verbatimLatitude:"400722.8N",verbatimLongitude:"740722.8W"},{verbatimCoordinates:"N 40 7.38 W 74 7.38",verbatimLatitude:"N 40 7.38",verbatimLongitude:"W 74 7.38"},{verbatimCoordinates:"40:7:22.8N 74:7:22.8W",verbatimLatitude:"40:7:22.8N",verbatimLongitude:"74:7:22.8W"},{verbatimCoordinates:"40:7:23N,74:7:23W",verbatimLatitude:"40:7:23N",verbatimLongitude:"74:7:23W",decimalLatitude:40.1230555555,decimalLongitude:-74.1230555555},{verbatimCoordinates:'40°7’23"N 74°7’23"W',verbatimLatitude:'40°7’23"N',verbatimLongitude:'74°7’23"W',decimalLatitude:40.1230555555,decimalLongitude:-74.12305555555555},{verbatimCoordinates:'40°7’23"S 74°7’23"E',verbatimLatitude:'40°7’23"S',verbatimLongitude:'74°7’23"E',decimalLatitude:-40.1230555555,decimalLongitude:74.12305555555555},{verbatimCoordinates:'40°7’23" -74°7’23"',verbatimLatitude:'40°7’23"',verbatimLongitude:'-74°7’23"',decimalLatitude:40.1230555555,decimalLongitude:-74.123055555},{verbatimCoordinates:'40d 7’ 23" N 74d 7’ 23" W',verbatimLatitude:'40d 7’ 23" N',verbatimLongitude:'74d 7’ 23" W',decimalLatitude:40.1230555555,decimalLongitude:-74.123055555},{verbatimCoordinates:"40.123N 74.123W",verbatimLatitude:"40.123N",verbatimLongitude:"74.123W"},{verbatimCoordinates:"40° 7.38, -74° 7.38",verbatimLatitude:"40° 7.38",verbatimLongitude:"-74° 7.38"},{verbatimCoordinates:"40° 7.38, -74° 7.38",verbatimLatitude:"40° 7.38",verbatimLongitude:"-74° 7.38"},{verbatimCoordinates:"40 7 22.8; -74 7 22.8",verbatimLatitude:"40 7 22.8",verbatimLongitude:"-74 7 22.8"}],Ri={decimalLatitude:40.123,decimalLongitude:-74.123},Ui=[{verbatimCoordinates:`50°4'17.698"south, 14°24'2.826"east`,verbatimLatitude:`50°4'17.698"south`,verbatimLongitude:`14°24'2.826"east`,decimalLatitude:-50.07158277777778,decimalLongitude:14.400785},{verbatimCoordinates:"50d4m17.698S 14d24m2.826E",verbatimLatitude:"50d4m17.698S",verbatimLongitude:"14d24m2.826E",decimalLatitude:-50.07158277777778,decimalLongitude:14.400785},{verbatimCoordinates:"40:26:46N,79:56:55W",verbatimLatitude:"40:26:46N",verbatimLongitude:"79:56:55W",decimalLatitude:40.44611111111111,decimalLongitude:-79.9486111111111},{verbatimCoordinates:"40:26:46.302N 79:56:55.903W",verbatimLatitude:"40:26:46.302N",verbatimLongitude:"79:56:55.903W",decimalLatitude:40.446195,decimalLongitude:-79.94886194444445},{verbatimCoordinates:"40°26′47″N 79°58′36″W",verbatimLatitude:"40°26′47″N",verbatimLongitude:"79°58′36″W",decimalLatitude:40.44638888888889,decimalLongitude:-79.97666666666667},{verbatimCoordinates:"40d 26′ 47″ N 79d 58′ 36″ W",verbatimLatitude:"40d 26′ 47″ N",verbatimLongitude:"79d 58′ 36″ W",decimalLatitude:40.44638888888889,decimalLongitude:-79.97666666666667},{verbatimCoordinates:"40.446195N 79.948862W",verbatimLatitude:"40.446195N",verbatimLongitude:"79.948862W",decimalLatitude:40.446195,decimalLongitude:-79.948862},{verbatimCoordinates:"40,446195° 79,948862°",verbatimLatitude:"40,446195°",verbatimLongitude:"79,948862°",decimalLatitude:40.446195,decimalLongitude:79.948862},{verbatimCoordinates:"40° 26.7717, -79° 56.93172",verbatimLatitude:"40° 26.7717",verbatimLongitude:"-79° 56.93172",decimalLatitude:40.446195,decimalLongitude:-79.948862},{verbatimCoordinates:"40.446195, -79.948862",verbatimLatitude:"40.446195",verbatimLongitude:"-79.948862",decimalLatitude:40.446195,decimalLongitude:-79.948862},{verbatimCoordinates:"40.123256; -74.123256",verbatimLatitude:"40.123256",verbatimLongitude:"-74.123256",decimalLatitude:40.123256,decimalLongitude:-74.123256},{verbatimCoordinates:"18°24S 22°45E",verbatimLatitude:"18°24S",verbatimLongitude:"22°45E",decimalLatitude:-18.4,decimalLongitude:22.75}],Ii=[{verbatimCoordinates:"10.432342S 10.6345345E",verbatimLatitude:"10.432342S",verbatimLongitude:"10.6345345E",decimalLatitude:-10.432342,decimalLongitude:10.6345345},{verbatimCoordinates:"10.00S 10.00E",verbatimLatitude:"10.00S",verbatimLongitude:"10.00E",decimalLatitude:-10,decimalLongitude:10},{verbatimCoordinates:"00.00S 01.00E",verbatimLatitude:"00.00S",verbatimLongitude:"01.00E",decimalLatitude:0,decimalLongitude:1},{verbatimCoordinates:"18.24S 22.45E",verbatimLatitude:"18.24S",verbatimLongitude:"22.45E",decimalLatitude:-18.4,decimalLongitude:22.75},{verbatimCoordinates:"27deg 15min 45.2sec S 18deg 32min 53.7sec E",verbatimLatitude:"27deg 15min 45.2sec S",verbatimLongitude:"18deg 32min 53.7sec E",decimalLatitude:-27.262555555555554,decimalLongitude:18.54825},{verbatimCoordinates:"-23.3245° S / 28.2344° E",verbatimLatitude:"-23.3245° S",verbatimLongitude:"28.2344° E",decimalLatitude:-23.3245,decimalLongitude:28.2344},{verbatimCoordinates:"40° 26.7717 -79° 56.93172",verbatimLatitude:"40° 26.7717",verbatimLongitude:"-79° 56.93172",decimalLatitude:40.446195,decimalLongitude:-79.948862},{verbatimCoordinates:"27.15.45S 18.32.53E",verbatimLatitude:"27.15.45S",verbatimLongitude:"18.32.53E",decimalLatitude:-27.2625,decimalLongitude:18.548055},{verbatimCoordinates:"-27.15.45 18.32.53",verbatimLatitude:"-27.15.45",verbatimLongitude:"18.32.53",decimalLatitude:-27.2625,decimalLongitude:18.548055},{verbatimCoordinates:"27.15.45.2S 18.32.53.4E",verbatimLatitude:"27.15.45.2S",verbatimLongitude:"18.32.53.4E",decimalLatitude:-27.262556,decimalLongitude:18.548167},{verbatimCoordinates:"27.15.45,2S 18.32.53,4E",verbatimLatitude:"27.15.45,2S",verbatimLongitude:"18.32.53,4E",decimalLatitude:-27.262556,decimalLongitude:18.548167},{verbatimCoordinates:"S23.43563 °  E22.45634 °",verbatimLatitude:"S23.43563 °",verbatimLongitude:"E22.45634 °",decimalLatitude:-23.43563,decimalLongitude:22.45634},{verbatimCoordinates:"27,71372° S 23,07771° E",verbatimLatitude:"27,71372° S",verbatimLongitude:"23,07771° E",decimalLatitude:-27.71372,decimalLongitude:23.07771},{verbatimCoordinates:"27.45.34 S 23.23.23 E",verbatimLatitude:"27.45.34 S",verbatimLongitude:"23.23.23 E",decimalLatitude:-27.759444,decimalLongitude:23.38972222},{verbatimCoordinates:"S 27.45.34 E 23.23.23",verbatimLatitude:"S 27.45.34",verbatimLongitude:"E 23.23.23",decimalLatitude:-27.759444,decimalLongitude:23.38972222},{verbatimCoordinates:"53 16.3863,4 52.8171",verbatimLatitude:"53 16.3863",verbatimLongitude:"4 52.8171",decimalLatitude:53.273105,decimalLongitude:4.88029},{verbatimCoordinates:"50 8.2914,-5 2.4447",verbatimLatitude:"50 8.2914",verbatimLongitude:"-5 2.4447",decimalLatitude:50.13819,decimalLongitude:-5.040745},{verbatimCoordinates:"N 48° 30,6410', E 18° 57,4583'",verbatimLatitude:"N 48° 30,6410'",verbatimLongitude:"E 18° 57,4583'",decimalLatitude:48.51068,decimalLongitude:18.95764},{verbatimCoordinates:"1.23456, 18.33453",verbatimLatitude:"1.23456",verbatimLongitude:"18.33453",decimalLatitude:1.23456,decimalLongitude:18.33453}];function Ai(){const i=[];return Di.forEach(e=>{e.decimalLatitude?i.push(e):i.push({...e,...Ri})}),[...i,...Ui,...Ii]}const Bi=Ai();Ke.formats=Bi.map(i=>i.verbatimCoordinates);const Fi=Ke;function Wt(i,e,t){const n=i.slice();return n[84]=e[t],n[86]=t,n}function Ot(i){let e,t;return e=new wi({}),{c(){ge(e.$$.fragment)},m(n,o){le(e,n,o),t=!0},i(n){t||(j(e.$$.fragment,n),t=!0)},o(n){Q(e.$$.fragment,n),t=!1},d(n){ue(e,n)}}}function Dt(i){let e,t,n,o,l;return t=new Si({}),{c(){e=U("button"),ge(t.$$.fragment),a(e,"type","button"),a(e,"title",i[9]),a(e,"class","svelte-1uvos7g"),me(e,"active",i[0])},m(c,r){B(c,e,r),le(t,e,null),n=!0,o||(l=J(e,"click",i[69]),o=!0)},p(c,r){(!n||r[0]&512)&&a(e,"title",c[9]),(!n||r[0]&1)&&me(e,"active",c[0])},i(c){n||(j(t.$$.fragment,c),n=!0)},o(c){Q(t.$$.fragment,c),n=!1},d(c){c&&I(e),ue(t),o=!1,l()}}}function ji(i){let e,t=[],n=new Map,o,l,c,r=Lt(i[14]);const d=u=>u[84].id+(u[84].address?","+u[84].address:"");for(let u=0;u<r.length;u+=1){let f=Wt(i,r,u),h=d(f);n.set(h,t[u]=Rt(h,f))}return{c(){e=U("ul");for(let u=0;u<t.length;u+=1)t[u].c();a(e,"class","svelte-1uvos7g")},m(u,f){B(u,e,f);for(let h=0;h<t.length;h+=1)t[h]&&t[h].m(e,null);o=!0,l||(c=[J(e,"mouseleave",i[73]),J(e,"blur",i[74])],l=!0)},p(u,f){f[0]&17880064&&(r=Lt(u[14]),Be(),t=ri(t,f,d,1,u,r,n,e,ni,Rt,null,Wt),Fe())},i(u){if(!o){for(let f=0;f<r.length;f+=1)j(t[f]);o=!0}},o(u){for(let f=0;f<t.length;f+=1)Q(t[f]);o=!1},d(u){u&&I(e);for(let f=0;f<t.length;f+=1)t[f].d();l=!1,se(c)}}}function zi(i){let e,t,n,o,l,c;return t=new yt({}),{c(){e=U("div"),ge(t.$$.fragment),n=X(),o=U("div"),l=fe(i[7]),a(o,"class","svelte-1uvos7g"),a(e,"class","no-results svelte-1uvos7g")},m(r,d){B(r,e,d),le(t,e,null),T(e,n),T(e,o),T(o,l),c=!0},p(r,d){(!c||d[0]&128)&&Ce(l,r[7])},i(r){c||(j(t.$$.fragment,r),c=!0)},o(r){Q(t.$$.fragment,r),c=!1},d(r){r&&I(e),ue(t)}}}function Hi(i){let e="",t;return{c(){t=fe(e)},m(n,o){B(n,t,o)},p:L,i:L,o:L,d(n){n&&I(t)}}}function Pi(i){let e,t,n,o,l,c,r,d,u,f,h;return t=new yt({}),d=new _t({}),{c(){e=U("div"),ge(t.$$.fragment),n=X(),o=U("div"),l=fe(i[6]),c=X(),r=U("button"),ge(d.$$.fragment),a(o,"class","svelte-1uvos7g"),a(r,"class","svelte-1uvos7g"),a(e,"class","error svelte-1uvos7g")},m(v,y){B(v,e,y),le(t,e,null),T(e,n),T(e,o),T(o,l),T(e,c),T(e,r),le(d,r,null),u=!0,f||(h=J(r,"click",i[70]),f=!0)},p(v,y){(!u||y[0]&64)&&Ce(l,v[6])},i(v){u||(j(t.$$.fragment,v),j(d.$$.fragment,v),u=!0)},o(v){Q(t.$$.fragment,v),Q(d.$$.fragment,v),u=!1},d(v){v&&I(e),ue(t),ue(d),f=!1,h()}}}function Rt(i,e){let t,n,o;function l(){return e[71](e[86])}function c(){return e[72](e[84])}return n=new _i({props:{feature:e[84],showPlaceType:e[10],selected:e[15]===e[86],missingIconsCache:e[20],iconsBaseUrl:e[12]}}),n.$on("mouseenter",l),n.$on("focus",c),{key:i,first:null,c(){t=xt(),ge(n.$$.fragment),this.first=t},m(r,d){B(r,t,d),le(n,r,d),o=!0},p(r,d){e=r;const u={};d[0]&16384&&(u.feature=e[84]),d[0]&1024&&(u.showPlaceType=e[10]),d[0]&49152&&(u.selected=e[15]===e[86]),d[0]&4096&&(u.iconsBaseUrl=e[12]),n.$set(u)},i(r){o||(j(n.$$.fragment,r),o=!0)},o(r){Q(n.$$.fragment,r),o=!1},d(r){r&&I(t),ue(n,r)}}}function Zi(i){let e,t,n,o,l,c,r,d,u,f,h,v,y,E,O,w,S,W,D,N,x,b=!1;l=new Ni({}),h=new _t({});let g=i[19]&&Ot(),m=i[5]===!0&&Dt(i);const C=i[61].default,H=Zt(C,i,i[60],null),ee=[Pi,Hi,zi,ji],te=[];function P(_,z){var ie,ce;return _[18]?0:_[16]?((ie=_[14])==null?void 0:ie.length)===0?2:_[16]&&((ce=_[14])!=null&&ce.length)?3:-1:1}return~(w=P(i))&&(S=te[w]=ee[w](i)),{c(){e=X(),t=U("form"),n=U("div"),o=U("button"),ge(l.$$.fragment),c=X(),r=U("input"),d=X(),u=U("div"),f=U("button"),ge(h.$$.fragment),v=X(),g&&g.c(),y=X(),m&&m.c(),E=X(),H&&H.c(),O=X(),S&&S.c(),a(o,"class","search-button svelte-1uvos7g"),a(o,"type","button"),a(r,"placeholder",i[8]),a(r,"aria-label",i[8]),a(r,"class","svelte-1uvos7g"),a(f,"type","button"),a(f,"title",i[3]),a(f,"class","svelte-1uvos7g"),a(u,"class","clear-button-container svelte-1uvos7g"),me(u,"displayable",i[1]!==""),a(n,"class","input-group svelte-1uvos7g"),a(t,"tabindex","0"),a(t,"class",W=ft(i[2])+" svelte-1uvos7g"),me(t,"can-collapse",i[4]&&i[1]==="")},m(_,z){B(_,e,z),B(_,t,z),T(t,n),T(n,o),le(l,o,null),T(n,c),T(n,r),i[63](r),mt(r,i[1]),T(n,d),T(n,u),T(u,f),le(h,f,null),T(u,v),g&&g.m(u,null),T(n,y),m&&m.m(n,null),T(n,E),H&&H.m(n,null),T(t,O),~w&&te[w].m(t,null),D=!0,N||(x=[J(o,"click",i[62]),J(r,"input",i[64]),J(r,"focus",i[65]),J(r,"blur",i[66]),J(r,"keydown",i[22]),J(r,"input",i[67]),J(f,"click",i[68]),J(t,"submit",Vt(i[21]))],N=!0)},p(_,z){(!D||z[0]&256)&&a(r,"placeholder",_[8]),(!D||z[0]&256)&&a(r,"aria-label",_[8]),z[0]&2&&r.value!==_[1]&&mt(r,_[1]),(!D||z[0]&8)&&a(f,"title",_[3]),_[19]?g?z[0]&524288&&j(g,1):(g=Ot(),g.c(),j(g,1),g.m(u,null)):g&&(Be(),Q(g,1,1,()=>{g=null}),Fe()),(!D||z[0]&2)&&me(u,"displayable",_[1]!==""),_[5]===!0?m?(m.p(_,z),z[0]&32&&j(m,1)):(m=Dt(_),m.c(),j(m,1),m.m(n,E)):m&&(Be(),Q(m,1,1,()=>{m=null}),Fe()),H&&H.p&&(!D||z[1]&536870912)&&qt(H,C,_,_[60],D?Gt(C,_[60],z,null):Qt(_[60]),null);let ie=w;w=P(_),w===ie?~w&&te[w].p(_,z):(S&&(Be(),Q(te[ie],1,1,()=>{te[ie]=null}),Fe()),~w?(S=te[w],S?S.p(_,z):(S=te[w]=ee[w](_),S.c()),j(S,1),S.m(t,null)):S=null),(!D||z[0]&4&&W!==(W=ft(_[2])+" svelte-1uvos7g"))&&a(t,"class",W),(!D||z[0]&22)&&me(t,"can-collapse",_[4]&&_[1]==="")},i(_){D||(j(b),j(l.$$.fragment,_),j(h.$$.fragment,_),j(g),j(m),j(H,_),j(S),D=!0)},o(_){Q(b),Q(l.$$.fragment,_),Q(h.$$.fragment,_),Q(g),Q(m),Q(H,_),Q(S),D=!1},d(_){_&&(I(e),I(t)),ue(l),i[63](null),ue(h),g&&g.d(),m&&m.d(),H&&H.d(_),~w&&te[w].d(),N=!1,se(x)}}}function Gi(i,e,t){let n,{$$slots:o={},$$scope:l}=e;const c={continental_marine:4,country:4,major_landform:8,region:5,subregion:6,county:7,joint_municipality:8,joint_submunicipality:9,municipality:10,municipal_district:11,locality:12,neighbourhood:13,place:14,postal_code:14,road:16,poi:17,address:18,"poi.peak":15,"poi.shop":18,"poi.cafe":18,"poi.restaurant":18,"poi.aerodrome":13};let{class:r=void 0}=e,{apiKey:d}=e,{bbox:u=void 0}=e,{clearButtonTitle:f="clear"}=e,{clearOnBlur:h=!1}=e,{collapsed:v=!1}=e,{country:y=void 0}=e,{debounceSearch:E=200}=e,{enableReverse:O=!1}=e,{errorMessage:w="Something went wrong…"}=e,{filter:S=()=>!0}=e,{flyTo:W=!0}=e,{fuzzyMatch:D=!0}=e,{language:N=void 0}=e,{limit:x=void 0}=e,{mapController:b=void 0}=e,{minLength:g=2}=e,{noResultsMessage:m="Oops! Looks like you're trying to predict something that's not quite right. We can't seem to find what you're looking for. Maybe try double-checking your spelling or try a different search term. Keep on typing - we'll do our best to get you where you need to go!"}=e,{placeholder:C="Search"}=e,{proximity:H=[{type:"server-geolocation"}]}=e,{reverseActive:ee=O==="always"}=e,{reverseButtonTitle:te="toggle reverse geocoding"}=e,{searchValue:P=""}=e,{showFullGeometry:_=!0}=e,{showPlaceType:z="ifNeeded"}=e,{showResultsWhileTyping:ie=!0}=e,{selectFirst:ce=!0}=e,{flyToSelected:Je=!1}=e,{markerOnSelected:je=!0}=e,{types:ye=void 0}=e,{exhaustiveReverseGeocoding:Xe=!1}=e,{excludeTypes:ze=!1}=e,{zoom:Ne=c}=e,{maxZoom:He=void 0}=e,{apiUrl:Ye="https://api.maptiler.com/geocoding"}=e,{fetchParameters:$e={}}=e,{iconsBaseUrl:Ut="https://cdn.maptiler.com/maptiler-geocoding-control/v2.0.0/icons/"}=e,{adjustUrlQuery:et=()=>{}}=e;function Vi(){ne.focus()}function Ki(){ne.blur()}function It(s,F=!0,q=!1){t(1,P=s),F?(t(15,A=-1),Bt()):(rt(!q,q),setTimeout(()=>{ne.focus(),ne.select()}))}function Ji(){t(14,k=void 0),t(57,p=void 0),t(15,A=-1)}function Xi(){t(56,Z=[]),t(57,p=void 0)}let Me=!1,k,Z,p,At="",ne,A=-1,re,Pe=[],we,Te,Ze,tt;const Yi=new Set,he=Yt();Xt(()=>{b&&(b.setEventHandler(void 0),b.indicateReverse(!1),b.setSelectedMarker(-1),b.setMarkers(void 0,void 0))});function Bt(s){if(Te&&(clearTimeout(Te),Te=void 0),A>-1&&k)t(57,p=k[A]),t(1,P=p.place_type[0]==="reverse"?p.place_name:p.place_name.replace(/,.*/,"")),t(18,re=void 0),t(56,Z=void 0),t(15,A=-1);else if(P){const F=s||!it(P);nt(P,{exact:!0}).then(()=>{t(56,Z=k),t(57,p=void 0),F&&$i()}).catch(q=>t(18,re=q))}}function it(s){try{return Fi(s,6)}catch{return!1}}async function nt(s,{byId:F=!1,exact:q=!1}={}){t(18,re=void 0),we==null||we.abort();const Y=new AbortController;t(19,we=Y);try{const M=it(s),G=new URLSearchParams;if(N!==void 0&&G.set("language",Array.isArray(N)?N.join(","):N??""),ye&&G.set("types",ye.join(",")),ze&&G.set("excludeTypes",String(ze)),u&&G.set("bbox",u.map(Ge=>Ge.toFixed(6)).join(",")),y&&G.set("country",Array.isArray(y)?y.join(","):y),!F&&!M){const Ge=await Ti(b,H,Y);Ge&&G.set("proximity",Ge),(q||!ie)&&G.set("autocomplete","false"),G.set("fuzzyMatch",String(D))}x!==void 0&&(Xe||!M||(ye==null?void 0:ye.length)===1)&&G.set("limit",String(x)),G.set("key",d),et(G);const oe=Ye+"/"+encodeURIComponent(M?M.decimalLongitude+","+M.decimalLatitude:s)+".json?"+G.toString();if(oe===At){F?(t(14,k=void 0),t(57,p=Pe[0])):t(14,k=Pe);return}At=oe;const st=await fetch(oe,{signal:Y.signal,...$e});if(!st.ok)throw new Error(await st.text());const at=await st.json();he("response",{url:oe,featureCollection:at}),F?(t(14,k=void 0),t(57,p=at.features[0]),Pe=[p]):(t(14,k=at.features.filter(S)),M&&k.unshift({type:"Feature",properties:{},id:"reverse_"+M.decimalLongitude+"_"+M.decimalLatitude,text:M.decimalLatitude+", "+M.decimalLongitude,place_name:M.decimalLatitude+", "+M.decimalLongitude,place_type:["reverse"],center:[M.decimalLongitude,M.decimalLatitude],bbox:[M.decimalLongitude,M.decimalLatitude,M.decimalLongitude,M.decimalLatitude],geometry:{type:"Point",coordinates:[M.decimalLongitude,M.decimalLatitude]}}),Pe=k,M&&ne.focus())}catch(M){if(M&&typeof M=="object"&&"name"in M&&M.name==="AbortError")return;throw M}finally{Y===we&&t(19,we=void 0)}}function $i(){var Y;if(!(Z!=null&&Z.length)||!W)return;const s=[180,90,-180,-90],F=!Z.some(M=>!M.matching_text);let q;for(const M of Z){const G=Ue(M);if(q=He??(q===void 0?G:G===void 0?q:Math.max(q,G)),F||!M.matching_text)for(const oe of[0,1,2,3])s[oe]=Math[oe<2?"min":"max"](s[oe],((Y=M.bbox)==null?void 0:Y[oe])??M.center[oe%2])}b&&Z.length>0&&(p&&s[0]===s[2]&&s[1]===s[3]?b.flyTo(p.center,Ue(p)):b.fitBounds(Et(s),50,q))}function Ue(s){var q;if(!s.bbox||s.bbox[0]!==s.bbox[2]&&s.bbox[1]!==s.bbox[3])return;if(typeof Ne=="number")return s.id.startsWith("poi.")||s.id.startsWith("address.")?He:Ne;const F=s.id.replace(/\..*/,"");return(Array.isArray((q=s.properties)==null?void 0:q.categories)?s.properties.categories.reduce((Y,M)=>{const G=Ne[F+"."+M];return Y===void 0?G:G===void 0?Y:Math.max(Y,G)},void 0):void 0)??Ne[F]}function en(s){t(0,ee=O==="always"),t(14,k=void 0),t(57,p=void 0),t(15,A=-1),It(s[1].toFixed(6)+", "+Mi(s[0],[-180,180],!0).toFixed(6),!1,!0)}function tn(s){if(!k)return;let F=s.key==="ArrowDown"?1:s.key==="ArrowUp"?-1:0;F&&(A===(ce?0:-1)&&F===-1&&t(15,A=k.length),t(15,A+=F),A>=k.length&&t(15,A=-1),A<0&&ce&&t(15,A=0),s.preventDefault())}function rt(s=!0,F=!1){if(t(18,re=void 0),ie||F){if(Te&&clearTimeout(Te),P.length<g)return;const q=P;Te=window.setTimeout(()=>{nt(q).catch(Y=>t(18,re=Y))},s?E:0)}else t(14,k=void 0),t(18,re=void 0)}function ot(s){t(57,p=s),t(1,P=s.place_name),t(15,A=-1)}const nn=()=>ne.focus();function rn(s){qe[s?"unshift":"push"](()=>{ne=s,t(17,ne)})}function on(){P=this.value,t(1,P),t(13,Me),t(28,h)}const sn=()=>t(13,Me=!0),an=()=>t(13,Me=!1),ln=()=>rt(),un=()=>{t(1,P=""),ne.focus()},cn=()=>t(0,ee=!ee),dn=()=>t(18,re=void 0),fn=s=>t(15,A=s),mn=s=>ot(s),gn=()=>{ce||t(15,A=-1)},hn=()=>{};return i.$$set=s=>{"class"in s&&t(2,r=s.class),"apiKey"in s&&t(26,d=s.apiKey),"bbox"in s&&t(27,u=s.bbox),"clearButtonTitle"in s&&t(3,f=s.clearButtonTitle),"clearOnBlur"in s&&t(28,h=s.clearOnBlur),"collapsed"in s&&t(4,v=s.collapsed),"country"in s&&t(29,y=s.country),"debounceSearch"in s&&t(30,E=s.debounceSearch),"enableReverse"in s&&t(5,O=s.enableReverse),"errorMessage"in s&&t(6,w=s.errorMessage),"filter"in s&&t(31,S=s.filter),"flyTo"in s&&t(32,W=s.flyTo),"fuzzyMatch"in s&&t(33,D=s.fuzzyMatch),"language"in s&&t(34,N=s.language),"limit"in s&&t(35,x=s.limit),"mapController"in s&&t(36,b=s.mapController),"minLength"in s&&t(37,g=s.minLength),"noResultsMessage"in s&&t(7,m=s.noResultsMessage),"placeholder"in s&&t(8,C=s.placeholder),"proximity"in s&&t(38,H=s.proximity),"reverseActive"in s&&t(0,ee=s.reverseActive),"reverseButtonTitle"in s&&t(9,te=s.reverseButtonTitle),"searchValue"in s&&t(1,P=s.searchValue),"showFullGeometry"in s&&t(39,_=s.showFullGeometry),"showPlaceType"in s&&t(10,z=s.showPlaceType),"showResultsWhileTyping"in s&&t(40,ie=s.showResultsWhileTyping),"selectFirst"in s&&t(11,ce=s.selectFirst),"flyToSelected"in s&&t(41,Je=s.flyToSelected),"markerOnSelected"in s&&t(42,je=s.markerOnSelected),"types"in s&&t(43,ye=s.types),"exhaustiveReverseGeocoding"in s&&t(44,Xe=s.exhaustiveReverseGeocoding),"excludeTypes"in s&&t(45,ze=s.excludeTypes),"zoom"in s&&t(46,Ne=s.zoom),"maxZoom"in s&&t(47,He=s.maxZoom),"apiUrl"in s&&t(48,Ye=s.apiUrl),"fetchParameters"in s&&t(49,$e=s.fetchParameters),"iconsBaseUrl"in s&&t(12,Ut=s.iconsBaseUrl),"adjustUrlQuery"in s&&t(50,et=s.adjustUrlQuery),"$$scope"in s&&t(60,l=s.$$scope)},i.$$.update=()=>{if(i.$$.dirty[0]&32&&t(0,ee=O==="always"),i.$$.dirty[0]&268443648&&setTimeout(()=>{t(16,Ze=Me),h&&!Me&&t(1,P="")}),i.$$.dirty[0]&16386|i.$$.dirty[1]&64&&P.length<g&&(t(57,p=void 0),t(14,k=void 0),t(18,re=void 0),t(56,Z=k)),i.$$.dirty[1]&67109120&&_&&p&&!p.address&&p.geometry.type==="Point"&&p.place_type[0]!=="reverse"&&nt(p.id,{byId:!0}).catch(s=>t(18,re=s)),i.$$.dirty[1]&201326626&&(b&&p&&p.id!==tt&&W&&(!p.bbox||p.bbox[0]===p.bbox[2]&&p.bbox[1]===p.bbox[3]?b.flyTo(p.center,Ue(p)):b.fitBounds(Et(p.bbox),50,Ue(p)),t(14,k=void 0),t(56,Z=void 0),t(15,A=-1)),t(58,tt=p==null?void 0:p.id)),i.$$.dirty[0]&18432&&ce&&k!=null&&k.length&&t(15,A=0),i.$$.dirty[0]&2&&t(15,A=-1),i.$$.dirty[0]&16384|i.$$.dirty[1]&33554432&&Z!==k&&t(56,Z=void 0),i.$$.dirty[0]&81921|i.$$.dirty[1]&33554464&&b&&b.setEventHandler(s=>{switch(s.type){case"mapClick":ee&&en(s.coordinates);break;case"markerClick":{const F=k==null?void 0:k.find(q=>q.id===s.id);F&&ot(F)}break;case"markerMouseEnter":Z&&t(15,A=Ze?(k==null?void 0:k.findIndex(F=>F.id===s.id))??-1:-1);break;case"markerMouseLeave":Z&&t(15,A=-1);break}}),i.$$.dirty[0]&49152&&t(59,n=k==null?void 0:k[A]),i.$$.dirty[1]&268436514&&b&&n&&W&&Je&&b.flyTo(n.center,Ue(n)),i.$$.dirty[1]&2080&&(je||b==null||b.setMarkers(void 0,void 0)),i.$$.dirty[1]&301991968&&b&&je&&!Z&&(b.setMarkers(n?[n]:void 0,void 0),b.setSelectedMarker(n?0:-1)),i.$$.dirty[1]&100663328&&b&&b.setMarkers(Z,p),i.$$.dirty[0]&32768|i.$$.dirty[1]&33554464&&Z&&b&&b.setSelectedMarker(A),i.$$.dirty[0]&2|i.$$.dirty[1]&32&&b){const s=it(P);b.setReverseMarker(s?[s.decimalLongitude,s.decimalLatitude]:void 0)}i.$$.dirty[1]&268435456&&he("select",n),i.$$.dirty[1]&67108864&&he("pick",p),i.$$.dirty[0]&81920&&he("optionsVisibilityChange",Ze&&!!k),i.$$.dirty[0]&16384&&he("featuresListed",k),i.$$.dirty[1]&33554432&&he("featuresMarked",Z),i.$$.dirty[0]&1&&he("reverseToggle",ee),i.$$.dirty[0]&2&&he("queryChange",P),i.$$.dirty[0]&1|i.$$.dirty[1]&32&&b&&b.indicateReverse(ee)},[ee,P,r,f,v,O,w,m,C,te,z,ce,Ut,Me,k,A,Ze,ne,re,we,Yi,Bt,tn,rt,ot,c,d,u,h,y,E,S,W,D,N,x,b,g,H,_,ie,Je,je,ye,Xe,ze,Ne,He,Ye,$e,et,Vi,Ki,It,Ji,Xi,Z,p,tt,n,l,o,nn,rn,on,sn,an,ln,un,cn,dn,fn,mn,gn,hn]}let qi=class extends _e{constructor(e){super(),Le(this,e,Gi,Zi,be,{ZOOM_DEFAULTS:25,class:2,apiKey:26,bbox:27,clearButtonTitle:3,clearOnBlur:28,collapsed:4,country:29,debounceSearch:30,enableReverse:5,errorMessage:6,filter:31,flyTo:32,fuzzyMatch:33,language:34,limit:35,mapController:36,minLength:37,noResultsMessage:7,placeholder:8,proximity:38,reverseActive:0,reverseButtonTitle:9,searchValue:1,showFullGeometry:39,showPlaceType:10,showResultsWhileTyping:40,selectFirst:11,flyToSelected:41,markerOnSelected:42,types:43,exhaustiveReverseGeocoding:44,excludeTypes:45,zoom:46,maxZoom:47,apiUrl:48,fetchParameters:49,iconsBaseUrl:12,adjustUrlQuery:50,focus:51,blur:52,setQuery:53,clearList:54,clearMap:55},null,[-1,-1,-1])}get ZOOM_DEFAULTS(){return this.$$.ctx[25]}get focus(){return this.$$.ctx[51]}get blur(){return this.$$.ctx[52]}get setQuery(){return this.$$.ctx[53]}get clearList(){return this.$$.ctx[54]}get clearMap(){return this.$$.ctx[55]}};const Qi=new FinalizationRegistry(i=>{i.$destroy()});class xi extends EventTarget{constructor({target:t,...n}){super();zt(this,$);Ht(this,$,new qi({target:t,props:n}));for(const o of["select","pick","featuresListed","featuresMarked","response","optionsVisibilityChange","reverseToggle","queryChange"])de(this,$).$on(o,l=>this.dispatchEvent(l));Qi.register(this,de(this,$))}setOptions(t){de(this,$).$set(t)}setQuery(t,n=!0){var o;(o=de(this,$))==null||o.setQuery(t,n)}clearMap(){var t;(t=de(this,$))==null||t.clearMap()}clearList(){var t;(t=de(this,$))==null||t.clearList()}focus(){var t;(t=de(this,$))==null||t.focus()}blur(){var t;(t=de(this,$))==null||t.blur()}}$=new WeakMap,R.GeocodingControl=xi,Object.defineProperty(R,Symbol.toStringTag,{value:"Module"})});
//# sourceMappingURL=vanilla.umd.js.map
