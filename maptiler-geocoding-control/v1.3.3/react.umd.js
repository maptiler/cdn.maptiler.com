(function(J,j){typeof exports=="object"&&typeof module<"u"?j(exports,require("react")):typeof define=="function"&&define.amd?define(["exports","react"],j):(J=typeof globalThis<"u"?globalThis:J||self,j(J.reactMaptilerGeocoder={},J.React))})(this,function(J,j){"use strict";var ur=Object.defineProperty;var cr=(J,j,O)=>j in J?ur(J,j,{enumerable:!0,configurable:!0,writable:!0,value:O}):J[j]=O;var it=(J,j,O)=>cr(J,typeof j!="symbol"?j+"":j,O);function O(){}function Ut(i,e){for(const t in e)i[t]=e[t];return i}function rt(i){return i()}function nt(){return Object.create(null)}function re(i){i.forEach(rt)}function ot(i){return typeof i=="function"}function de(i,e){return i!=i?e==e:i!==e||i&&typeof i=="object"||typeof i=="function"}let Re;function Q(i,e){return i===e?!0:(Re||(Re=document.createElement("a")),Re.href=e,i===Re.href)}function zt(i){return Object.keys(i).length===0}function At(i,e,t,r){if(i){const o=st(i,e,t,r);return i[0](o)}}function st(i,e,t,r){return i[1]&&r?Ut(t.ctx.slice(),i[1](r(e))):t.ctx}function Bt(i,e,t,r){if(i[2]&&r){const o=i[2](r(t));if(e.dirty===void 0)return o;if(typeof o=="object"){const u=[],a=Math.max(e.dirty.length,o.length);for(let n=0;n<a;n+=1)u[n]=e.dirty[n]|o[n];return u}return e.dirty|o}return e.dirty}function Ft(i,e,t,r,o,u){if(o){const a=st(e,t,r,u);i.p(a,o)}}function Ht(i){if(i.ctx.length>32){const e=[],t=i.ctx.length/32;for(let r=0;r<t;r++)e[r]=-1;return e}return-1}function at(i){return i??""}function T(i,e){i.appendChild(e)}function F(i,e,t){i.insertBefore(e,t||null)}function A(i){i.parentNode&&i.parentNode.removeChild(i)}function I(i){return document.createElement(i)}function ne(i){return document.createElementNS("http://www.w3.org/2000/svg",i)}function ae(i){return document.createTextNode(i)}function X(){return ae(" ")}function Pt(){return ae("")}function K(i,e,t,r){return i.addEventListener(e,t,r),()=>i.removeEventListener(e,t,r)}function jt(i){return function(e){return e.preventDefault(),i.call(this,e)}}function l(i,e,t){t==null?i.removeAttribute(e):i.getAttribute(e)!==t&&i.setAttribute(e,t)}function Gt(i){return Array.from(i.childNodes)}function ke(i,e){e=""+e,i.data!==e&&(i.data=e)}function lt(i,e){i.value=e??""}function le(i,e,t){i.classList.toggle(e,!!t)}function Zt(i,e,{bubbles:t=!1,cancelable:r=!1}={}){return new CustomEvent(i,{detail:e,bubbles:t,cancelable:r})}let Ne;function Te(i){Ne=i}function ut(){if(!Ne)throw new Error("Function called outside component initialization");return Ne}function qt(i){ut().$$.on_destroy.push(i)}function Qt(){const i=ut();return(e,t,{cancelable:r=!1}={})=>{const o=i.$$.callbacks[e];if(o){const u=Zt(e,t,{cancelable:r});return o.slice().forEach(a=>{a.call(i,u)}),!u.defaultPrevented}return!0}}function ct(i,e){const t=i.$$.callbacks[e.type];t&&t.slice().forEach(r=>r.call(this,e))}const ve=[],Pe=[];let Le=[];const dt=[],Kt=Promise.resolve();let je=!1;function Vt(){je||(je=!0,Kt.then(ft))}function Ge(i){Le.push(i)}const Ze=new Set;let _e=0;function ft(){if(_e!==0)return;const i=Ne;do{try{for(;_e<ve.length;){const e=ve[_e];_e++,Te(e),Jt(e.$$)}}catch(e){throw ve.length=0,_e=0,e}for(Te(null),ve.length=0,_e=0;Pe.length;)Pe.pop()();for(let e=0;e<Le.length;e+=1){const t=Le[e];Ze.has(t)||(Ze.add(t),t())}Le.length=0}while(ve.length);for(;dt.length;)dt.pop()();je=!1,Ze.clear(),Te(i)}function Jt(i){if(i.fragment!==null){i.update(),re(i.before_update);const e=i.dirty;i.dirty=[-1],i.fragment&&i.fragment.p(i.ctx,e),i.after_update.forEach(Ge)}}function Xt(i){const e=[],t=[];Le.forEach(r=>i.indexOf(r)===-1?e.push(r):t.push(r)),t.forEach(r=>r()),Le=e}const De=new Set;let fe;function Oe(){fe={r:0,c:[],p:fe}}function Ie(){fe.r||re(fe.c),fe=fe.p}function P(i,e){i&&i.i&&(De.delete(i),i.i(e))}function q(i,e,t,r){if(i&&i.o){if(De.has(i))return;De.add(i),fe.c.push(()=>{De.delete(i),r&&(t&&i.d(1),r())}),i.o(e)}else r&&r()}function mt(i){return(i==null?void 0:i.length)!==void 0?i:Array.from(i)}function Yt(i,e){q(i,1,1,()=>{e.delete(i.key)})}function xt(i,e,t,r,o,u,a,n,d,c,f,b){let m=i.length,w=u.length,_=m;const z={};for(;_--;)z[i[_].key]=_;const E=[],S=new Map,U=new Map,W=[];for(_=w;_--;){const v=b(o,u,_),N=t(v);let g=a.get(N);g?W.push(()=>g.p(v,e)):(g=c(N,v),g.c()),S.set(N,E[_]=g),N in z&&U.set(N,Math.abs(_-z[N]))}const p=new Set,h=new Set;function D(v){P(v,1),v.m(n,f),a.set(v.key,v),f=v.first,w--}for(;m&&w;){const v=E[w-1],N=i[m-1],g=v.key,y=N.key;v===N?(f=v.first,m--,w--):S.has(y)?!a.has(g)||p.has(g)?D(v):h.has(y)?m--:U.get(g)>U.get(y)?(h.add(g),D(v)):(p.add(y),m--):(d(N,a),m--)}for(;m--;){const v=i[m];S.has(v.key)||d(v,a)}for(;w;)D(E[w-1]);return re(W),E}function ue(i){i&&i.c()}function oe(i,e,t){const{fragment:r,after_update:o}=i.$$;r&&r.m(e,t),Ge(()=>{const u=i.$$.on_mount.map(rt).filter(ot);i.$$.on_destroy?i.$$.on_destroy.push(...u):re(u),i.$$.on_mount=[]}),o.forEach(Ge)}function se(i,e){const t=i.$$;t.fragment!==null&&(Xt(t.after_update),re(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function $t(i,e){i.$$.dirty[0]===-1&&(ve.push(i),Vt(),i.$$.dirty.fill(0)),i.$$.dirty[e/31|0]|=1<<e%31}function me(i,e,t,r,o,u,a=null,n=[-1]){const d=Ne;Te(i);const c=i.$$={fragment:null,ctx:[],props:u,update:O,not_equal:o,bound:nt(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(d?d.$$.context:[])),callbacks:nt(),dirty:n,skip_bound:!1,root:e.target||d.$$.root};a&&a(c.root);let f=!1;if(c.ctx=t?t(i,e.props||{},(b,m,...w)=>{const _=w.length?w[0]:m;return c.ctx&&o(c.ctx[b],c.ctx[b]=_)&&(!c.skip_bound&&c.bound[b]&&c.bound[b](_),f&&$t(i,b)),m}):[],c.update(),f=!0,re(c.before_update),c.fragment=r?r(c.ctx):!1,e.target){if(e.hydrate){const b=Gt(e.target);c.fragment&&c.fragment.l(b),b.forEach(A)}else c.fragment&&c.fragment.c();e.intro&&P(i.$$.fragment),oe(i,e.target,e.anchor),ft()}Te(d)}class ge{constructor(){it(this,"$$");it(this,"$$set")}$destroy(){se(this,1),this.$destroy=O}$on(e,t){if(!ot(t))return O;const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(t),()=>{const o=r.indexOf(t);o!==-1&&r.splice(o,1)}}$set(e){this.$$set&&!zt(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const ei="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(ei);function ti(i){let e,t;return{c(){e=ne("svg"),t=ne("path"),l(t,"d","M13.12.706a.982.982 0 0 0-1.391 0L6.907 5.517 2.087.696a.982.982 0 1 0-1.391 1.39l4.821 4.821L.696 11.73a.982.982 0 1 0 1.39 1.39l4.821-4.821 4.822 4.821a.982.982 0 1 0 1.39-1.39L8.298 6.908l4.821-4.822a.988.988 0 0 0 0-1.38Z"),l(e,"viewBox","0 0 14 14"),l(e,"width","13"),l(e,"height","13"),l(e,"class","svelte-en2qvf")},m(r,o){F(r,e,o),T(e,t)},p:O,i:O,o:O,d(r){r&&A(e)}}}class gt extends ge{constructor(e){super(),me(this,e,null,ti,de,{})}}function ii(i){let e,t;return{c(){e=ne("svg"),t=ne("path"),l(t,"d","M15 0C6.705 0 0 6.705 0 15C0 23.295 6.705 30 15 30C23.295 30 30 23.295 30 15C30 6.705 23.295 0 15 0ZM22.5 20.385L20.385 22.5L15 17.115L9.615 22.5L7.5 20.385L12.885 15L7.5 9.615L9.615 7.5L15 12.885L20.385 7.5L22.5 9.615L17.115 15L22.5 20.385Z"),l(e,"viewBox","0 0 30 30"),l(e,"fill","none"),l(e,"xmlns","http://www.w3.org/2000/svg"),l(e,"class","svelte-d2loi5")},m(r,o){F(r,e,o),T(e,t)},p:O,i:O,o:O,d(r){r&&A(e)}}}class ht extends ge{constructor(e){super(),me(this,e,null,ii,de,{})}}function ri(i){let e,t;return{c(){e=I("img"),Q(e.src,t=i[3]+"area.svg")||l(e,"src",t),l(e,"alt",i[6]),l(e,"class","svelte-ltkwvy")},m(r,o){F(r,e,o)},p(r,o){o&8&&!Q(e.src,t=r[3]+"area.svg")&&l(e,"src",t),o&64&&l(e,"alt",r[6])},d(r){r&&A(e)}}}function ni(i){let e,t;return{c(){e=I("img"),Q(e.src,t=i[3]+"reverse.svg")||l(e,"src",t),l(e,"alt",i[6]),l(e,"class","svelte-ltkwvy")},m(r,o){F(r,e,o)},p(r,o){o&8&&!Q(e.src,t=r[3]+"reverse.svg")&&l(e,"src",t),o&64&&l(e,"alt",r[6])},d(r){r&&A(e)}}}function oi(i){let e,t;return{c(){e=I("img"),Q(e.src,t=i[3]+"poi.svg")||l(e,"src",t),l(e,"alt",i[6]),l(e,"class","svelte-ltkwvy")},m(r,o){F(r,e,o)},p(r,o){o&8&&!Q(e.src,t=r[3]+"poi.svg")&&l(e,"src",t),o&64&&l(e,"alt",r[6])},d(r){r&&A(e)}}}function si(i){let e,t;return{c(){e=I("img"),Q(e.src,t=i[3]+"postal_code.svg")||l(e,"src",t),l(e,"alt",i[6]),l(e,"class","svelte-ltkwvy")},m(r,o){F(r,e,o)},p(r,o){o&8&&!Q(e.src,t=r[3]+"postal_code.svg")&&l(e,"src",t),o&64&&l(e,"alt",r[6])},d(r){r&&A(e)}}}function ai(i){let e,t;return{c(){e=I("img"),Q(e.src,t=i[3]+"street.svg")||l(e,"src",t),l(e,"alt",i[6]),l(e,"class","svelte-ltkwvy")},m(r,o){F(r,e,o)},p(r,o){o&8&&!Q(e.src,t=r[3]+"street.svg")&&l(e,"src",t),o&64&&l(e,"alt",r[6])},d(r){r&&A(e)}}}function li(i){let e,t;return{c(){e=I("img"),Q(e.src,t=i[3]+"road.svg")||l(e,"src",t),l(e,"alt",i[6]),l(e,"class","svelte-ltkwvy")},m(r,o){F(r,e,o)},p(r,o){o&8&&!Q(e.src,t=r[3]+"road.svg")&&l(e,"src",t),o&64&&l(e,"alt",r[6])},d(r){r&&A(e)}}}function ui(i){let e,t;return{c(){e=I("img"),Q(e.src,t=i[3]+"housenumber.svg")||l(e,"src",t),l(e,"alt",i[6]),l(e,"class","svelte-ltkwvy")},m(r,o){F(r,e,o)},p(r,o){o&8&&!Q(e.src,t=r[3]+"housenumber.svg")&&l(e,"src",t),o&64&&l(e,"alt",r[6])},d(r){r&&A(e)}}}function ci(i){let e,t,r,o;return{c(){e=I("img"),Q(e.src,t=i[5])||l(e,"src",t),l(e,"alt",i[4]),l(e,"class","svelte-ltkwvy")},m(u,a){F(u,e,a),r||(o=K(e,"error",i[14]),r=!0)},p(u,a){a&32&&!Q(e.src,t=u[5])&&l(e,"src",t),a&16&&l(e,"alt",u[4])},d(u){u&&A(e),r=!1,o()}}}function bt(i){let e,t;return{c(){e=I("span"),t=ae(i[6]),l(e,"class","secondary svelte-ltkwvy")},m(r,o){F(r,e,o),T(e,t)},p(r,o){o&64&&ke(t,r[6])},d(r){r&&A(e)}}}function di(i){var v,N;let e,t,r,o,u,a,n,d,c=(i[7]?i[0].place_name:i[0].place_name.replace(/,.*/,""))+"",f,b,m=i[2]==="always"||i[2]&&!i[0].address&&((v=i[0].properties)==null?void 0:v.kind)!=="road"&&((N=i[0].properties)==null?void 0:N.kind)!=="road_relation"&&!i[0].id.startsWith("address.")&&!i[0].id.startsWith("postal_code.")&&(!i[0].id.startsWith("poi.")||!i[5])&&!i[7],w,_,z=(i[7]?"":i[0].place_name.replace(/[^,]*,?\s*/,""))+"",E,S,U;function W(g,y){var ee,R;return y&1&&(t=null),y&1&&(r=null),y&1&&(o=null),g[5]?ci:g[0].address?ui:((ee=g[0].properties)==null?void 0:ee.kind)==="road"||((R=g[0].properties)==null?void 0:R.kind)==="road_relation"?li:(t==null&&(t=!!g[0].id.startsWith("address.")),t?ai:(r==null&&(r=!!g[0].id.startsWith("postal_code.")),r?si:(o==null&&(o=!!g[0].id.startsWith("poi.")),o?oi:g[7]?ni:ri)))}let p=W(i,-1),h=p(i),D=m&&bt(i);return{c(){e=I("li"),h.c(),u=X(),a=I("span"),n=I("span"),d=I("span"),f=ae(c),b=X(),D&&D.c(),w=X(),_=I("span"),E=ae(z),l(d,"class","primary svelte-ltkwvy"),l(n,"class","svelte-ltkwvy"),l(_,"class","line2 svelte-ltkwvy"),l(a,"class","texts svelte-ltkwvy"),l(e,"tabindex","0"),l(e,"data-selected",i[1]),l(e,"class","svelte-ltkwvy"),le(e,"selected",i[1])},m(g,y){F(g,e,y),h.m(e,null),T(e,u),T(e,a),T(a,n),T(n,d),T(d,f),T(n,b),D&&D.m(n,null),T(a,w),T(a,_),T(_,E),S||(U=[K(e,"mouseenter",i[12]),K(e,"focus",i[13])],S=!0)},p(g,[y]){var ee,R;p===(p=W(g,y))&&h?h.p(g,y):(h.d(1),h=p(g),h&&(h.c(),h.m(e,u))),y&1&&c!==(c=(g[7]?g[0].place_name:g[0].place_name.replace(/,.*/,""))+"")&&ke(f,c),y&37&&(m=g[2]==="always"||g[2]&&!g[0].address&&((ee=g[0].properties)==null?void 0:ee.kind)!=="road"&&((R=g[0].properties)==null?void 0:R.kind)!=="road_relation"&&!g[0].id.startsWith("address.")&&!g[0].id.startsWith("postal_code.")&&(!g[0].id.startsWith("poi.")||!g[5])&&!g[7]),m?D?D.p(g,y):(D=bt(g),D.c(),D.m(n,null)):D&&(D.d(1),D=null),y&1&&z!==(z=(g[7]?"":g[0].place_name.replace(/[^,]*,?\s*/,""))+"")&&ke(E,z),y&2&&l(e,"data-selected",g[1]),y&2&&le(e,"selected",g[1])},i:O,o:O,d(g){g&&A(e),h.d(),D&&D.d(),S=!1,re(U)}}}function fi(i,e,t){var W;let r,o,{feature:u}=e,{selected:a=!1}=e,{showPlaceType:n}=e,{missingIconsCache:d}=e,{iconsBaseUrl:c}=e;const f=(W=u.properties)==null?void 0:W.categories;let b,m,w=0,_=u.place_type[0]==="reverse";function z(){m&&d.add(m),t(10,w++,w)}function E(p){ct.call(this,i,p)}function S(p){ct.call(this,i,p)}const U=()=>z();return i.$$set=p=>{"feature"in p&&t(0,u=p.feature),"selected"in p&&t(1,a=p.selected),"showPlaceType"in p&&t(2,n=p.showPlaceType),"missingIconsCache"in p&&t(9,d=p.missingIconsCache),"iconsBaseUrl"in p&&t(3,c=p.iconsBaseUrl)},i.$$.update=()=>{var p,h,D,v;if(i.$$.dirty&3640)do t(11,r--,r),t(4,b=f==null?void 0:f[r]),t(5,m=b?c+b.replace(/ /g,"_")+".svg":void 0);while(r>-1&&(!m||d.has(m)));i.$$.dirty&1&&t(6,o=u.id.startsWith("poi.")?(h=(p=u.properties)==null?void 0:p.categories)==null?void 0:h.join(", "):((v=(D=u.properties)==null?void 0:D.place_type_name)==null?void 0:v[0])??u.place_type[0])},t(11,r=(f==null?void 0:f.length)??0),[u,a,n,c,b,m,o,_,z,d,w,r,E,S,U]}class mi extends ge{constructor(e){super(),me(this,e,fi,di,de,{feature:0,selected:1,showPlaceType:2,missingIconsCache:9,iconsBaseUrl:3})}}function gi(i){let e;return{c(){e=I("div"),e.innerHTML='<svg viewBox="0 0 18 18" width="24" height="24" class="svelte-7cmwmc"><path fill="#333" d="M4.4 4.4l.8.8c2.1-2.1 5.5-2.1 7.6 0l.8-.8c-2.5-2.5-6.7-2.5-9.2 0z"></path><path opacity=".1" d="M12.8 12.9c-2.1 2.1-5.5 2.1-7.6 0-2.1-2.1-2.1-5.5 0-7.7l-.8-.8c-2.5 2.5-2.5 6.7 0 9.2s6.6 2.5 9.2 0 2.5-6.6 0-9.2l-.8.8c2.2 2.1 2.2 5.6 0 7.7z"></path></svg>',l(e,"class","svelte-7cmwmc")},m(t,r){F(t,e,r)},p:O,i:O,o:O,d(t){t&&A(e)}}}class hi extends ge{constructor(e){super(),me(this,e,null,gi,de,{})}}function bi(i){let e,t;return{c(){e=ne("svg"),t=ne("path"),l(t,"d","M30.003-26.765C13.46-26.765 0-14.158 0 1.337c0 23.286 24.535 42.952 28.39 46.04.24.192.402.316.471.376.323.282.732.424 1.142.424.41 0 .82-.142 1.142-.424.068-.06.231-.183.471-.376 3.856-3.09 28.39-22.754 28.39-46.04 0-15.495-13.46-28.102-30.003-28.102Zm1.757 12.469c4.38 0 7.858 1.052 10.431 3.158 2.595 2.105 3.89 4.913 3.89 8.422 0 2.34-.53 4.362-1.593 6.063-1.063 1.702-3.086 3.616-6.063 5.742-2.042 1.51-3.337 2.659-3.89 3.446-.532.787-.8 1.82-.8 3.096v1.914h-8.449V15.18c0-2.041.434-3.815 1.306-5.325.872-1.51 2.467-3.118 4.785-4.82 2.233-1.594 3.7-2.89 4.402-3.889a5.582 5.582 0 0 0 1.087-3.35c0-1.382-.51-2.435-1.531-3.158-1.02-.723-2.45-1.087-4.28-1.087-3.19 0-6.826 1.047-10.91 3.131l-3.472-6.986c4.742-2.659 9.77-3.992 15.087-3.992Zm-1.88 37.324c1.765 0 3.124.472 4.08 1.408.98.936 1.47 2.276 1.47 4.02 0 1.68-.49 3.007-1.47 3.985-.977.957-2.336 1.435-4.08 1.435-1.787 0-3.171-.465-4.15-1.4-.978-.958-1.47-2.298-1.47-4.02 0-1.787.48-3.14 1.436-4.054.957-.915 2.355-1.374 4.184-1.374Z"),l(e,"viewBox","0 0 60.006 21.412"),l(e,"width","14"),l(e,"height","20"),l(e,"class","svelte-en2qvf")},m(r,o){F(r,e,o),T(e,t)},p:O,i:O,o:O,d(r){r&&A(e)}}}class vi extends ge{constructor(e){super(),me(this,e,null,bi,de,{})}}function Li(i){let e,t,r;return{c(){e=ne("svg"),t=ne("circle"),r=ne("path"),l(t,"cx","4.789"),l(t,"cy","4.787"),l(t,"r","3.85"),l(t,"class","svelte-1aq105l"),l(r,"d","M12.063 12.063 7.635 7.635"),l(r,"class","svelte-1aq105l"),l(e,"xmlns","http://www.w3.org/2000/svg"),l(e,"width","13"),l(e,"height","13"),l(e,"viewBox","0 0 13 13"),l(e,"class","svelte-1aq105l")},m(o,u){F(o,e,u),T(e,t),T(e,r)},p:O,i:O,o:O,d(o){o&&A(e)}}}class _i extends ge{constructor(e){super(),me(this,e,null,Li,de,{})}}function yi(i,e,t){const r=e[1],o=e[0],u=r-o;return i===r&&t?i:((i-o)%u+u)%u+o}function vt(i){const e=[...i];return e[2]<e[0]&&(e[2]+=360),e}let Me;async function wi(i,e,t){const r=i==null?void 0:i.getCenterAndZoom();for(const o of e??[])if(!(r&&(o.minZoom!=null&&o.minZoom>r[0]||o.maxZoom!=null&&o.maxZoom<r[0]))){if(o.type==="fixed")return o.coordinates.join(",");e:if(o.type==="client-geolocation"){if(Me&&o.cachedLocationExpiry&&Me.time+o.cachedLocationExpiry>Date.now()){if(!Me.coords)break e;return Me.coords}let u;try{return u=await new Promise((a,n)=>{t.signal.addEventListener("abort",()=>{n(Error("aborted"))}),navigator.geolocation.getCurrentPosition(d=>{a([d.coords.longitude,d.coords.latitude].map(c=>c.toFixed(6)).join(","))},d=>{n(d)},o)}),u}catch{}finally{o.cachedLocationExpiry&&(Me={time:Date.now(),coords:u})}if(t.signal.aborted)return}if(o.type==="server-geolocation")return"ip";if(r&&o.type==="map-center")return r[1].toFixed(6)+","+r[2].toFixed(6)}}const Ei=/^(NORTH|SOUTH|[NS])?\s*([+-]?[0-8]?[0-9])\s*([•º°\.:]|D(?:EG)?(?:REES)?)?\s*,?([6-9][0-9])\s*(['′´’\.:]|M(?:IN)?(?:UTES)?)?\s*(NORTH|SOUTH|[NS])?(?:\s*[,/;]\s*|\s*)(EAST|WEST|[EW])?\s*([+-]?[0-1]?[0-9]?[0-9])\s*([•º°\.:]|D(?:EG)?(?:REES)?)?\s*,?([6-9][0-9])\s*(['′´’\.:]|M(?:IN)?(?:UTES)?)?\s*(EAST|WEST|[EW])?$/i,Lt=/^([+-]?[0-8]?[0-9])\s+([0-5]?[0-9]\.\d{3,})[\s,]{1,}([+-]?[0-1]?[0-9]?[0-9])\s+([0-5]?[0-9]\.\d{3,})$/,_t=/^(NORTH|SOUTH|[NS])?[\s]*([+-]?[0-8]?[0-9](?:[\.,]\d{3,}))[\s]*([•º°]?)[\s]*(NORTH|SOUTH|[NS])?[\s]*[,/;]?[\s]*(EAST|WEST|[EW])?[\s]*([+-]?[0-1]?[0-9]?[0-9](?:[\.,]\d{3,}))[\s]*([•º°]?)[\s]*(EAST|WEST|[EW])?$/i,yt=/^(NORTH|SOUTH|[NS])?\s*([+-]?[0-8]?[0-9])\s*(\.)\s*([0-5]?[0-9])\s*(\.)\s*((?:[0-5]?[0-9])(?:[\.,]\d{1,3})?)?\s*(NORTH|SOUTH|[NS])?(?:\s*[,/;]\s*|\s*)(EAST|WEST|[EW])?\s*([+-]?[0-1]?[0-9]?[0-9])\s*(\.)\s*([0-5]?[0-9])\s*(\.)\s*((?:[0-5]?[0-9])(?:[\.,]\d{1,3})?)?\s*(EAST|WEST|[EW])?$/i,wt=/^(NORTH|SOUTH|[NS])?\s*([+-]?[0-8]?[0-9])\s*(D(?:EG)?(?:REES)?)\s*([0-5]?[0-9])\s*(M(?:IN)?(?:UTES)?)\s*((?:[0-5]?[0-9])(?:[\.,]\d{1,3})?)?\s*(S(?:EC)?(?:ONDS)?)?\s*(NORTH|SOUTH|[NS])?(?:\s*[,/;]\s*|\s*)(EAST|WEST|[EW])?\s*([+-]?[0-1]?[0-9]?[0-9])\s*(D(?:EG)?(?:REES)?)\s*([0-5]?[0-9])\s*(M(?:IN)?(?:UTES)?)\s*((?:[0-5]?[0-9])(?:[\.,]\d{1,3})?)?\s*(S(?:EC)?(?:ONDS)?)\s*(EAST|WEST|[EW])?$/i,Et=/^(NORTH|SOUTH|[NS])?\s*([+-]?[0-8]?[0-9])\s*([•º°\.:]|D(?:EG)?(?:REES)?)?\s*,?([0-5]?[0-9](?:[\.,]\d{1,})?)?\s*(['′´’\.:]|M(?:IN)?(?:UTES)?)?\s*,?((?:[0-5]?[0-9])(?:[\.,]\d{1,3})?)?\s*(''|′′|’’|´´|["″”\.])?\s*(NORTH|SOUTH|[NS])?(?:\s*[,/;]\s*|\s*)(EAST|WEST|[EW])?\s*([+-]?[0-1]?[0-9]?[0-9])\s*([•º°\.:]|D(?:EG)?(?:REES)?)?\s*,?([0-5]?[0-9](?:[\.,]\d{1,})?)?\s*(['′´’\.:]|M(?:IN)?(?:UTES)?)?\s*,?((?:[0-5]?[0-9])(?:[\.,]\d{1,3})?)?\s*(''|′′|´´|’’|["″”\.])?\s*(EAST|WEST|[EW])?$/i;function Si(i){if(!["DMS","DM","DD"].includes(i))throw new Error("invalid format specified");if(this.decimalCoordinates&&this.decimalCoordinates.trim()){const e=this.decimalCoordinates.split(",").map(w=>Number(w.trim())),t=Number(e[0]),r=Number(e[1]),o=Math.abs(t),u=Math.abs(r),a=t>0?"N":"S",n=r>0?"E":"W";let d;i=="DD"&&(d=`${o}° ${a}, ${u}° ${n}`);const c=Math.floor(o),f=Math.floor(u),b=(o-c)*60,m=(u-f)*60;if(i=="DM"){let w=St(b,3).toFixed(3).padStart(6,"0"),_=St(m,3).toFixed(3).padStart(6,"0");w.endsWith(".000")&&_.endsWith(".000")&&(w=w.replace(/\.000$/,""),_=_.replace(/\.000$/,"")),d=`${c}° ${w}' ${a}, ${f}° ${_}' ${n}`}if(i=="DMS"){const w=Math.floor(b),_=Math.floor(m);let z=((b-w)*60).toFixed(1).padStart(4,"0"),E=((m-_)*60).toFixed(1).padStart(4,"0");const S=w.toString().padStart(2,"0"),U=_.toString().padStart(2,"0");z.endsWith(".0")&&E.endsWith(".0")&&(z=z.replace(/\.0$/,""),E=E.replace(/\.0$/,"")),d=`${c}° ${S}' ${z}" ${a}, ${f}° ${U}' ${E}" ${n}`}return d}else throw new Error("no decimal coordinates to convert")}function St(i,e){const t=Math.pow(10,e);return Math.round((i+Number.EPSILON)*t)/t}function qe(i,e){e||(e=5),i=i.replace(/\s+/g," ").trim();let t=null,r=null,o="",u="",a=null,n=[],d=!1;if(Ei.test(i))throw new Error("invalid coordinate value");if(Lt.test(i))if(n=Lt.exec(i),d=Ce(n),d)t=Math.abs(n[1])+n[2]/60,Number(n[1])<0&&(t*=-1),r=Math.abs(n[3])+n[4]/60,Number(n[3])<0&&(r*=-1),a="DM";else throw new Error("invalid coordinate format");else if(_t.test(i))if(n=_t.exec(i),d=Ce(n),d){if(t=n[2],r=n[6],t.includes(",")&&(t=t.replace(",",".")),r.includes(",")&&(r=r.replace(",",".")),a="DD",Number(Math.round(t))==Number(t))throw new Error("integer only coordinate provided");if(Number(Math.round(r))==Number(r))throw new Error("integer only coordinate provided");n[1]?(o=n[1],u=n[5]):n[4]&&(o=n[4],u=n[8])}else throw new Error("invalid decimal coordinate format");else if(yt.test(i))if(n=yt.exec(i),d=Ce(n),d)t=Math.abs(parseInt(n[2])),n[4]&&(t+=n[4]/60,a="DM"),n[6]&&(t+=n[6].replace(",",".")/3600,a="DMS"),parseInt(n[2])<0&&(t=-1*t),r=Math.abs(parseInt(n[9])),n[11]&&(r+=n[11]/60),n[13]&&(r+=n[13].replace(",",".")/3600),parseInt(n[9])<0&&(r=-1*r),n[1]?(o=n[1],u=n[8]):n[7]&&(o=n[7],u=n[14]);else throw new Error("invalid DMS coordinates format");else if(wt.test(i))if(n=wt.exec(i),d=Ce(n),d)t=Math.abs(parseInt(n[2])),n[4]&&(t+=n[4]/60,a="DM"),n[6]&&(t+=n[6]/3600,a="DMS"),parseInt(n[2])<0&&(t=-1*t),r=Math.abs(parseInt(n[10])),n[12]&&(r+=n[12]/60),n[14]&&(r+=n[14]/3600),parseInt(n[10])<0&&(r=-1*r),n[1]?(o=n[1],u=n[9]):n[8]&&(o=n[8],u=n[16]);else throw new Error("invalid DMS coordinates format");else if(Et.test(i)){if(n=Et.exec(i),d=Ce(n),n.filter(c=>c).length<=5)throw new Error("invalid coordinates format");if(d)t=Math.abs(parseInt(n[2])),n[4]&&(t+=n[4].replace(",",".")/60,a="DM"),n[6]&&(t+=n[6].replace(",",".")/3600,a="DMS"),parseInt(n[2])<0&&(t=-1*t),r=Math.abs(parseInt(n[10])),n[12]&&(r+=n[12].replace(",",".")/60),n[14]&&(r+=n[14].replace(",",".")/3600),parseInt(n[10])<0&&(r=-1*r),n[1]?(o=n[1],u=n[9]):n[8]&&(o=n[8],u=n[16]);else throw new Error("invalid coordinates format")}if(d){if(Math.abs(r)>=180)throw new Error("invalid longitude value");if(Math.abs(t)>=90)throw new Error("invalid latitude value");if(o&&!u||!o&&u)throw new Error("invalid coordinates value");if(o&&o==u)throw new Error("invalid coordinates format");t.toString().includes(",")&&(t=t.replace(",",".")),r.toString().includes(",")&&(r=r.replace(",","."));let c=/S|SOUTH/i;c.test(o)&&t>0&&(t=-1*t),c=/W|WEST/i,c.test(u)&&r>0&&(r=-1*r);const f=n[0].trim();let b,m;const w=/[,/;\u0020]/g,_=f.match(w);if(_==null){const S=Math.floor(i.length/2);b=f.substring(0,S).trim(),m=f.substring(S).trim()}else{let S;_.length%2==1?S=Math.floor(_.length/2):S=_.length/2-1;let U=0;if(S==0)U=f.indexOf(_[0]),b=f.substring(0,U).trim(),m=f.substring(U+1).trim();else{let W=0,p=0;for(;W<=S;)U=f.indexOf(_[W],p),p=U+1,W++;b=f.substring(0,U).trim(),m=f.substring(U+1).trim()}}const z=b.split(".");if(z.length==2&&z[1]==0&&z[1].length!=2)throw new Error("invalid coordinates format");const E=m.split(".");if(E.length==2&&E[1]==0&&E[1].length!=2)throw new Error("invalid coordinates format");if(/^\d+$/.test(b)||/^\d+$/.test(m))throw new Error("degree only coordinate/s provided");return t=Number(Number(t).toFixed(e)),r=Number(Number(r).toFixed(e)),Object.freeze({verbatimCoordinates:f,verbatimLatitude:b,verbatimLongitude:m,decimalLatitude:t,decimalLongitude:r,decimalCoordinates:`${t},${r}`,originalFormat:a,closeEnough:pi,toCoordinateFormat:Si})}else throw new Error("coordinates pattern match failed")}function Ce(i){if(!isNaN(i[0]))return!1;const e=[...i];if(e.shift(),e.length%2>0)return!1;const t=/^[-+]?\d+([\.,]\d+)?$/,r=/[eastsouthnorthwest]+/i,o=e.length/2;for(let u=0;u<o;u++){const a=e[u],n=e[u+o],d=t.test(a)&&t.test(n),c=r.test(a)&&r.test(n),f=a==n;if(!(a==null&&n==null)){if(a==null||n==null)return!1;if(d||c||f)continue;return!1}}return!0}function pt(i,e){const t=Math.abs(i-e);return Number(t.toFixed(6))<=1e-5}function pi(i){if(!i)throw new Error("coords must be provided");if(i.includes(",")){const e=i.split(",");if(Number(e[0])==NaN||Number(e[1])==NaN)throw new Error("coords are not valid decimals");return pt(this.decimalLatitude,Number(e[0]))&&pt(this.decimalLongitude,e[1])}else throw new Error("coords being tested must be separated by a comma")}const ki=Object.freeze({DMS:"DMS",DM:"DM",DD:"DD"});qe.to=ki;const Ni=[{verbatimCoordinates:"40.123, -74.123",verbatimLatitude:"40.123",verbatimLongitude:"-74.123"},{verbatimCoordinates:"40.123° N 74.123° W",verbatimLatitude:"40.123° N",verbatimLongitude:"74.123° W"},{verbatimCoordinates:"40.123° N 74.123° W",verbatimLatitude:"40.123° N",verbatimLongitude:"74.123° W"},{verbatimCoordinates:'40° 7´ 22.8" N 74° 7´ 22.8" W',verbatimLatitude:'40° 7´ 22.8" N',verbatimLongitude:'74° 7´ 22.8" W'},{verbatimCoordinates:"40° 7.38’ , -74° 7.38’",verbatimLatitude:"40° 7.38’",verbatimLongitude:"-74° 7.38’"},{verbatimCoordinates:"N40°7’22.8’’, W74°7’22.8’’",verbatimLatitude:"N40°7’22.8’’",verbatimLongitude:"W74°7’22.8’’"},{verbatimCoordinates:'40°7’22.8"N, 74°7’22.8"W',verbatimLatitude:'40°7’22.8"N',verbatimLongitude:'74°7’22.8"W'},{verbatimCoordinates:`40°7'22.8"N, 74°7'22.8"W`,verbatimLatitude:`40°7'22.8"N`,verbatimLongitude:`74°7'22.8"W`},{verbatimCoordinates:"40 7 22.8, -74 7 22.8",verbatimLatitude:"40 7 22.8",verbatimLongitude:"-74 7 22.8"},{verbatimCoordinates:"40.123 -74.123",verbatimLatitude:"40.123",verbatimLongitude:"-74.123"},{verbatimCoordinates:"40.123°,-74.123°",verbatimLatitude:"40.123°",verbatimLongitude:"-74.123°"},{verbatimCoordinates:"40.123N74.123W",verbatimLatitude:"40.123N",verbatimLongitude:"74.123W"},{verbatimCoordinates:"4007.38N7407.38W",verbatimLatitude:"4007.38N",verbatimLongitude:"7407.38W"},{verbatimCoordinates:'40°7’22.8"N, 74°7’22.8"W',verbatimLatitude:'40°7’22.8"N',verbatimLongitude:'74°7’22.8"W'},{verbatimCoordinates:"400722.8N740722.8W",verbatimLatitude:"400722.8N",verbatimLongitude:"740722.8W"},{verbatimCoordinates:"N 40 7.38 W 74 7.38",verbatimLatitude:"N 40 7.38",verbatimLongitude:"W 74 7.38"},{verbatimCoordinates:"40:7:22.8N 74:7:22.8W",verbatimLatitude:"40:7:22.8N",verbatimLongitude:"74:7:22.8W"},{verbatimCoordinates:"40:7:23N,74:7:23W",verbatimLatitude:"40:7:23N",verbatimLongitude:"74:7:23W",decimalLatitude:40.1230555555,decimalLongitude:-74.1230555555},{verbatimCoordinates:'40°7’23"N 74°7’23"W',verbatimLatitude:'40°7’23"N',verbatimLongitude:'74°7’23"W',decimalLatitude:40.1230555555,decimalLongitude:-74.12305555555555},{verbatimCoordinates:'40°7’23"S 74°7’23"E',verbatimLatitude:'40°7’23"S',verbatimLongitude:'74°7’23"E',decimalLatitude:-40.1230555555,decimalLongitude:74.12305555555555},{verbatimCoordinates:'40°7’23" -74°7’23"',verbatimLatitude:'40°7’23"',verbatimLongitude:'-74°7’23"',decimalLatitude:40.1230555555,decimalLongitude:-74.123055555},{verbatimCoordinates:'40d 7’ 23" N 74d 7’ 23" W',verbatimLatitude:'40d 7’ 23" N',verbatimLongitude:'74d 7’ 23" W',decimalLatitude:40.1230555555,decimalLongitude:-74.123055555},{verbatimCoordinates:"40.123N 74.123W",verbatimLatitude:"40.123N",verbatimLongitude:"74.123W"},{verbatimCoordinates:"40° 7.38, -74° 7.38",verbatimLatitude:"40° 7.38",verbatimLongitude:"-74° 7.38"},{verbatimCoordinates:"40° 7.38, -74° 7.38",verbatimLatitude:"40° 7.38",verbatimLongitude:"-74° 7.38"},{verbatimCoordinates:"40 7 22.8; -74 7 22.8",verbatimLatitude:"40 7 22.8",verbatimLongitude:"-74 7 22.8"}],Ti={decimalLatitude:40.123,decimalLongitude:-74.123},Mi=[{verbatimCoordinates:`50°4'17.698"south, 14°24'2.826"east`,verbatimLatitude:`50°4'17.698"south`,verbatimLongitude:`14°24'2.826"east`,decimalLatitude:-50.07158277777778,decimalLongitude:14.400785},{verbatimCoordinates:"50d4m17.698S 14d24m2.826E",verbatimLatitude:"50d4m17.698S",verbatimLongitude:"14d24m2.826E",decimalLatitude:-50.07158277777778,decimalLongitude:14.400785},{verbatimCoordinates:"40:26:46N,79:56:55W",verbatimLatitude:"40:26:46N",verbatimLongitude:"79:56:55W",decimalLatitude:40.44611111111111,decimalLongitude:-79.9486111111111},{verbatimCoordinates:"40:26:46.302N 79:56:55.903W",verbatimLatitude:"40:26:46.302N",verbatimLongitude:"79:56:55.903W",decimalLatitude:40.446195,decimalLongitude:-79.94886194444445},{verbatimCoordinates:"40°26′47″N 79°58′36″W",verbatimLatitude:"40°26′47″N",verbatimLongitude:"79°58′36″W",decimalLatitude:40.44638888888889,decimalLongitude:-79.97666666666667},{verbatimCoordinates:"40d 26′ 47″ N 79d 58′ 36″ W",verbatimLatitude:"40d 26′ 47″ N",verbatimLongitude:"79d 58′ 36″ W",decimalLatitude:40.44638888888889,decimalLongitude:-79.97666666666667},{verbatimCoordinates:"40.446195N 79.948862W",verbatimLatitude:"40.446195N",verbatimLongitude:"79.948862W",decimalLatitude:40.446195,decimalLongitude:-79.948862},{verbatimCoordinates:"40,446195° 79,948862°",verbatimLatitude:"40,446195°",verbatimLongitude:"79,948862°",decimalLatitude:40.446195,decimalLongitude:79.948862},{verbatimCoordinates:"40° 26.7717, -79° 56.93172",verbatimLatitude:"40° 26.7717",verbatimLongitude:"-79° 56.93172",decimalLatitude:40.446195,decimalLongitude:-79.948862},{verbatimCoordinates:"40.446195, -79.948862",verbatimLatitude:"40.446195",verbatimLongitude:"-79.948862",decimalLatitude:40.446195,decimalLongitude:-79.948862},{verbatimCoordinates:"40.123256; -74.123256",verbatimLatitude:"40.123256",verbatimLongitude:"-74.123256",decimalLatitude:40.123256,decimalLongitude:-74.123256},{verbatimCoordinates:"18°24S 22°45E",verbatimLatitude:"18°24S",verbatimLongitude:"22°45E",decimalLatitude:-18.4,decimalLongitude:22.75}],Ci=[{verbatimCoordinates:"10.432342S 10.6345345E",verbatimLatitude:"10.432342S",verbatimLongitude:"10.6345345E",decimalLatitude:-10.432342,decimalLongitude:10.6345345},{verbatimCoordinates:"10.00S 10.00E",verbatimLatitude:"10.00S",verbatimLongitude:"10.00E",decimalLatitude:-10,decimalLongitude:10},{verbatimCoordinates:"00.00S 01.00E",verbatimLatitude:"00.00S",verbatimLongitude:"01.00E",decimalLatitude:0,decimalLongitude:1},{verbatimCoordinates:"18.24S 22.45E",verbatimLatitude:"18.24S",verbatimLongitude:"22.45E",decimalLatitude:-18.4,decimalLongitude:22.75},{verbatimCoordinates:"27deg 15min 45.2sec S 18deg 32min 53.7sec E",verbatimLatitude:"27deg 15min 45.2sec S",verbatimLongitude:"18deg 32min 53.7sec E",decimalLatitude:-27.262555555555554,decimalLongitude:18.54825},{verbatimCoordinates:"-23.3245° S / 28.2344° E",verbatimLatitude:"-23.3245° S",verbatimLongitude:"28.2344° E",decimalLatitude:-23.3245,decimalLongitude:28.2344},{verbatimCoordinates:"40° 26.7717 -79° 56.93172",verbatimLatitude:"40° 26.7717",verbatimLongitude:"-79° 56.93172",decimalLatitude:40.446195,decimalLongitude:-79.948862},{verbatimCoordinates:"27.15.45S 18.32.53E",verbatimLatitude:"27.15.45S",verbatimLongitude:"18.32.53E",decimalLatitude:-27.2625,decimalLongitude:18.548055},{verbatimCoordinates:"-27.15.45 18.32.53",verbatimLatitude:"-27.15.45",verbatimLongitude:"18.32.53",decimalLatitude:-27.2625,decimalLongitude:18.548055},{verbatimCoordinates:"27.15.45.2S 18.32.53.4E",verbatimLatitude:"27.15.45.2S",verbatimLongitude:"18.32.53.4E",decimalLatitude:-27.262556,decimalLongitude:18.548167},{verbatimCoordinates:"27.15.45,2S 18.32.53,4E",verbatimLatitude:"27.15.45,2S",verbatimLongitude:"18.32.53,4E",decimalLatitude:-27.262556,decimalLongitude:18.548167},{verbatimCoordinates:"S23.43563 °  E22.45634 °",verbatimLatitude:"S23.43563 °",verbatimLongitude:"E22.45634 °",decimalLatitude:-23.43563,decimalLongitude:22.45634},{verbatimCoordinates:"27,71372° S 23,07771° E",verbatimLatitude:"27,71372° S",verbatimLongitude:"23,07771° E",decimalLatitude:-27.71372,decimalLongitude:23.07771},{verbatimCoordinates:"27.45.34 S 23.23.23 E",verbatimLatitude:"27.45.34 S",verbatimLongitude:"23.23.23 E",decimalLatitude:-27.759444,decimalLongitude:23.38972222},{verbatimCoordinates:"S 27.45.34 E 23.23.23",verbatimLatitude:"S 27.45.34",verbatimLongitude:"E 23.23.23",decimalLatitude:-27.759444,decimalLongitude:23.38972222},{verbatimCoordinates:"53 16.3863,4 52.8171",verbatimLatitude:"53 16.3863",verbatimLongitude:"4 52.8171",decimalLatitude:53.273105,decimalLongitude:4.88029},{verbatimCoordinates:"50 8.2914,-5 2.4447",verbatimLatitude:"50 8.2914",verbatimLongitude:"-5 2.4447",decimalLatitude:50.13819,decimalLongitude:-5.040745},{verbatimCoordinates:"N 48° 30,6410', E 18° 57,4583'",verbatimLatitude:"N 48° 30,6410'",verbatimLongitude:"E 18° 57,4583'",decimalLatitude:48.51068,decimalLongitude:18.95764},{verbatimCoordinates:"1.23456, 18.33453",verbatimLatitude:"1.23456",verbatimLongitude:"18.33453",decimalLatitude:1.23456,decimalLongitude:18.33453}];function Wi(){const i=[];return Ni.forEach(e=>{e.decimalLatitude?i.push(e):i.push({...e,...Ti})}),[...i,...Mi,...Ci]}const Ri=Wi();qe.formats=Ri.map(i=>i.verbatimCoordinates);const Di=qe;function kt(i,e,t){const r=i.slice();return r[81]=e[t],r[83]=t,r}function Nt(i){let e,t;return e=new hi({}),{c(){ue(e.$$.fragment)},m(r,o){oe(e,r,o),t=!0},i(r){t||(P(e.$$.fragment,r),t=!0)},o(r){q(e.$$.fragment,r),t=!1},d(r){se(e,r)}}}function Tt(i){let e,t,r,o,u;return t=new vi({}),{c(){e=I("button"),ue(t.$$.fragment),l(e,"type","button"),l(e,"title",i[9]),l(e,"class","svelte-zh3kmv"),le(e,"active",i[0])},m(a,n){F(a,e,n),oe(t,e,null),r=!0,o||(u=K(e,"click",i[67]),o=!0)},p(a,n){(!r||n[0]&512)&&l(e,"title",a[9]),(!r||n[0]&1)&&le(e,"active",a[0])},i(a){r||(P(t.$$.fragment,a),r=!0)},o(a){q(t.$$.fragment,a),r=!1},d(a){a&&A(e),se(t),o=!1,u()}}}function Oi(i){let e,t=[],r=new Map,o,u,a,n=mt(i[14]);const d=c=>c[81].id+(c[81].address?","+c[81].address:"");for(let c=0;c<n.length;c+=1){let f=kt(i,n,c),b=d(f);r.set(b,t[c]=Mt(b,f))}return{c(){e=I("ul");for(let c=0;c<t.length;c+=1)t[c].c();l(e,"class","svelte-zh3kmv")},m(c,f){F(c,e,f);for(let b=0;b<t.length;b+=1)t[b]&&t[b].m(e,null);o=!0,u||(a=[K(e,"mouseleave",i[71]),K(e,"blur",i[72])],u=!0)},p(c,f){f[0]&17880064&&(n=mt(c[14]),Oe(),t=xt(t,f,d,1,c,n,r,e,Yt,Mt,null,kt),Ie())},i(c){if(!o){for(let f=0;f<n.length;f+=1)P(t[f]);o=!0}},o(c){for(let f=0;f<t.length;f+=1)q(t[f]);o=!1},d(c){c&&A(e);for(let f=0;f<t.length;f+=1)t[f].d();u=!1,re(a)}}}function Ii(i){let e,t,r,o,u,a;return t=new ht({}),{c(){e=I("div"),ue(t.$$.fragment),r=X(),o=I("div"),u=ae(i[7]),l(o,"class","svelte-zh3kmv"),l(e,"class","no-results svelte-zh3kmv")},m(n,d){F(n,e,d),oe(t,e,null),T(e,r),T(e,o),T(o,u),a=!0},p(n,d){(!a||d[0]&128)&&ke(u,n[7])},i(n){a||(P(t.$$.fragment,n),a=!0)},o(n){q(t.$$.fragment,n),a=!1},d(n){n&&A(e),se(t)}}}function Ui(i){let e="",t;return{c(){t=ae(e)},m(r,o){F(r,t,o)},p:O,i:O,o:O,d(r){r&&A(t)}}}function zi(i){let e,t,r,o,u,a,n,d,c,f,b;return t=new ht({}),d=new gt({}),{c(){e=I("div"),ue(t.$$.fragment),r=X(),o=I("div"),u=ae(i[6]),a=X(),n=I("button"),ue(d.$$.fragment),l(o,"class","svelte-zh3kmv"),l(n,"class","svelte-zh3kmv"),l(e,"class","error svelte-zh3kmv")},m(m,w){F(m,e,w),oe(t,e,null),T(e,r),T(e,o),T(o,u),T(e,a),T(e,n),oe(d,n,null),c=!0,f||(b=K(n,"click",i[68]),f=!0)},p(m,w){(!c||w[0]&64)&&ke(u,m[6])},i(m){c||(P(t.$$.fragment,m),P(d.$$.fragment,m),c=!0)},o(m){q(t.$$.fragment,m),q(d.$$.fragment,m),c=!1},d(m){m&&A(e),se(t),se(d),f=!1,b()}}}function Mt(i,e){let t,r,o;function u(){return e[69](e[83])}function a(){return e[70](e[81])}return r=new mi({props:{feature:e[81],showPlaceType:e[10],selected:e[15]===e[83],missingIconsCache:e[20],iconsBaseUrl:e[12]}}),r.$on("mouseenter",u),r.$on("focus",a),{key:i,first:null,c(){t=Pt(),ue(r.$$.fragment),this.first=t},m(n,d){F(n,t,d),oe(r,n,d),o=!0},p(n,d){e=n;const c={};d[0]&16384&&(c.feature=e[81]),d[0]&1024&&(c.showPlaceType=e[10]),d[0]&49152&&(c.selected=e[15]===e[83]),d[0]&4096&&(c.iconsBaseUrl=e[12]),r.$set(c)},i(n){o||(P(r.$$.fragment,n),o=!0)},o(n){q(r.$$.fragment,n),o=!1},d(n){n&&A(t),se(r,n)}}}function Ai(i){let e,t,r,o,u,a,n,d,c,f,b,m,w,_,z,E,S,U,W,p,h,D=!1;u=new _i({}),b=new gt({});let v=i[19]&&Nt(),N=i[5]===!0&&Tt(i);const g=i[59].default,y=At(g,i,i[58],null),ee=[zi,Ui,Ii,Oi],R=[];function ye(L,H){var V,we;return L[18]?0:L[16]?((V=L[14])==null?void 0:V.length)===0?2:L[16]&&((we=L[14])!=null&&we.length)?3:-1:1}return~(E=ye(i))&&(S=R[E]=ee[E](i)),{c(){e=X(),t=I("form"),r=I("div"),o=I("button"),ue(u.$$.fragment),a=X(),n=I("input"),d=X(),c=I("div"),f=I("button"),ue(b.$$.fragment),m=X(),v&&v.c(),w=X(),N&&N.c(),_=X(),y&&y.c(),z=X(),S&&S.c(),l(o,"class","search-button svelte-zh3kmv"),l(o,"type","button"),l(n,"placeholder",i[8]),l(n,"aria-label",i[8]),l(n,"class","svelte-zh3kmv"),l(f,"type","button"),l(f,"title",i[3]),l(f,"class","svelte-zh3kmv"),l(c,"class","clear-button-container svelte-zh3kmv"),le(c,"displayable",i[1]!==""),l(r,"class","input-group svelte-zh3kmv"),l(t,"tabindex","0"),l(t,"class",U=at(i[2])+" svelte-zh3kmv"),le(t,"can-collapse",i[4]&&i[1]==="")},m(L,H){F(L,e,H),F(L,t,H),T(t,r),T(r,o),oe(u,o,null),T(r,a),T(r,n),i[61](n),lt(n,i[1]),T(r,d),T(r,c),T(c,f),oe(b,f,null),T(c,m),v&&v.m(c,null),T(r,w),N&&N.m(r,null),T(r,_),y&&y.m(r,null),T(t,z),~E&&R[E].m(t,null),W=!0,p||(h=[K(o,"click",i[60]),K(n,"input",i[62]),K(n,"focus",i[63]),K(n,"blur",i[64]),K(n,"keydown",i[22]),K(n,"input",i[65]),K(f,"click",i[66]),K(t,"submit",jt(i[21]))],p=!0)},p(L,H){(!W||H[0]&256)&&l(n,"placeholder",L[8]),(!W||H[0]&256)&&l(n,"aria-label",L[8]),H[0]&2&&n.value!==L[1]&&lt(n,L[1]),(!W||H[0]&8)&&l(f,"title",L[3]),L[19]?v?H[0]&524288&&P(v,1):(v=Nt(),v.c(),P(v,1),v.m(c,null)):v&&(Oe(),q(v,1,1,()=>{v=null}),Ie()),(!W||H[0]&2)&&le(c,"displayable",L[1]!==""),L[5]===!0?N?(N.p(L,H),H[0]&32&&P(N,1)):(N=Tt(L),N.c(),P(N,1),N.m(r,_)):N&&(Oe(),q(N,1,1,()=>{N=null}),Ie()),y&&y.p&&(!W||H[1]&134217728)&&Ft(y,g,L,L[58],W?Bt(g,L[58],H,null):Ht(L[58]),null);let V=E;E=ye(L),E===V?~E&&R[E].p(L,H):(S&&(Oe(),q(R[V],1,1,()=>{R[V]=null}),Ie()),~E?(S=R[E],S?S.p(L,H):(S=R[E]=ee[E](L),S.c()),P(S,1),S.m(t,null)):S=null),(!W||H[0]&4&&U!==(U=at(L[2])+" svelte-zh3kmv"))&&l(t,"class",U),(!W||H[0]&22)&&le(t,"can-collapse",L[4]&&L[1]==="")},i(L){W||(P(D),P(u.$$.fragment,L),P(b.$$.fragment,L),P(v),P(N),P(y,L),P(S),W=!0)},o(L){q(D),q(u.$$.fragment,L),q(b.$$.fragment,L),q(v),q(N),q(y,L),q(S),W=!1},d(L){L&&(A(e),A(t)),se(u),i[61](null),se(b),v&&v.d(),N&&N.d(),y&&y.d(L),~E&&R[E].d(),p=!1,re(h)}}}function Bi(i,e,t){let r,{$$slots:o={},$$scope:u}=e,{class:a=void 0}=e,{apiKey:n}=e,{bbox:d=void 0}=e,{clearButtonTitle:c="clear"}=e,{clearOnBlur:f=!1}=e,{collapsed:b=!1}=e,{country:m=void 0}=e,{debounceSearch:w=200}=e,{enableReverse:_=!1}=e,{errorMessage:z="Something went wrong…"}=e,{filter:E=()=>!0}=e,{flyTo:S=!0}=e,{fuzzyMatch:U=!0}=e,{language:W=void 0}=e,{limit:p=void 0}=e,{mapController:h=void 0}=e,{minLength:D=2}=e,{noResultsMessage:v="Oops! Looks like you're trying to predict something that's not quite right. We can't seem to find what you're looking for. Maybe try double-checking your spelling or try a different search term. Keep on typing - we'll do our best to get you where you need to go!"}=e,{placeholder:N="Search"}=e,{proximity:g=[{type:"server-geolocation"}]}=e,{reverseActive:y=_==="always"}=e,{reverseButtonTitle:ee="toggle reverse geocoding"}=e,{searchValue:R=""}=e,{showFullGeometry:ye=!0}=e,{showPlaceType:L="ifNeeded"}=e,{showResultsWhileTyping:H=!0}=e,{selectFirst:V=!0}=e,{flyToSelected:we=!1}=e,{markerOnSelected:Ue=!0}=e,{types:he=void 0}=e,{excludeTypes:ze=!1}=e,{zoom:We=16}=e,{maxZoom:Ee=18}=e,{apiUrl:Qe="https://api.maptiler.com/geocoding"}=e,{fetchParameters:Ke={}}=e,{iconsBaseUrl:Rt="https://cdn.maptiler.com/maptiler-geocoding-control/v1.3.3/icons/"}=e,{adjustUrlQuery:Ve=()=>{}}=e;function ji(){te.focus()}function Gi(){te.blur()}function Dt(s,Z=!0,Y=!1){t(1,R=s),Z?(t(15,B=-1),It()):(xe(!Y,Y),setTimeout(()=>{te.focus(),te.select()}))}function Zi(){t(14,M=void 0),t(55,k=void 0),t(15,B=-1)}function qi(){t(54,G=[]),t(55,k=void 0)}let Se=!1,M,G,k,Ot="",te,B=-1,ie,Ae=[],be,pe,Be,Je;const Qi=new Set,ce=Qt();qt(()=>{h&&(h.setEventHandler(void 0),h.indicateReverse(!1),h.setSelectedMarker(-1),h.setMarkers(void 0,void 0))});function It(s){if(pe&&(clearTimeout(pe),pe=void 0),B>-1&&M)t(55,k=M[B]),t(1,R=k.place_type[0]==="reverse"?k.place_name:k.place_name.replace(/,.*/,"")),t(18,ie=void 0),t(54,G=void 0),t(15,B=-1);else if(R){const Z=s||!Xe(R);Ye(R,{exact:!0}).then(()=>{t(54,G=M),t(55,k=void 0),Z&&Ki()}).catch(Y=>t(18,ie=Y))}}function Xe(s){try{return Di(s,6)}catch{return!1}}async function Ye(s,{byId:Z=!1,exact:Y=!1}={}){t(18,ie=void 0),be==null||be.abort();const x=new AbortController;t(19,be=x);try{const C=Xe(s),$=new URLSearchParams;if(W!==void 0&&$.set("language",Array.isArray(W)?W.join(","):W??""),he&&$.set("types",he.join(",")),ze&&$.set("excludeTypes",String(ze)),d&&$.set("bbox",d.map(He=>He.toFixed(6)).join(",")),m&&$.set("country",Array.isArray(m)?m.join(","):m),!Z&&!C){const He=await wi(h,g,x);He&&$.set("proximity",He),(Y||!H)&&$.set("autocomplete","false"),$.set("fuzzyMatch",String(U))}p!==void 0&&(!C||(he==null?void 0:he.length)===1)&&$.set("limit",String(p)),$.set("key",n),Ve($);const Fe=Qe+"/"+encodeURIComponent(C?C.decimalLongitude+","+C.decimalLatitude:s)+".json?"+$.toString();if(Fe===Ot){Z?(t(14,M=void 0),t(55,k=Ae[0])):t(14,M=Ae);return}Ot=Fe;const et=await fetch(Fe,{signal:x.signal,...Ke});if(!et.ok)throw new Error(await et.text());const tt=await et.json();ce("response",{url:Fe,featureCollection:tt}),Z?(t(14,M=void 0),t(55,k=tt.features[0]),Ae=[k]):(t(14,M=tt.features.filter(E)),C&&M.unshift({type:"Feature",properties:{},id:"reverse_"+C.decimalLongitude+"_"+C.decimalLatitude,text:C.decimalLatitude+", "+C.decimalLongitude,place_name:C.decimalLatitude+", "+C.decimalLongitude,place_type:["reverse"],center:[C.decimalLongitude,C.decimalLatitude],bbox:[C.decimalLongitude,C.decimalLatitude,C.decimalLongitude,C.decimalLatitude],geometry:{type:"Point",coordinates:[C.decimalLongitude,C.decimalLatitude]}}),Ae=M,C&&te.focus())}catch(C){if(C&&typeof C=="object"&&"name"in C&&C.name==="AbortError")return;throw C}finally{x===be&&t(19,be=void 0)}}function Ki(){var Y;if(!(G!=null&&G.length)||!S)return;const s=[180,90,-180,-90],Z=!G.some(x=>!x.matching_text);for(const x of G)if(Z||!x.matching_text)for(const C of[0,1,2,3])s[C]=Math[C<2?"min":"max"](s[C],((Y=x.bbox)==null?void 0:Y[C])??x.center[C%2]);h&&G.length>0&&(k&&s[0]===s[2]&&s[1]===s[3]?h.flyTo(k.center,We):h.fitBounds(vt(s),50,Ee))}function Vi(s){t(0,y=_==="always"),t(14,M=void 0),t(55,k=void 0),t(15,B=-1),Dt(s[1].toFixed(6)+", "+yi(s[0],[-180,180],!0).toFixed(6),!1,!0)}function Ji(s){if(!M)return;let Z=s.key==="ArrowDown"?1:s.key==="ArrowUp"?-1:0;Z&&(B===(V?0:-1)&&Z===-1&&t(15,B=M.length),t(15,B+=Z),B>=M.length&&t(15,B=-1),B<0&&V&&t(15,B=0),s.preventDefault())}function xe(s=!0,Z=!1){if(t(18,ie=void 0),H||Z){if(pe&&clearTimeout(pe),R.length<D)return;const Y=R;pe=window.setTimeout(()=>{Ye(Y).catch(x=>t(18,ie=x))},s?w:0)}else t(14,M=void 0),t(18,ie=void 0)}function $e(s){t(55,k=s),t(1,R=s.place_name),t(15,B=-1)}const Xi=()=>te.focus();function Yi(s){Pe[s?"unshift":"push"](()=>{te=s,t(17,te)})}function xi(){R=this.value,t(1,R),t(13,Se),t(27,f)}const $i=()=>t(13,Se=!0),er=()=>t(13,Se=!1),tr=()=>xe(),ir=()=>{t(1,R=""),te.focus()},rr=()=>t(0,y=!y),nr=()=>t(18,ie=void 0),or=s=>t(15,B=s),sr=s=>$e(s),ar=()=>{V||t(15,B=-1)},lr=()=>{};return i.$$set=s=>{"class"in s&&t(2,a=s.class),"apiKey"in s&&t(25,n=s.apiKey),"bbox"in s&&t(26,d=s.bbox),"clearButtonTitle"in s&&t(3,c=s.clearButtonTitle),"clearOnBlur"in s&&t(27,f=s.clearOnBlur),"collapsed"in s&&t(4,b=s.collapsed),"country"in s&&t(28,m=s.country),"debounceSearch"in s&&t(29,w=s.debounceSearch),"enableReverse"in s&&t(5,_=s.enableReverse),"errorMessage"in s&&t(6,z=s.errorMessage),"filter"in s&&t(30,E=s.filter),"flyTo"in s&&t(31,S=s.flyTo),"fuzzyMatch"in s&&t(32,U=s.fuzzyMatch),"language"in s&&t(33,W=s.language),"limit"in s&&t(34,p=s.limit),"mapController"in s&&t(35,h=s.mapController),"minLength"in s&&t(36,D=s.minLength),"noResultsMessage"in s&&t(7,v=s.noResultsMessage),"placeholder"in s&&t(8,N=s.placeholder),"proximity"in s&&t(37,g=s.proximity),"reverseActive"in s&&t(0,y=s.reverseActive),"reverseButtonTitle"in s&&t(9,ee=s.reverseButtonTitle),"searchValue"in s&&t(1,R=s.searchValue),"showFullGeometry"in s&&t(38,ye=s.showFullGeometry),"showPlaceType"in s&&t(10,L=s.showPlaceType),"showResultsWhileTyping"in s&&t(39,H=s.showResultsWhileTyping),"selectFirst"in s&&t(11,V=s.selectFirst),"flyToSelected"in s&&t(40,we=s.flyToSelected),"markerOnSelected"in s&&t(41,Ue=s.markerOnSelected),"types"in s&&t(42,he=s.types),"excludeTypes"in s&&t(43,ze=s.excludeTypes),"zoom"in s&&t(44,We=s.zoom),"maxZoom"in s&&t(45,Ee=s.maxZoom),"apiUrl"in s&&t(46,Qe=s.apiUrl),"fetchParameters"in s&&t(47,Ke=s.fetchParameters),"iconsBaseUrl"in s&&t(12,Rt=s.iconsBaseUrl),"adjustUrlQuery"in s&&t(48,Ve=s.adjustUrlQuery),"$$scope"in s&&t(58,u=s.$$scope)},i.$$.update=()=>{if(i.$$.dirty[0]&32&&t(0,y=_==="always"),i.$$.dirty[0]&134225920&&setTimeout(()=>{t(16,Be=Se),f&&!Se&&t(1,R="")}),i.$$.dirty[0]&16386|i.$$.dirty[1]&32&&R.length<D&&(t(55,k=void 0),t(14,M=void 0),t(18,ie=void 0),t(54,G=M)),i.$$.dirty[1]&16777344&&ye&&k&&!k.address&&k.geometry.type==="Point"&&k.place_type[0]!=="reverse"&&Ye(k.id,{byId:!0}).catch(s=>t(18,ie=s)),i.$$.dirty[1]&50356241&&(h&&k&&k.id!==Je&&S&&(!k.bbox||k.bbox[0]===k.bbox[2]&&k.bbox[1]===k.bbox[3]?h.flyTo(k.center,k.id.startsWith("poi.")||k.id.startsWith("address.")?Ee:We):h.fitBounds(vt(k.bbox),50,Ee),t(14,M=void 0),t(54,G=void 0),t(15,B=-1)),t(56,Je=k==null?void 0:k.id)),i.$$.dirty[0]&18432&&V&&M!=null&&M.length&&t(15,B=0),i.$$.dirty[0]&2050&&(V||t(15,B=-1)),i.$$.dirty[0]&16384|i.$$.dirty[1]&8388608&&G!==M&&t(54,G=void 0),i.$$.dirty[0]&81921|i.$$.dirty[1]&8388624&&h&&h.setEventHandler(s=>{switch(s.type){case"mapClick":y&&Vi(s.coordinates);break;case"markerClick":{const Z=M==null?void 0:M.find(Y=>Y.id===s.id);Z&&$e(Z)}break;case"markerMouseEnter":G&&t(15,B=Be?(M==null?void 0:M.findIndex(Z=>Z.id===s.id))??-1:-1);break;case"markerMouseLeave":G&&t(15,B=-1);break}}),i.$$.dirty[0]&49152&&t(57,r=M==null?void 0:M[B]),i.$$.dirty[1]&67133969&&h&&r&&S&&we&&h.flyTo(r.center,r.id.startsWith("poi.")||r.id.startsWith("address.")?Ee:We),i.$$.dirty[1]&1040&&(Ue||h==null||h.setMarkers(void 0,void 0)),i.$$.dirty[1]&75498512&&h&&Ue&&!G&&(h.setMarkers(r?[r]:void 0,void 0),h.setSelectedMarker(r?0:-1)),i.$$.dirty[1]&25165840&&h&&h.setMarkers(G,k),i.$$.dirty[0]&32768|i.$$.dirty[1]&8388624&&G&&h&&h.setSelectedMarker(B),i.$$.dirty[0]&2|i.$$.dirty[1]&16&&h){const s=Xe(R);h.setReverseMarker(s?[s.decimalLongitude,s.decimalLatitude]:void 0)}i.$$.dirty[1]&67108864&&ce("select",r),i.$$.dirty[1]&16777216&&ce("pick",k),i.$$.dirty[0]&81920&&ce("optionsVisibilityChange",Be&&!!M),i.$$.dirty[0]&16384&&ce("featuresListed",M),i.$$.dirty[1]&8388608&&ce("featuresMarked",G),i.$$.dirty[0]&1&&ce("reverseToggle",y),i.$$.dirty[0]&2&&ce("queryChange",R),i.$$.dirty[0]&1|i.$$.dirty[1]&16&&h&&h.indicateReverse(y)},[y,R,a,c,b,_,z,v,N,ee,L,V,Rt,Se,M,B,Be,te,ie,be,Qi,It,Ji,xe,$e,n,d,f,m,w,E,S,U,W,p,h,D,g,ye,H,we,Ue,he,ze,We,Ee,Qe,Ke,Ve,ji,Gi,Dt,Zi,qi,G,k,Je,r,u,o,Xi,Yi,xi,$i,er,tr,ir,rr,nr,or,sr,ar,lr]}class Fi extends ge{constructor(e){super(),me(this,e,Bi,Ai,de,{class:2,apiKey:25,bbox:26,clearButtonTitle:3,clearOnBlur:27,collapsed:4,country:28,debounceSearch:29,enableReverse:5,errorMessage:6,filter:30,flyTo:31,fuzzyMatch:32,language:33,limit:34,mapController:35,minLength:36,noResultsMessage:7,placeholder:8,proximity:37,reverseActive:0,reverseButtonTitle:9,searchValue:1,showFullGeometry:38,showPlaceType:10,showResultsWhileTyping:39,selectFirst:11,flyToSelected:40,markerOnSelected:41,types:42,excludeTypes:43,zoom:44,maxZoom:45,apiUrl:46,fetchParameters:47,iconsBaseUrl:12,adjustUrlQuery:48,focus:49,blur:50,setQuery:51,clearList:52,clearMap:53},null,[-1,-1,-1])}get focus(){return this.$$.ctx[49]}get blur(){return this.$$.ctx[50]}get setQuery(){return this.$$.ctx[51]}get clearList(){return this.$$.ctx[52]}get clearMap(){return this.$$.ctx[53]}}const Ct=["featuresListed","featuresMarked","optionsVisibilityChange","pick","queryChange","response","reverseToggle","select"],Hi=["apiKey","bbox","clearButtonTitle","clearOnBlur","collapsed","country","debounceSearch","enableReverse","reverseActive","errorMessage","filter","fuzzyMatch","language","limit","minLength","noResultsMessage","placeholder","proximity","reverseButtonTitle","showFullGeometry","showPlaceType","showResultsWhileTyping","adjustUrlQuery","types","excludeTypes","zoom","mapController"];function Wt(i){return"on"+i[0].toUpperCase()+i.slice(1)}const Pi=j.forwardRef(function(e,t){const r=j.useRef(),o=j.useRef(),u={...e};for(const a of Ct)delete u[Wt(a)];j.useEffect(()=>{if(!r.current)throw new Error;const a=new Fi({target:r.current,props:u});return o.current=a,()=>a.$destroy()},[]);for(const a of Hi)j.useEffect(()=>{o.current&&e[a]!==void 0&&o.current.$set({[a]:e[a]})},[e[a]]);for(const a of Ct){const n=e[Wt(a)];j.useEffect(()=>{var d;return n&&((d=o.current)==null?void 0:d.$on(a,c=>{n(c.detail)}))},[n])}return j.useImperativeHandle(t,()=>({setQuery:(a,n=!0)=>{var d;return(d=o.current)==null?void 0:d.setQuery(a,n)},clearMap:()=>{var a;return(a=o.current)==null?void 0:a.clearMap()},clearList:()=>{var a;return(a=o.current)==null?void 0:a.clearList()},focus:()=>{var a;return(a=o.current)==null?void 0:a.focus()},blur:()=>{var a;return(a=o.current)==null?void 0:a.blur()}})),j.createElement("div",{ref:r})});J.GeocodingControl=Pi,Object.defineProperty(J,Symbol.toStringTag,{value:"Module"})});
//# sourceMappingURL=react.umd.js.map
