(function(I,v){typeof exports=="object"&&typeof module<"u"?v(exports):typeof define=="function"&&define.amd?define(["exports"],v):(I=typeof globalThis<"u"?globalThis:I||self,v(I.maptilerGeocoder={}))})(this,function(I){"use strict";var mn=Object.defineProperty;var Ut=I=>{throw TypeError(I)};var gn=(I,v,Q)=>v in I?mn(I,v,{enumerable:!0,configurable:!0,writable:!0,value:Q}):I[v]=Q;var ot=(I,v,Q)=>gn(I,typeof v!="symbol"?v+"":v,Q),zt=(I,v,Q)=>v.has(I)||Ut("Cannot "+Q);var le=(I,v,Q)=>(zt(I,v,"read from private field"),Q?Q.call(I):v.get(I)),At=(I,v,Q)=>v.has(I)?Ut("Cannot add the same private member more than once"):v instanceof WeakSet?v.add(I):v.set(I,Q),Bt=(I,v,Q,Te)=>(zt(I,v,"write to private field"),Te?Te.call(I,Q):v.set(I,Q),Q);var x;function v(){}function Q(i,e){for(const t in e)i[t]=e[t];return i}function Te(i){return i()}function st(){return Object.create(null)}function re(i){i.forEach(Te)}function at(i){return typeof i=="function"}function me(i,e){return i!=i?e==e:i!==e||i&&typeof i=="object"||typeof i=="function"}let Ie;function V(i,e){return i===e?!0:(Ie||(Ie=document.createElement("a")),Ie.href=e,i===Ie.href)}function Ft(i){return Object.keys(i).length===0}function Ht(i,e,t,n){if(i){const o=lt(i,e,t,n);return i[0](o)}}function lt(i,e,t,n){return i[1]&&n?Q(t.ctx.slice(),i[1](n(e))):t.ctx}function Pt(i,e,t,n){if(i[2]&&n){const o=i[2](n(t));if(e.dirty===void 0)return o;if(typeof o=="object"){const l=[],c=Math.max(e.dirty.length,o.length);for(let r=0;r<c;r+=1)l[r]=e.dirty[r]|o[r];return l}return e.dirty|o}return e.dirty}function jt(i,e,t,n,o,l){if(o){const c=lt(e,t,n,l);i.p(c,o)}}function Gt(i){if(i.ctx.length>32){const e=[],t=i.ctx.length/32;for(let n=0;n<t;n++)e[n]=-1;return e}return-1}function ut(i){return i??""}function M(i,e){i.appendChild(e)}function H(i,e,t){i.insertBefore(e,t||null)}function B(i){i.parentNode&&i.parentNode.removeChild(i)}function U(i){return document.createElement(i)}function oe(i){return document.createElementNS("http://www.w3.org/2000/svg",i)}function ue(i){return document.createTextNode(i)}function X(){return ue(" ")}function Zt(){return ue("")}function K(i,e,t,n){return i.addEventListener(e,t,n),()=>i.removeEventListener(e,t,n)}function qt(i){return function(e){return e.preventDefault(),i.call(this,e)}}function a(i,e,t){t==null?i.removeAttribute(e):i.getAttribute(e)!==t&&i.setAttribute(e,t)}function Qt(i){return Array.from(i.childNodes)}function Me(i,e){e=""+e,i.data!==e&&(i.data=e)}function ct(i,e){i.value=e??""}function ce(i,e,t){i.classList.toggle(e,!!t)}function Vt(i,e,{bubbles:t=!1,cancelable:n=!1}={}){return new CustomEvent(i,{detail:e,bubbles:t,cancelable:n})}let Ce;function We(i){Ce=i}function dt(){if(!Ce)throw new Error("Function called outside component initialization");return Ce}function Kt(i){dt().$$.on_destroy.push(i)}function Jt(){const i=dt();return(e,t,{cancelable:n=!1}={})=>{const o=i.$$.callbacks[e];if(o){const l=Vt(e,t,{cancelable:n});return o.slice().forEach(c=>{c.call(i,l)}),!l.defaultPrevented}return!0}}function ft(i,e){const t=i.$$.callbacks[e.type];t&&t.slice().forEach(n=>n.call(this,e))}const _e=[],Ze=[];let ye=[];const mt=[],Xt=Promise.resolve();let qe=!1;function Yt(){qe||(qe=!0,Xt.then(gt))}function Qe(i){ye.push(i)}const Ve=new Set;let we=0;function gt(){if(we!==0)return;const i=Ce;do{try{for(;we<_e.length;){const e=_e[we];we++,We(e),xt(e.$$)}}catch(e){throw _e.length=0,we=0,e}for(We(null),_e.length=0,we=0;Ze.length;)Ze.pop()();for(let e=0;e<ye.length;e+=1){const t=ye[e];Ve.has(t)||(Ve.add(t),t())}ye.length=0}while(_e.length);for(;mt.length;)mt.pop()();qe=!1,Ve.clear(),We(i)}function xt(i){if(i.fragment!==null){i.update(),re(i.before_update);const e=i.dirty;i.dirty=[-1],i.fragment&&i.fragment.p(i.ctx,e),i.after_update.forEach(Qe)}}function $t(i){const e=[],t=[];ye.forEach(n=>i.indexOf(n)===-1?e.push(n):t.push(n)),t.forEach(n=>n()),ye=e}const Ue=new Set;let ge;function ze(){ge={r:0,c:[],p:ge}}function Ae(){ge.r||re(ge.c),ge=ge.p}function j(i,e){i&&i.i&&(Ue.delete(i),i.i(e))}function q(i,e,t,n){if(i&&i.o){if(Ue.has(i))return;Ue.add(i),ge.c.push(()=>{Ue.delete(i),n&&(t&&i.d(1),n())}),i.o(e)}else n&&n()}function ht(i){return(i==null?void 0:i.length)!==void 0?i:Array.from(i)}function ei(i,e){q(i,1,1,()=>{e.delete(i.key)})}function ti(i,e,t,n,o,l,c,r,f,u,d,b){let m=i.length,E=l.length,y=m;const A={};for(;y--;)A[i[y].key]=y;const S=[],p=new Map,z=new Map,D=[];for(y=E;y--;){const L=b(o,l,y),T=t(L);let g=c.get(T);g?D.push(()=>g.p(L,e)):(g=u(T,L),g.c()),p.set(T,S[y]=g),T in A&&z.set(T,Math.abs(y-A[T]))}const k=new Set,h=new Set;function R(L){j(L,1),L.m(r,d),c.set(L.key,L),d=L.first,E--}for(;m&&E;){const L=S[E-1],T=i[m-1],g=L.key,w=T.key;L===T?(d=L.first,m--,E--):p.has(w)?!c.has(g)||k.has(g)?R(L):h.has(w)?m--:z.get(g)>z.get(w)?(h.add(g),R(L)):(k.add(w),m--):(f(T,c),m--)}for(;m--;){const L=i[m];p.has(L.key)||f(L,c)}for(;E;)R(S[E-1]);return re(D),S}function de(i){i&&i.c()}function se(i,e,t){const{fragment:n,after_update:o}=i.$$;n&&n.m(e,t),Qe(()=>{const l=i.$$.on_mount.map(Te).filter(at);i.$$.on_destroy?i.$$.on_destroy.push(...l):re(l),i.$$.on_mount=[]}),o.forEach(Qe)}function ae(i,e){const t=i.$$;t.fragment!==null&&($t(t.after_update),re(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function ii(i,e){i.$$.dirty[0]===-1&&(_e.push(i),Yt(),i.$$.dirty.fill(0)),i.$$.dirty[e/31|0]|=1<<e%31}function he(i,e,t,n,o,l,c=null,r=[-1]){const f=Ce;We(i);const u=i.$$={fragment:null,ctx:[],props:l,update:v,not_equal:o,bound:st(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(f?f.$$.context:[])),callbacks:st(),dirty:r,skip_bound:!1,root:e.target||f.$$.root};c&&c(u.root);let d=!1;if(u.ctx=t?t(i,e.props||{},(b,m,...E)=>{const y=E.length?E[0]:m;return u.ctx&&o(u.ctx[b],u.ctx[b]=y)&&(!u.skip_bound&&u.bound[b]&&u.bound[b](y),d&&ii(i,b)),m}):[],u.update(),d=!0,re(u.before_update),u.fragment=n?n(u.ctx):!1,e.target){if(e.hydrate){const b=Qt(e.target);u.fragment&&u.fragment.l(b),b.forEach(B)}else u.fragment&&u.fragment.c();e.intro&&j(i.$$.fragment),se(i,e.target,e.anchor),gt()}We(f)}class be{constructor(){ot(this,"$$");ot(this,"$$set")}$destroy(){ae(this,1),this.$destroy=v}$on(e,t){if(!at(t))return v;const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const o=n.indexOf(t);o!==-1&&n.splice(o,1)}}$set(e){this.$$set&&!Ft(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const ni="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(ni);function ri(i){let e,t;return{c(){e=oe("svg"),t=oe("path"),a(t,"d","M13.12.706a.982.982 0 0 0-1.391 0L6.907 5.517 2.087.696a.982.982 0 1 0-1.391 1.39l4.821 4.821L.696 11.73a.982.982 0 1 0 1.39 1.39l4.821-4.821 4.822 4.821a.982.982 0 1 0 1.39-1.39L8.298 6.908l4.821-4.822a.988.988 0 0 0 0-1.38Z"),a(e,"viewBox","0 0 14 14"),a(e,"width","13"),a(e,"height","13"),a(e,"class","svelte-en2qvf")},m(n,o){H(n,e,o),M(e,t)},p:v,i:v,o:v,d(n){n&&B(e)}}}class bt extends be{constructor(e){super(),he(this,e,null,ri,me,{})}}function oi(i){let e,t;return{c(){e=oe("svg"),t=oe("path"),a(t,"d","M15 0C6.705 0 0 6.705 0 15C0 23.295 6.705 30 15 30C23.295 30 30 23.295 30 15C30 6.705 23.295 0 15 0ZM22.5 20.385L20.385 22.5L15 17.115L9.615 22.5L7.5 20.385L12.885 15L7.5 9.615L9.615 7.5L15 12.885L20.385 7.5L22.5 9.615L17.115 15L22.5 20.385Z"),a(e,"viewBox","0 0 30 30"),a(e,"fill","none"),a(e,"xmlns","http://www.w3.org/2000/svg"),a(e,"class","svelte-d2loi5")},m(n,o){H(n,e,o),M(e,t)},p:v,i:v,o:v,d(n){n&&B(e)}}}class vt extends be{constructor(e){super(),he(this,e,null,oi,me,{})}}function si(i){let e,t;return{c(){e=U("img"),V(e.src,t=i[3]+"area.svg")||a(e,"src",t),a(e,"alt",i[6]),a(e,"class","svelte-ltkwvy")},m(n,o){H(n,e,o)},p(n,o){o&8&&!V(e.src,t=n[3]+"area.svg")&&a(e,"src",t),o&64&&a(e,"alt",n[6])},d(n){n&&B(e)}}}function ai(i){let e,t;return{c(){e=U("img"),V(e.src,t=i[3]+"reverse.svg")||a(e,"src",t),a(e,"alt",i[6]),a(e,"class","svelte-ltkwvy")},m(n,o){H(n,e,o)},p(n,o){o&8&&!V(e.src,t=n[3]+"reverse.svg")&&a(e,"src",t),o&64&&a(e,"alt",n[6])},d(n){n&&B(e)}}}function li(i){let e,t;return{c(){e=U("img"),V(e.src,t=i[3]+"poi.svg")||a(e,"src",t),a(e,"alt",i[6]),a(e,"class","svelte-ltkwvy")},m(n,o){H(n,e,o)},p(n,o){o&8&&!V(e.src,t=n[3]+"poi.svg")&&a(e,"src",t),o&64&&a(e,"alt",n[6])},d(n){n&&B(e)}}}function ui(i){let e,t;return{c(){e=U("img"),V(e.src,t=i[3]+"postal_code.svg")||a(e,"src",t),a(e,"alt",i[6]),a(e,"class","svelte-ltkwvy")},m(n,o){H(n,e,o)},p(n,o){o&8&&!V(e.src,t=n[3]+"postal_code.svg")&&a(e,"src",t),o&64&&a(e,"alt",n[6])},d(n){n&&B(e)}}}function ci(i){let e,t;return{c(){e=U("img"),V(e.src,t=i[3]+"street.svg")||a(e,"src",t),a(e,"alt",i[6]),a(e,"class","svelte-ltkwvy")},m(n,o){H(n,e,o)},p(n,o){o&8&&!V(e.src,t=n[3]+"street.svg")&&a(e,"src",t),o&64&&a(e,"alt",n[6])},d(n){n&&B(e)}}}function di(i){let e,t;return{c(){e=U("img"),V(e.src,t=i[3]+"road.svg")||a(e,"src",t),a(e,"alt",i[6]),a(e,"class","svelte-ltkwvy")},m(n,o){H(n,e,o)},p(n,o){o&8&&!V(e.src,t=n[3]+"road.svg")&&a(e,"src",t),o&64&&a(e,"alt",n[6])},d(n){n&&B(e)}}}function fi(i){let e,t;return{c(){e=U("img"),V(e.src,t=i[3]+"housenumber.svg")||a(e,"src",t),a(e,"alt",i[6]),a(e,"class","svelte-ltkwvy")},m(n,o){H(n,e,o)},p(n,o){o&8&&!V(e.src,t=n[3]+"housenumber.svg")&&a(e,"src",t),o&64&&a(e,"alt",n[6])},d(n){n&&B(e)}}}function mi(i){let e,t,n,o;return{c(){e=U("img"),V(e.src,t=i[5])||a(e,"src",t),a(e,"alt",i[4]),a(e,"class","svelte-ltkwvy")},m(l,c){H(l,e,c),n||(o=K(e,"error",i[14]),n=!0)},p(l,c){c&32&&!V(e.src,t=l[5])&&a(e,"src",t),c&16&&a(e,"alt",l[4])},d(l){l&&B(e),n=!1,o()}}}function Lt(i){let e,t;return{c(){e=U("span"),t=ue(i[6]),a(e,"class","secondary svelte-ltkwvy")},m(n,o){H(n,e,o),M(e,t)},p(n,o){o&64&&Me(t,n[6])},d(n){n&&B(e)}}}function gi(i){var L,T;let e,t,n,o,l,c,r,f,u=(i[7]?i[0].place_name:i[0].place_name.replace(/,.*/,""))+"",d,b,m=i[2]==="always"||i[2]&&!i[0].address&&((L=i[0].properties)==null?void 0:L.kind)!=="road"&&((T=i[0].properties)==null?void 0:T.kind)!=="road_relation"&&!i[0].id.startsWith("address.")&&!i[0].id.startsWith("postal_code.")&&(!i[0].id.startsWith("poi.")||!i[5])&&!i[7],E,y,A=(i[7]?"":i[0].place_name.replace(/[^,]*,?\s*/,""))+"",S,p,z;function D(g,w){var te,O;return w&1&&(t=null),w&1&&(n=null),w&1&&(o=null),g[5]?mi:g[0].address?fi:((te=g[0].properties)==null?void 0:te.kind)==="road"||((O=g[0].properties)==null?void 0:O.kind)==="road_relation"?di:(t==null&&(t=!!g[0].id.startsWith("address.")),t?ci:(n==null&&(n=!!g[0].id.startsWith("postal_code.")),n?ui:(o==null&&(o=!!g[0].id.startsWith("poi.")),o?li:g[7]?ai:si)))}let k=D(i,-1),h=k(i),R=m&&Lt(i);return{c(){e=U("li"),h.c(),l=X(),c=U("span"),r=U("span"),f=U("span"),d=ue(u),b=X(),R&&R.c(),E=X(),y=U("span"),S=ue(A),a(f,"class","primary svelte-ltkwvy"),a(r,"class","svelte-ltkwvy"),a(y,"class","line2 svelte-ltkwvy"),a(c,"class","texts svelte-ltkwvy"),a(e,"tabindex","0"),a(e,"data-selected",i[1]),a(e,"class","svelte-ltkwvy"),ce(e,"selected",i[1])},m(g,w){H(g,e,w),h.m(e,null),M(e,l),M(e,c),M(c,r),M(r,f),M(f,d),M(r,b),R&&R.m(r,null),M(c,E),M(c,y),M(y,S),p||(z=[K(e,"mouseenter",i[12]),K(e,"focus",i[13])],p=!0)},p(g,[w]){var te,O;k===(k=D(g,w))&&h?h.p(g,w):(h.d(1),h=k(g),h&&(h.c(),h.m(e,l))),w&1&&u!==(u=(g[7]?g[0].place_name:g[0].place_name.replace(/,.*/,""))+"")&&Me(d,u),w&37&&(m=g[2]==="always"||g[2]&&!g[0].address&&((te=g[0].properties)==null?void 0:te.kind)!=="road"&&((O=g[0].properties)==null?void 0:O.kind)!=="road_relation"&&!g[0].id.startsWith("address.")&&!g[0].id.startsWith("postal_code.")&&(!g[0].id.startsWith("poi.")||!g[5])&&!g[7]),m?R?R.p(g,w):(R=Lt(g),R.c(),R.m(r,null)):R&&(R.d(1),R=null),w&1&&A!==(A=(g[7]?"":g[0].place_name.replace(/[^,]*,?\s*/,""))+"")&&Me(S,A),w&2&&a(e,"data-selected",g[1]),w&2&&ce(e,"selected",g[1])},i:v,o:v,d(g){g&&B(e),h.d(),R&&R.d(),p=!1,re(z)}}}function hi(i,e,t){var D;let n,o,{feature:l}=e,{selected:c=!1}=e,{showPlaceType:r}=e,{missingIconsCache:f}=e,{iconsBaseUrl:u}=e;const d=(D=l.properties)==null?void 0:D.categories;let b,m,E=0,y=l.place_type[0]==="reverse";function A(){m&&f.add(m),t(10,E++,E)}function S(k){ft.call(this,i,k)}function p(k){ft.call(this,i,k)}const z=()=>A();return i.$$set=k=>{"feature"in k&&t(0,l=k.feature),"selected"in k&&t(1,c=k.selected),"showPlaceType"in k&&t(2,r=k.showPlaceType),"missingIconsCache"in k&&t(9,f=k.missingIconsCache),"iconsBaseUrl"in k&&t(3,u=k.iconsBaseUrl)},i.$$.update=()=>{var k,h,R,L;if(i.$$.dirty&3640)do t(11,n--,n),t(4,b=d==null?void 0:d[n]),t(5,m=b?u+b.replace(/ /g,"_")+".svg":void 0);while(n>-1&&(!m||f.has(m)));i.$$.dirty&1&&t(6,o=l.id.startsWith("poi.")?(h=(k=l.properties)==null?void 0:k.categories)==null?void 0:h.join(", "):((L=(R=l.properties)==null?void 0:R.place_type_name)==null?void 0:L[0])??l.place_type[0])},t(11,n=(d==null?void 0:d.length)??0),[l,c,r,u,b,m,o,y,A,f,E,n,S,p,z]}class bi extends be{constructor(e){super(),he(this,e,hi,gi,me,{feature:0,selected:1,showPlaceType:2,missingIconsCache:9,iconsBaseUrl:3})}}function vi(i){let e;return{c(){e=U("div"),e.innerHTML='<svg viewBox="0 0 18 18" width="24" height="24" class="svelte-7cmwmc"><path fill="#333" d="M4.4 4.4l.8.8c2.1-2.1 5.5-2.1 7.6 0l.8-.8c-2.5-2.5-6.7-2.5-9.2 0z"></path><path opacity=".1" d="M12.8 12.9c-2.1 2.1-5.5 2.1-7.6 0-2.1-2.1-2.1-5.5 0-7.7l-.8-.8c-2.5 2.5-2.5 6.7 0 9.2s6.6 2.5 9.2 0 2.5-6.6 0-9.2l-.8.8c2.2 2.1 2.2 5.6 0 7.7z"></path></svg>',a(e,"class","svelte-7cmwmc")},m(t,n){H(t,e,n)},p:v,i:v,o:v,d(t){t&&B(e)}}}class Li extends be{constructor(e){super(),he(this,e,null,vi,me,{})}}function _i(i){let e,t;return{c(){e=oe("svg"),t=oe("path"),a(t,"d","M30.003-26.765C13.46-26.765 0-14.158 0 1.337c0 23.286 24.535 42.952 28.39 46.04.24.192.402.316.471.376.323.282.732.424 1.142.424.41 0 .82-.142 1.142-.424.068-.06.231-.183.471-.376 3.856-3.09 28.39-22.754 28.39-46.04 0-15.495-13.46-28.102-30.003-28.102Zm1.757 12.469c4.38 0 7.858 1.052 10.431 3.158 2.595 2.105 3.89 4.913 3.89 8.422 0 2.34-.53 4.362-1.593 6.063-1.063 1.702-3.086 3.616-6.063 5.742-2.042 1.51-3.337 2.659-3.89 3.446-.532.787-.8 1.82-.8 3.096v1.914h-8.449V15.18c0-2.041.434-3.815 1.306-5.325.872-1.51 2.467-3.118 4.785-4.82 2.233-1.594 3.7-2.89 4.402-3.889a5.582 5.582 0 0 0 1.087-3.35c0-1.382-.51-2.435-1.531-3.158-1.02-.723-2.45-1.087-4.28-1.087-3.19 0-6.826 1.047-10.91 3.131l-3.472-6.986c4.742-2.659 9.77-3.992 15.087-3.992Zm-1.88 37.324c1.765 0 3.124.472 4.08 1.408.98.936 1.47 2.276 1.47 4.02 0 1.68-.49 3.007-1.47 3.985-.977.957-2.336 1.435-4.08 1.435-1.787 0-3.171-.465-4.15-1.4-.978-.958-1.47-2.298-1.47-4.02 0-1.787.48-3.14 1.436-4.054.957-.915 2.355-1.374 4.184-1.374Z"),a(e,"viewBox","0 0 60.006 21.412"),a(e,"width","14"),a(e,"height","20"),a(e,"class","svelte-en2qvf")},m(n,o){H(n,e,o),M(e,t)},p:v,i:v,o:v,d(n){n&&B(e)}}}class yi extends be{constructor(e){super(),he(this,e,null,_i,me,{})}}function wi(i){let e,t,n;return{c(){e=oe("svg"),t=oe("circle"),n=oe("path"),a(t,"cx","4.789"),a(t,"cy","4.787"),a(t,"r","3.85"),a(t,"class","svelte-1aq105l"),a(n,"d","M12.063 12.063 7.635 7.635"),a(n,"class","svelte-1aq105l"),a(e,"xmlns","http://www.w3.org/2000/svg"),a(e,"width","13"),a(e,"height","13"),a(e,"viewBox","0 0 13 13"),a(e,"class","svelte-1aq105l")},m(o,l){H(o,e,l),M(e,t),M(e,n)},p:v,i:v,o:v,d(o){o&&B(e)}}}class Ei extends be{constructor(e){super(),he(this,e,null,wi,me,{})}}function Si(i,e,t){const n=e[1],o=e[0],l=n-o;return i===n&&t?i:((i-o)%l+l)%l+o}function _t(i){const e=[...i];return e[2]<e[0]&&(e[2]+=360),e}let De;async function pi(i,e,t){const n=i==null?void 0:i.getCenterAndZoom();for(const o of e??[])if(!(n&&(o.minZoom!=null&&o.minZoom>n[0]||o.maxZoom!=null&&o.maxZoom<n[0]))){if(o.type==="fixed")return o.coordinates.join(",");e:if(o.type==="client-geolocation"){if(De&&o.cachedLocationExpiry&&De.time+o.cachedLocationExpiry>Date.now()){if(!De.coords)break e;return De.coords}let l;try{return l=await new Promise((c,r)=>{t.signal.addEventListener("abort",()=>{r(Error("aborted"))}),navigator.geolocation.getCurrentPosition(f=>{c([f.coords.longitude,f.coords.latitude].map(u=>u.toFixed(6)).join(","))},f=>{r(f)},o)}),l}catch{}finally{o.cachedLocationExpiry&&(De={time:Date.now(),coords:l})}if(t.signal.aborted)return}if(o.type==="server-geolocation")return"ip";if(n&&o.type==="map-center")return n[1].toFixed(6)+","+n[2].toFixed(6)}}const ki=/^(NORTH|SOUTH|[NS])?\s*([+-]?[0-8]?[0-9])\s*([•º°\.:]|D(?:EG)?(?:REES)?)?\s*,?([6-9][0-9])\s*(['′´’\.:]|M(?:IN)?(?:UTES)?)?\s*(NORTH|SOUTH|[NS])?(?:\s*[,/;]\s*|\s*)(EAST|WEST|[EW])?\s*([+-]?[0-1]?[0-9]?[0-9])\s*([•º°\.:]|D(?:EG)?(?:REES)?)?\s*,?([6-9][0-9])\s*(['′´’\.:]|M(?:IN)?(?:UTES)?)?\s*(EAST|WEST|[EW])?$/i,yt=/^([+-]?[0-8]?[0-9])\s+([0-5]?[0-9]\.\d{3,})[\s,]{1,}([+-]?[0-1]?[0-9]?[0-9])\s+([0-5]?[0-9]\.\d{3,})$/,wt=/^(NORTH|SOUTH|[NS])?[\s]*([+-]?[0-8]?[0-9](?:[\.,]\d{3,}))[\s]*([•º°]?)[\s]*(NORTH|SOUTH|[NS])?[\s]*[,/;]?[\s]*(EAST|WEST|[EW])?[\s]*([+-]?[0-1]?[0-9]?[0-9](?:[\.,]\d{3,}))[\s]*([•º°]?)[\s]*(EAST|WEST|[EW])?$/i,Et=/^(NORTH|SOUTH|[NS])?\s*([+-]?[0-8]?[0-9])\s*(\.)\s*([0-5]?[0-9])\s*(\.)\s*((?:[0-5]?[0-9])(?:[\.,]\d{1,3})?)?\s*(NORTH|SOUTH|[NS])?(?:\s*[,/;]\s*|\s*)(EAST|WEST|[EW])?\s*([+-]?[0-1]?[0-9]?[0-9])\s*(\.)\s*([0-5]?[0-9])\s*(\.)\s*((?:[0-5]?[0-9])(?:[\.,]\d{1,3})?)?\s*(EAST|WEST|[EW])?$/i,St=/^(NORTH|SOUTH|[NS])?\s*([+-]?[0-8]?[0-9])\s*(D(?:EG)?(?:REES)?)\s*([0-5]?[0-9])\s*(M(?:IN)?(?:UTES)?)\s*((?:[0-5]?[0-9])(?:[\.,]\d{1,3})?)?\s*(S(?:EC)?(?:ONDS)?)?\s*(NORTH|SOUTH|[NS])?(?:\s*[,/;]\s*|\s*)(EAST|WEST|[EW])?\s*([+-]?[0-1]?[0-9]?[0-9])\s*(D(?:EG)?(?:REES)?)\s*([0-5]?[0-9])\s*(M(?:IN)?(?:UTES)?)\s*((?:[0-5]?[0-9])(?:[\.,]\d{1,3})?)?\s*(S(?:EC)?(?:ONDS)?)\s*(EAST|WEST|[EW])?$/i,pt=/^(NORTH|SOUTH|[NS])?\s*([+-]?[0-8]?[0-9])\s*([•º°\.:]|D(?:EG)?(?:REES)?)?\s*,?([0-5]?[0-9](?:[\.,]\d{1,})?)?\s*(['′´’\.:]|M(?:IN)?(?:UTES)?)?\s*,?((?:[0-5]?[0-9])(?:[\.,]\d{1,3})?)?\s*(''|′′|’’|´´|["″”\.])?\s*(NORTH|SOUTH|[NS])?(?:\s*[,/;]\s*|\s*)(EAST|WEST|[EW])?\s*([+-]?[0-1]?[0-9]?[0-9])\s*([•º°\.:]|D(?:EG)?(?:REES)?)?\s*,?([0-5]?[0-9](?:[\.,]\d{1,})?)?\s*(['′´’\.:]|M(?:IN)?(?:UTES)?)?\s*,?((?:[0-5]?[0-9])(?:[\.,]\d{1,3})?)?\s*(''|′′|´´|’’|["″”\.])?\s*(EAST|WEST|[EW])?$/i;function Ni(i){if(!["DMS","DM","DD"].includes(i))throw new Error("invalid format specified");if(this.decimalCoordinates&&this.decimalCoordinates.trim()){const e=this.decimalCoordinates.split(",").map(E=>Number(E.trim())),t=Number(e[0]),n=Number(e[1]),o=Math.abs(t),l=Math.abs(n),c=t>0?"N":"S",r=n>0?"E":"W";let f;i=="DD"&&(f=`${o}° ${c}, ${l}° ${r}`);const u=Math.floor(o),d=Math.floor(l),b=(o-u)*60,m=(l-d)*60;if(i=="DM"){let E=kt(b,3).toFixed(3).padStart(6,"0"),y=kt(m,3).toFixed(3).padStart(6,"0");E.endsWith(".000")&&y.endsWith(".000")&&(E=E.replace(/\.000$/,""),y=y.replace(/\.000$/,"")),f=`${u}° ${E}' ${c}, ${d}° ${y}' ${r}`}if(i=="DMS"){const E=Math.floor(b),y=Math.floor(m);let A=((b-E)*60).toFixed(1).padStart(4,"0"),S=((m-y)*60).toFixed(1).padStart(4,"0");const p=E.toString().padStart(2,"0"),z=y.toString().padStart(2,"0");A.endsWith(".0")&&S.endsWith(".0")&&(A=A.replace(/\.0$/,""),S=S.replace(/\.0$/,"")),f=`${u}° ${p}' ${A}" ${c}, ${d}° ${z}' ${S}" ${r}`}return f}else throw new Error("no decimal coordinates to convert")}function kt(i,e){const t=Math.pow(10,e);return Math.round((i+Number.EPSILON)*t)/t}function Ke(i,e){e||(e=5),i=i.replace(/\s+/g," ").trim();let t=null,n=null,o="",l="",c=null,r=[],f=!1;if(ki.test(i))throw new Error("invalid coordinate value");if(yt.test(i))if(r=yt.exec(i),f=Oe(r),f)t=Math.abs(r[1])+r[2]/60,Number(r[1])<0&&(t*=-1),n=Math.abs(r[3])+r[4]/60,Number(r[3])<0&&(n*=-1),c="DM";else throw new Error("invalid coordinate format");else if(wt.test(i))if(r=wt.exec(i),f=Oe(r),f){if(t=r[2],n=r[6],t.includes(",")&&(t=t.replace(",",".")),n.includes(",")&&(n=n.replace(",",".")),c="DD",Number(Math.round(t))==Number(t))throw new Error("integer only coordinate provided");if(Number(Math.round(n))==Number(n))throw new Error("integer only coordinate provided");r[1]?(o=r[1],l=r[5]):r[4]&&(o=r[4],l=r[8])}else throw new Error("invalid decimal coordinate format");else if(Et.test(i))if(r=Et.exec(i),f=Oe(r),f)t=Math.abs(parseInt(r[2])),r[4]&&(t+=r[4]/60,c="DM"),r[6]&&(t+=r[6].replace(",",".")/3600,c="DMS"),parseInt(r[2])<0&&(t=-1*t),n=Math.abs(parseInt(r[9])),r[11]&&(n+=r[11]/60),r[13]&&(n+=r[13].replace(",",".")/3600),parseInt(r[9])<0&&(n=-1*n),r[1]?(o=r[1],l=r[8]):r[7]&&(o=r[7],l=r[14]);else throw new Error("invalid DMS coordinates format");else if(St.test(i))if(r=St.exec(i),f=Oe(r),f)t=Math.abs(parseInt(r[2])),r[4]&&(t+=r[4]/60,c="DM"),r[6]&&(t+=r[6]/3600,c="DMS"),parseInt(r[2])<0&&(t=-1*t),n=Math.abs(parseInt(r[10])),r[12]&&(n+=r[12]/60),r[14]&&(n+=r[14]/3600),parseInt(r[10])<0&&(n=-1*n),r[1]?(o=r[1],l=r[9]):r[8]&&(o=r[8],l=r[16]);else throw new Error("invalid DMS coordinates format");else if(pt.test(i)){if(r=pt.exec(i),f=Oe(r),r.filter(u=>u).length<=5)throw new Error("invalid coordinates format");if(f)t=Math.abs(parseInt(r[2])),r[4]&&(t+=r[4].replace(",",".")/60,c="DM"),r[6]&&(t+=r[6].replace(",",".")/3600,c="DMS"),parseInt(r[2])<0&&(t=-1*t),n=Math.abs(parseInt(r[10])),r[12]&&(n+=r[12].replace(",",".")/60),r[14]&&(n+=r[14].replace(",",".")/3600),parseInt(r[10])<0&&(n=-1*n),r[1]?(o=r[1],l=r[9]):r[8]&&(o=r[8],l=r[16]);else throw new Error("invalid coordinates format")}if(f){if(Math.abs(n)>=180)throw new Error("invalid longitude value");if(Math.abs(t)>=90)throw new Error("invalid latitude value");if(o&&!l||!o&&l)throw new Error("invalid coordinates value");if(o&&o==l)throw new Error("invalid coordinates format");t.toString().includes(",")&&(t=t.replace(",",".")),n.toString().includes(",")&&(n=n.replace(",","."));let u=/S|SOUTH/i;u.test(o)&&t>0&&(t=-1*t),u=/W|WEST/i,u.test(l)&&n>0&&(n=-1*n);const d=r[0].trim();let b,m;const E=/[,/;\u0020]/g,y=d.match(E);if(y==null){const p=Math.floor(i.length/2);b=d.substring(0,p).trim(),m=d.substring(p).trim()}else{let p;y.length%2==1?p=Math.floor(y.length/2):p=y.length/2-1;let z=0;if(p==0)z=d.indexOf(y[0]),b=d.substring(0,z).trim(),m=d.substring(z+1).trim();else{let D=0,k=0;for(;D<=p;)z=d.indexOf(y[D],k),k=z+1,D++;b=d.substring(0,z).trim(),m=d.substring(z+1).trim()}}const A=b.split(".");if(A.length==2&&A[1]==0&&A[1].length!=2)throw new Error("invalid coordinates format");const S=m.split(".");if(S.length==2&&S[1]==0&&S[1].length!=2)throw new Error("invalid coordinates format");if(/^\d+$/.test(b)||/^\d+$/.test(m))throw new Error("degree only coordinate/s provided");return t=Number(Number(t).toFixed(e)),n=Number(Number(n).toFixed(e)),Object.freeze({verbatimCoordinates:d,verbatimLatitude:b,verbatimLongitude:m,decimalLatitude:t,decimalLongitude:n,decimalCoordinates:`${t},${n}`,originalFormat:c,closeEnough:Ti,toCoordinateFormat:Ni})}else throw new Error("coordinates pattern match failed")}function Oe(i){if(!isNaN(i[0]))return!1;const e=[...i];if(e.shift(),e.length%2>0)return!1;const t=/^[-+]?\d+([\.,]\d+)?$/,n=/[eastsouthnorthwest]+/i,o=e.length/2;for(let l=0;l<o;l++){const c=e[l],r=e[l+o],f=t.test(c)&&t.test(r),u=n.test(c)&&n.test(r),d=c==r;if(!(c==null&&r==null)){if(c==null||r==null)return!1;if(f||u||d)continue;return!1}}return!0}function Nt(i,e){const t=Math.abs(i-e);return Number(t.toFixed(6))<=1e-5}function Ti(i){if(!i)throw new Error("coords must be provided");if(i.includes(",")){const e=i.split(",");if(Number(e[0])==NaN||Number(e[1])==NaN)throw new Error("coords are not valid decimals");return Nt(this.decimalLatitude,Number(e[0]))&&Nt(this.decimalLongitude,e[1])}else throw new Error("coords being tested must be separated by a comma")}const Mi=Object.freeze({DMS:"DMS",DM:"DM",DD:"DD"});Ke.to=Mi;const Ci=[{verbatimCoordinates:"40.123, -74.123",verbatimLatitude:"40.123",verbatimLongitude:"-74.123"},{verbatimCoordinates:"40.123° N 74.123° W",verbatimLatitude:"40.123° N",verbatimLongitude:"74.123° W"},{verbatimCoordinates:"40.123° N 74.123° W",verbatimLatitude:"40.123° N",verbatimLongitude:"74.123° W"},{verbatimCoordinates:'40° 7´ 22.8" N 74° 7´ 22.8" W',verbatimLatitude:'40° 7´ 22.8" N',verbatimLongitude:'74° 7´ 22.8" W'},{verbatimCoordinates:"40° 7.38’ , -74° 7.38’",verbatimLatitude:"40° 7.38’",verbatimLongitude:"-74° 7.38’"},{verbatimCoordinates:"N40°7’22.8’’, W74°7’22.8’’",verbatimLatitude:"N40°7’22.8’’",verbatimLongitude:"W74°7’22.8’’"},{verbatimCoordinates:'40°7’22.8"N, 74°7’22.8"W',verbatimLatitude:'40°7’22.8"N',verbatimLongitude:'74°7’22.8"W'},{verbatimCoordinates:`40°7'22.8"N, 74°7'22.8"W`,verbatimLatitude:`40°7'22.8"N`,verbatimLongitude:`74°7'22.8"W`},{verbatimCoordinates:"40 7 22.8, -74 7 22.8",verbatimLatitude:"40 7 22.8",verbatimLongitude:"-74 7 22.8"},{verbatimCoordinates:"40.123 -74.123",verbatimLatitude:"40.123",verbatimLongitude:"-74.123"},{verbatimCoordinates:"40.123°,-74.123°",verbatimLatitude:"40.123°",verbatimLongitude:"-74.123°"},{verbatimCoordinates:"40.123N74.123W",verbatimLatitude:"40.123N",verbatimLongitude:"74.123W"},{verbatimCoordinates:"4007.38N7407.38W",verbatimLatitude:"4007.38N",verbatimLongitude:"7407.38W"},{verbatimCoordinates:'40°7’22.8"N, 74°7’22.8"W',verbatimLatitude:'40°7’22.8"N',verbatimLongitude:'74°7’22.8"W'},{verbatimCoordinates:"400722.8N740722.8W",verbatimLatitude:"400722.8N",verbatimLongitude:"740722.8W"},{verbatimCoordinates:"N 40 7.38 W 74 7.38",verbatimLatitude:"N 40 7.38",verbatimLongitude:"W 74 7.38"},{verbatimCoordinates:"40:7:22.8N 74:7:22.8W",verbatimLatitude:"40:7:22.8N",verbatimLongitude:"74:7:22.8W"},{verbatimCoordinates:"40:7:23N,74:7:23W",verbatimLatitude:"40:7:23N",verbatimLongitude:"74:7:23W",decimalLatitude:40.1230555555,decimalLongitude:-74.1230555555},{verbatimCoordinates:'40°7’23"N 74°7’23"W',verbatimLatitude:'40°7’23"N',verbatimLongitude:'74°7’23"W',decimalLatitude:40.1230555555,decimalLongitude:-74.12305555555555},{verbatimCoordinates:'40°7’23"S 74°7’23"E',verbatimLatitude:'40°7’23"S',verbatimLongitude:'74°7’23"E',decimalLatitude:-40.1230555555,decimalLongitude:74.12305555555555},{verbatimCoordinates:'40°7’23" -74°7’23"',verbatimLatitude:'40°7’23"',verbatimLongitude:'-74°7’23"',decimalLatitude:40.1230555555,decimalLongitude:-74.123055555},{verbatimCoordinates:'40d 7’ 23" N 74d 7’ 23" W',verbatimLatitude:'40d 7’ 23" N',verbatimLongitude:'74d 7’ 23" W',decimalLatitude:40.1230555555,decimalLongitude:-74.123055555},{verbatimCoordinates:"40.123N 74.123W",verbatimLatitude:"40.123N",verbatimLongitude:"74.123W"},{verbatimCoordinates:"40° 7.38, -74° 7.38",verbatimLatitude:"40° 7.38",verbatimLongitude:"-74° 7.38"},{verbatimCoordinates:"40° 7.38, -74° 7.38",verbatimLatitude:"40° 7.38",verbatimLongitude:"-74° 7.38"},{verbatimCoordinates:"40 7 22.8; -74 7 22.8",verbatimLatitude:"40 7 22.8",verbatimLongitude:"-74 7 22.8"}],Wi={decimalLatitude:40.123,decimalLongitude:-74.123},Di=[{verbatimCoordinates:`50°4'17.698"south, 14°24'2.826"east`,verbatimLatitude:`50°4'17.698"south`,verbatimLongitude:`14°24'2.826"east`,decimalLatitude:-50.07158277777778,decimalLongitude:14.400785},{verbatimCoordinates:"50d4m17.698S 14d24m2.826E",verbatimLatitude:"50d4m17.698S",verbatimLongitude:"14d24m2.826E",decimalLatitude:-50.07158277777778,decimalLongitude:14.400785},{verbatimCoordinates:"40:26:46N,79:56:55W",verbatimLatitude:"40:26:46N",verbatimLongitude:"79:56:55W",decimalLatitude:40.44611111111111,decimalLongitude:-79.9486111111111},{verbatimCoordinates:"40:26:46.302N 79:56:55.903W",verbatimLatitude:"40:26:46.302N",verbatimLongitude:"79:56:55.903W",decimalLatitude:40.446195,decimalLongitude:-79.94886194444445},{verbatimCoordinates:"40°26′47″N 79°58′36″W",verbatimLatitude:"40°26′47″N",verbatimLongitude:"79°58′36″W",decimalLatitude:40.44638888888889,decimalLongitude:-79.97666666666667},{verbatimCoordinates:"40d 26′ 47″ N 79d 58′ 36″ W",verbatimLatitude:"40d 26′ 47″ N",verbatimLongitude:"79d 58′ 36″ W",decimalLatitude:40.44638888888889,decimalLongitude:-79.97666666666667},{verbatimCoordinates:"40.446195N 79.948862W",verbatimLatitude:"40.446195N",verbatimLongitude:"79.948862W",decimalLatitude:40.446195,decimalLongitude:-79.948862},{verbatimCoordinates:"40,446195° 79,948862°",verbatimLatitude:"40,446195°",verbatimLongitude:"79,948862°",decimalLatitude:40.446195,decimalLongitude:79.948862},{verbatimCoordinates:"40° 26.7717, -79° 56.93172",verbatimLatitude:"40° 26.7717",verbatimLongitude:"-79° 56.93172",decimalLatitude:40.446195,decimalLongitude:-79.948862},{verbatimCoordinates:"40.446195, -79.948862",verbatimLatitude:"40.446195",verbatimLongitude:"-79.948862",decimalLatitude:40.446195,decimalLongitude:-79.948862},{verbatimCoordinates:"40.123256; -74.123256",verbatimLatitude:"40.123256",verbatimLongitude:"-74.123256",decimalLatitude:40.123256,decimalLongitude:-74.123256},{verbatimCoordinates:"18°24S 22°45E",verbatimLatitude:"18°24S",verbatimLongitude:"22°45E",decimalLatitude:-18.4,decimalLongitude:22.75}],Oi=[{verbatimCoordinates:"10.432342S 10.6345345E",verbatimLatitude:"10.432342S",verbatimLongitude:"10.6345345E",decimalLatitude:-10.432342,decimalLongitude:10.6345345},{verbatimCoordinates:"10.00S 10.00E",verbatimLatitude:"10.00S",verbatimLongitude:"10.00E",decimalLatitude:-10,decimalLongitude:10},{verbatimCoordinates:"00.00S 01.00E",verbatimLatitude:"00.00S",verbatimLongitude:"01.00E",decimalLatitude:0,decimalLongitude:1},{verbatimCoordinates:"18.24S 22.45E",verbatimLatitude:"18.24S",verbatimLongitude:"22.45E",decimalLatitude:-18.4,decimalLongitude:22.75},{verbatimCoordinates:"27deg 15min 45.2sec S 18deg 32min 53.7sec E",verbatimLatitude:"27deg 15min 45.2sec S",verbatimLongitude:"18deg 32min 53.7sec E",decimalLatitude:-27.262555555555554,decimalLongitude:18.54825},{verbatimCoordinates:"-23.3245° S / 28.2344° E",verbatimLatitude:"-23.3245° S",verbatimLongitude:"28.2344° E",decimalLatitude:-23.3245,decimalLongitude:28.2344},{verbatimCoordinates:"40° 26.7717 -79° 56.93172",verbatimLatitude:"40° 26.7717",verbatimLongitude:"-79° 56.93172",decimalLatitude:40.446195,decimalLongitude:-79.948862},{verbatimCoordinates:"27.15.45S 18.32.53E",verbatimLatitude:"27.15.45S",verbatimLongitude:"18.32.53E",decimalLatitude:-27.2625,decimalLongitude:18.548055},{verbatimCoordinates:"-27.15.45 18.32.53",verbatimLatitude:"-27.15.45",verbatimLongitude:"18.32.53",decimalLatitude:-27.2625,decimalLongitude:18.548055},{verbatimCoordinates:"27.15.45.2S 18.32.53.4E",verbatimLatitude:"27.15.45.2S",verbatimLongitude:"18.32.53.4E",decimalLatitude:-27.262556,decimalLongitude:18.548167},{verbatimCoordinates:"27.15.45,2S 18.32.53,4E",verbatimLatitude:"27.15.45,2S",verbatimLongitude:"18.32.53,4E",decimalLatitude:-27.262556,decimalLongitude:18.548167},{verbatimCoordinates:"S23.43563 °  E22.45634 °",verbatimLatitude:"S23.43563 °",verbatimLongitude:"E22.45634 °",decimalLatitude:-23.43563,decimalLongitude:22.45634},{verbatimCoordinates:"27,71372° S 23,07771° E",verbatimLatitude:"27,71372° S",verbatimLongitude:"23,07771° E",decimalLatitude:-27.71372,decimalLongitude:23.07771},{verbatimCoordinates:"27.45.34 S 23.23.23 E",verbatimLatitude:"27.45.34 S",verbatimLongitude:"23.23.23 E",decimalLatitude:-27.759444,decimalLongitude:23.38972222},{verbatimCoordinates:"S 27.45.34 E 23.23.23",verbatimLatitude:"S 27.45.34",verbatimLongitude:"E 23.23.23",decimalLatitude:-27.759444,decimalLongitude:23.38972222},{verbatimCoordinates:"53 16.3863,4 52.8171",verbatimLatitude:"53 16.3863",verbatimLongitude:"4 52.8171",decimalLatitude:53.273105,decimalLongitude:4.88029},{verbatimCoordinates:"50 8.2914,-5 2.4447",verbatimLatitude:"50 8.2914",verbatimLongitude:"-5 2.4447",decimalLatitude:50.13819,decimalLongitude:-5.040745},{verbatimCoordinates:"N 48° 30,6410', E 18° 57,4583'",verbatimLatitude:"N 48° 30,6410'",verbatimLongitude:"E 18° 57,4583'",decimalLatitude:48.51068,decimalLongitude:18.95764},{verbatimCoordinates:"1.23456, 18.33453",verbatimLatitude:"1.23456",verbatimLongitude:"18.33453",decimalLatitude:1.23456,decimalLongitude:18.33453}];function Ri(){const i=[];return Ci.forEach(e=>{e.decimalLatitude?i.push(e):i.push({...e,...Wi})}),[...i,...Di,...Oi]}const Ii=Ri();Ke.formats=Ii.map(i=>i.verbatimCoordinates);const Ui=Ke;function Tt(i,e,t){const n=i.slice();return n[81]=e[t],n[83]=t,n}function Mt(i){let e,t;return e=new Li({}),{c(){de(e.$$.fragment)},m(n,o){se(e,n,o),t=!0},i(n){t||(j(e.$$.fragment,n),t=!0)},o(n){q(e.$$.fragment,n),t=!1},d(n){ae(e,n)}}}function Ct(i){let e,t,n,o,l;return t=new yi({}),{c(){e=U("button"),de(t.$$.fragment),a(e,"type","button"),a(e,"title",i[9]),a(e,"class","svelte-zh3kmv"),ce(e,"active",i[0])},m(c,r){H(c,e,r),se(t,e,null),n=!0,o||(l=K(e,"click",i[67]),o=!0)},p(c,r){(!n||r[0]&512)&&a(e,"title",c[9]),(!n||r[0]&1)&&ce(e,"active",c[0])},i(c){n||(j(t.$$.fragment,c),n=!0)},o(c){q(t.$$.fragment,c),n=!1},d(c){c&&B(e),ae(t),o=!1,l()}}}function zi(i){let e,t=[],n=new Map,o,l,c,r=ht(i[14]);const f=u=>u[81].id+(u[81].address?","+u[81].address:"");for(let u=0;u<r.length;u+=1){let d=Tt(i,r,u),b=f(d);n.set(b,t[u]=Wt(b,d))}return{c(){e=U("ul");for(let u=0;u<t.length;u+=1)t[u].c();a(e,"class","svelte-zh3kmv")},m(u,d){H(u,e,d);for(let b=0;b<t.length;b+=1)t[b]&&t[b].m(e,null);o=!0,l||(c=[K(e,"mouseleave",i[71]),K(e,"blur",i[72])],l=!0)},p(u,d){d[0]&17880064&&(r=ht(u[14]),ze(),t=ti(t,d,f,1,u,r,n,e,ei,Wt,null,Tt),Ae())},i(u){if(!o){for(let d=0;d<r.length;d+=1)j(t[d]);o=!0}},o(u){for(let d=0;d<t.length;d+=1)q(t[d]);o=!1},d(u){u&&B(e);for(let d=0;d<t.length;d+=1)t[d].d();l=!1,re(c)}}}function Ai(i){let e,t,n,o,l,c;return t=new vt({}),{c(){e=U("div"),de(t.$$.fragment),n=X(),o=U("div"),l=ue(i[7]),a(o,"class","svelte-zh3kmv"),a(e,"class","no-results svelte-zh3kmv")},m(r,f){H(r,e,f),se(t,e,null),M(e,n),M(e,o),M(o,l),c=!0},p(r,f){(!c||f[0]&128)&&Me(l,r[7])},i(r){c||(j(t.$$.fragment,r),c=!0)},o(r){q(t.$$.fragment,r),c=!1},d(r){r&&B(e),ae(t)}}}function Bi(i){let e="",t;return{c(){t=ue(e)},m(n,o){H(n,t,o)},p:v,i:v,o:v,d(n){n&&B(t)}}}function Fi(i){let e,t,n,o,l,c,r,f,u,d,b;return t=new vt({}),f=new bt({}),{c(){e=U("div"),de(t.$$.fragment),n=X(),o=U("div"),l=ue(i[6]),c=X(),r=U("button"),de(f.$$.fragment),a(o,"class","svelte-zh3kmv"),a(r,"class","svelte-zh3kmv"),a(e,"class","error svelte-zh3kmv")},m(m,E){H(m,e,E),se(t,e,null),M(e,n),M(e,o),M(o,l),M(e,c),M(e,r),se(f,r,null),u=!0,d||(b=K(r,"click",i[68]),d=!0)},p(m,E){(!u||E[0]&64)&&Me(l,m[6])},i(m){u||(j(t.$$.fragment,m),j(f.$$.fragment,m),u=!0)},o(m){q(t.$$.fragment,m),q(f.$$.fragment,m),u=!1},d(m){m&&B(e),ae(t),ae(f),d=!1,b()}}}function Wt(i,e){let t,n,o;function l(){return e[69](e[83])}function c(){return e[70](e[81])}return n=new bi({props:{feature:e[81],showPlaceType:e[10],selected:e[15]===e[83],missingIconsCache:e[20],iconsBaseUrl:e[12]}}),n.$on("mouseenter",l),n.$on("focus",c),{key:i,first:null,c(){t=Zt(),de(n.$$.fragment),this.first=t},m(r,f){H(r,t,f),se(n,r,f),o=!0},p(r,f){e=r;const u={};f[0]&16384&&(u.feature=e[81]),f[0]&1024&&(u.showPlaceType=e[10]),f[0]&49152&&(u.selected=e[15]===e[83]),f[0]&4096&&(u.iconsBaseUrl=e[12]),n.$set(u)},i(r){o||(j(n.$$.fragment,r),o=!0)},o(r){q(n.$$.fragment,r),o=!1},d(r){r&&B(t),ae(n,r)}}}function Hi(i){let e,t,n,o,l,c,r,f,u,d,b,m,E,y,A,S,p,z,D,k,h,R=!1;l=new Ei({}),b=new bt({});let L=i[19]&&Mt(),T=i[5]===!0&&Ct(i);const g=i[59].default,w=Ht(g,i,i[58],null),te=[Fi,Bi,Ai,zi],O=[];function Ee(_,P){var J,Se;return _[18]?0:_[16]?((J=_[14])==null?void 0:J.length)===0?2:_[16]&&((Se=_[14])!=null&&Se.length)?3:-1:1}return~(S=Ee(i))&&(p=O[S]=te[S](i)),{c(){e=X(),t=U("form"),n=U("div"),o=U("button"),de(l.$$.fragment),c=X(),r=U("input"),f=X(),u=U("div"),d=U("button"),de(b.$$.fragment),m=X(),L&&L.c(),E=X(),T&&T.c(),y=X(),w&&w.c(),A=X(),p&&p.c(),a(o,"class","search-button svelte-zh3kmv"),a(o,"type","button"),a(r,"placeholder",i[8]),a(r,"aria-label",i[8]),a(r,"class","svelte-zh3kmv"),a(d,"type","button"),a(d,"title",i[3]),a(d,"class","svelte-zh3kmv"),a(u,"class","clear-button-container svelte-zh3kmv"),ce(u,"displayable",i[1]!==""),a(n,"class","input-group svelte-zh3kmv"),a(t,"tabindex","0"),a(t,"class",z=ut(i[2])+" svelte-zh3kmv"),ce(t,"can-collapse",i[4]&&i[1]==="")},m(_,P){H(_,e,P),H(_,t,P),M(t,n),M(n,o),se(l,o,null),M(n,c),M(n,r),i[61](r),ct(r,i[1]),M(n,f),M(n,u),M(u,d),se(b,d,null),M(u,m),L&&L.m(u,null),M(n,E),T&&T.m(n,null),M(n,y),w&&w.m(n,null),M(t,A),~S&&O[S].m(t,null),D=!0,k||(h=[K(o,"click",i[60]),K(r,"input",i[62]),K(r,"focus",i[63]),K(r,"blur",i[64]),K(r,"keydown",i[22]),K(r,"input",i[65]),K(d,"click",i[66]),K(t,"submit",qt(i[21]))],k=!0)},p(_,P){(!D||P[0]&256)&&a(r,"placeholder",_[8]),(!D||P[0]&256)&&a(r,"aria-label",_[8]),P[0]&2&&r.value!==_[1]&&ct(r,_[1]),(!D||P[0]&8)&&a(d,"title",_[3]),_[19]?L?P[0]&524288&&j(L,1):(L=Mt(),L.c(),j(L,1),L.m(u,null)):L&&(ze(),q(L,1,1,()=>{L=null}),Ae()),(!D||P[0]&2)&&ce(u,"displayable",_[1]!==""),_[5]===!0?T?(T.p(_,P),P[0]&32&&j(T,1)):(T=Ct(_),T.c(),j(T,1),T.m(n,y)):T&&(ze(),q(T,1,1,()=>{T=null}),Ae()),w&&w.p&&(!D||P[1]&134217728)&&jt(w,g,_,_[58],D?Pt(g,_[58],P,null):Gt(_[58]),null);let J=S;S=Ee(_),S===J?~S&&O[S].p(_,P):(p&&(ze(),q(O[J],1,1,()=>{O[J]=null}),Ae()),~S?(p=O[S],p?p.p(_,P):(p=O[S]=te[S](_),p.c()),j(p,1),p.m(t,null)):p=null),(!D||P[0]&4&&z!==(z=ut(_[2])+" svelte-zh3kmv"))&&a(t,"class",z),(!D||P[0]&22)&&ce(t,"can-collapse",_[4]&&_[1]==="")},i(_){D||(j(R),j(l.$$.fragment,_),j(b.$$.fragment,_),j(L),j(T),j(w,_),j(p),D=!0)},o(_){q(R),q(l.$$.fragment,_),q(b.$$.fragment,_),q(L),q(T),q(w,_),q(p),D=!1},d(_){_&&(B(e),B(t)),ae(l),i[61](null),ae(b),L&&L.d(),T&&T.d(),w&&w.d(_),~S&&O[S].d(),k=!1,re(h)}}}function Pi(i,e,t){let n,{$$slots:o={},$$scope:l}=e,{class:c=void 0}=e,{apiKey:r}=e,{bbox:f=void 0}=e,{clearButtonTitle:u="clear"}=e,{clearOnBlur:d=!1}=e,{collapsed:b=!1}=e,{country:m=void 0}=e,{debounceSearch:E=200}=e,{enableReverse:y=!1}=e,{errorMessage:A="Something went wrong…"}=e,{filter:S=()=>!0}=e,{flyTo:p=!0}=e,{fuzzyMatch:z=!0}=e,{language:D=void 0}=e,{limit:k=void 0}=e,{mapController:h=void 0}=e,{minLength:R=2}=e,{noResultsMessage:L="Oops! Looks like you're trying to predict something that's not quite right. We can't seem to find what you're looking for. Maybe try double-checking your spelling or try a different search term. Keep on typing - we'll do our best to get you where you need to go!"}=e,{placeholder:T="Search"}=e,{proximity:g=[{type:"server-geolocation"}]}=e,{reverseActive:w=y==="always"}=e,{reverseButtonTitle:te="toggle reverse geocoding"}=e,{searchValue:O=""}=e,{showFullGeometry:Ee=!0}=e,{showPlaceType:_="ifNeeded"}=e,{showResultsWhileTyping:P=!0}=e,{selectFirst:J=!0}=e,{flyToSelected:Se=!1}=e,{markerOnSelected:Be=!0}=e,{types:ve=void 0}=e,{excludeTypes:Fe=!1}=e,{zoom:Re=16}=e,{maxZoom:pe=18}=e,{apiUrl:Je="https://api.maptiler.com/geocoding"}=e,{fetchParameters:Xe={}}=e,{iconsBaseUrl:Dt="https://cdn.maptiler.com/maptiler-geocoding-control/v1.3.3/icons/"}=e,{adjustUrlQuery:Ye=()=>{}}=e;function qi(){ie.focus()}function Qi(){ie.blur()}function Ot(s,Z=!0,Y=!1){t(1,O=s),Z?(t(15,F=-1),It()):(tt(!Y,Y),setTimeout(()=>{ie.focus(),ie.select()}))}function Vi(){t(14,C=void 0),t(55,N=void 0),t(15,F=-1)}function Ki(){t(54,G=[]),t(55,N=void 0)}let ke=!1,C,G,N,Rt="",ie,F=-1,ne,He=[],Le,Ne,Pe,xe;const Ji=new Set,fe=Jt();Kt(()=>{h&&(h.setEventHandler(void 0),h.indicateReverse(!1),h.setSelectedMarker(-1),h.setMarkers(void 0,void 0))});function It(s){if(Ne&&(clearTimeout(Ne),Ne=void 0),F>-1&&C)t(55,N=C[F]),t(1,O=N.place_type[0]==="reverse"?N.place_name:N.place_name.replace(/,.*/,"")),t(18,ne=void 0),t(54,G=void 0),t(15,F=-1);else if(O){const Z=s||!$e(O);et(O,{exact:!0}).then(()=>{t(54,G=C),t(55,N=void 0),Z&&Xi()}).catch(Y=>t(18,ne=Y))}}function $e(s){try{return Ui(s,6)}catch{return!1}}async function et(s,{byId:Z=!1,exact:Y=!1}={}){t(18,ne=void 0),Le==null||Le.abort();const $=new AbortController;t(19,Le=$);try{const W=$e(s),ee=new URLSearchParams;if(D!==void 0&&ee.set("language",Array.isArray(D)?D.join(","):D??""),ve&&ee.set("types",ve.join(",")),Fe&&ee.set("excludeTypes",String(Fe)),f&&ee.set("bbox",f.map(Ge=>Ge.toFixed(6)).join(",")),m&&ee.set("country",Array.isArray(m)?m.join(","):m),!Z&&!W){const Ge=await pi(h,g,$);Ge&&ee.set("proximity",Ge),(Y||!P)&&ee.set("autocomplete","false"),ee.set("fuzzyMatch",String(z))}k!==void 0&&(!W||(ve==null?void 0:ve.length)===1)&&ee.set("limit",String(k)),ee.set("key",r),Ye(ee);const je=Je+"/"+encodeURIComponent(W?W.decimalLongitude+","+W.decimalLatitude:s)+".json?"+ee.toString();if(je===Rt){Z?(t(14,C=void 0),t(55,N=He[0])):t(14,C=He);return}Rt=je;const nt=await fetch(je,{signal:$.signal,...Xe});if(!nt.ok)throw new Error(await nt.text());const rt=await nt.json();fe("response",{url:je,featureCollection:rt}),Z?(t(14,C=void 0),t(55,N=rt.features[0]),He=[N]):(t(14,C=rt.features.filter(S)),W&&C.unshift({type:"Feature",properties:{},id:"reverse_"+W.decimalLongitude+"_"+W.decimalLatitude,text:W.decimalLatitude+", "+W.decimalLongitude,place_name:W.decimalLatitude+", "+W.decimalLongitude,place_type:["reverse"],center:[W.decimalLongitude,W.decimalLatitude],bbox:[W.decimalLongitude,W.decimalLatitude,W.decimalLongitude,W.decimalLatitude],geometry:{type:"Point",coordinates:[W.decimalLongitude,W.decimalLatitude]}}),He=C,W&&ie.focus())}catch(W){if(W&&typeof W=="object"&&"name"in W&&W.name==="AbortError")return;throw W}finally{$===Le&&t(19,Le=void 0)}}function Xi(){var Y;if(!(G!=null&&G.length)||!p)return;const s=[180,90,-180,-90],Z=!G.some($=>!$.matching_text);for(const $ of G)if(Z||!$.matching_text)for(const W of[0,1,2,3])s[W]=Math[W<2?"min":"max"](s[W],((Y=$.bbox)==null?void 0:Y[W])??$.center[W%2]);h&&G.length>0&&(N&&s[0]===s[2]&&s[1]===s[3]?h.flyTo(N.center,Re):h.fitBounds(_t(s),50,pe))}function Yi(s){t(0,w=y==="always"),t(14,C=void 0),t(55,N=void 0),t(15,F=-1),Ot(s[1].toFixed(6)+", "+Si(s[0],[-180,180],!0).toFixed(6),!1,!0)}function xi(s){if(!C)return;let Z=s.key==="ArrowDown"?1:s.key==="ArrowUp"?-1:0;Z&&(F===(J?0:-1)&&Z===-1&&t(15,F=C.length),t(15,F+=Z),F>=C.length&&t(15,F=-1),F<0&&J&&t(15,F=0),s.preventDefault())}function tt(s=!0,Z=!1){if(t(18,ne=void 0),P||Z){if(Ne&&clearTimeout(Ne),O.length<R)return;const Y=O;Ne=window.setTimeout(()=>{et(Y).catch($=>t(18,ne=$))},s?E:0)}else t(14,C=void 0),t(18,ne=void 0)}function it(s){t(55,N=s),t(1,O=s.place_name),t(15,F=-1)}const $i=()=>ie.focus();function en(s){Ze[s?"unshift":"push"](()=>{ie=s,t(17,ie)})}function tn(){O=this.value,t(1,O),t(13,ke),t(27,d)}const nn=()=>t(13,ke=!0),rn=()=>t(13,ke=!1),on=()=>tt(),sn=()=>{t(1,O=""),ie.focus()},an=()=>t(0,w=!w),ln=()=>t(18,ne=void 0),un=s=>t(15,F=s),cn=s=>it(s),dn=()=>{J||t(15,F=-1)},fn=()=>{};return i.$$set=s=>{"class"in s&&t(2,c=s.class),"apiKey"in s&&t(25,r=s.apiKey),"bbox"in s&&t(26,f=s.bbox),"clearButtonTitle"in s&&t(3,u=s.clearButtonTitle),"clearOnBlur"in s&&t(27,d=s.clearOnBlur),"collapsed"in s&&t(4,b=s.collapsed),"country"in s&&t(28,m=s.country),"debounceSearch"in s&&t(29,E=s.debounceSearch),"enableReverse"in s&&t(5,y=s.enableReverse),"errorMessage"in s&&t(6,A=s.errorMessage),"filter"in s&&t(30,S=s.filter),"flyTo"in s&&t(31,p=s.flyTo),"fuzzyMatch"in s&&t(32,z=s.fuzzyMatch),"language"in s&&t(33,D=s.language),"limit"in s&&t(34,k=s.limit),"mapController"in s&&t(35,h=s.mapController),"minLength"in s&&t(36,R=s.minLength),"noResultsMessage"in s&&t(7,L=s.noResultsMessage),"placeholder"in s&&t(8,T=s.placeholder),"proximity"in s&&t(37,g=s.proximity),"reverseActive"in s&&t(0,w=s.reverseActive),"reverseButtonTitle"in s&&t(9,te=s.reverseButtonTitle),"searchValue"in s&&t(1,O=s.searchValue),"showFullGeometry"in s&&t(38,Ee=s.showFullGeometry),"showPlaceType"in s&&t(10,_=s.showPlaceType),"showResultsWhileTyping"in s&&t(39,P=s.showResultsWhileTyping),"selectFirst"in s&&t(11,J=s.selectFirst),"flyToSelected"in s&&t(40,Se=s.flyToSelected),"markerOnSelected"in s&&t(41,Be=s.markerOnSelected),"types"in s&&t(42,ve=s.types),"excludeTypes"in s&&t(43,Fe=s.excludeTypes),"zoom"in s&&t(44,Re=s.zoom),"maxZoom"in s&&t(45,pe=s.maxZoom),"apiUrl"in s&&t(46,Je=s.apiUrl),"fetchParameters"in s&&t(47,Xe=s.fetchParameters),"iconsBaseUrl"in s&&t(12,Dt=s.iconsBaseUrl),"adjustUrlQuery"in s&&t(48,Ye=s.adjustUrlQuery),"$$scope"in s&&t(58,l=s.$$scope)},i.$$.update=()=>{if(i.$$.dirty[0]&32&&t(0,w=y==="always"),i.$$.dirty[0]&134225920&&setTimeout(()=>{t(16,Pe=ke),d&&!ke&&t(1,O="")}),i.$$.dirty[0]&16386|i.$$.dirty[1]&32&&O.length<R&&(t(55,N=void 0),t(14,C=void 0),t(18,ne=void 0),t(54,G=C)),i.$$.dirty[1]&16777344&&Ee&&N&&!N.address&&N.geometry.type==="Point"&&N.place_type[0]!=="reverse"&&et(N.id,{byId:!0}).catch(s=>t(18,ne=s)),i.$$.dirty[1]&50356241&&(h&&N&&N.id!==xe&&p&&(!N.bbox||N.bbox[0]===N.bbox[2]&&N.bbox[1]===N.bbox[3]?h.flyTo(N.center,N.id.startsWith("poi.")||N.id.startsWith("address.")?pe:Re):h.fitBounds(_t(N.bbox),50,pe),t(14,C=void 0),t(54,G=void 0),t(15,F=-1)),t(56,xe=N==null?void 0:N.id)),i.$$.dirty[0]&18432&&J&&C!=null&&C.length&&t(15,F=0),i.$$.dirty[0]&2050&&(J||t(15,F=-1)),i.$$.dirty[0]&16384|i.$$.dirty[1]&8388608&&G!==C&&t(54,G=void 0),i.$$.dirty[0]&81921|i.$$.dirty[1]&8388624&&h&&h.setEventHandler(s=>{switch(s.type){case"mapClick":w&&Yi(s.coordinates);break;case"markerClick":{const Z=C==null?void 0:C.find(Y=>Y.id===s.id);Z&&it(Z)}break;case"markerMouseEnter":G&&t(15,F=Pe?(C==null?void 0:C.findIndex(Z=>Z.id===s.id))??-1:-1);break;case"markerMouseLeave":G&&t(15,F=-1);break}}),i.$$.dirty[0]&49152&&t(57,n=C==null?void 0:C[F]),i.$$.dirty[1]&67133969&&h&&n&&p&&Se&&h.flyTo(n.center,n.id.startsWith("poi.")||n.id.startsWith("address.")?pe:Re),i.$$.dirty[1]&1040&&(Be||h==null||h.setMarkers(void 0,void 0)),i.$$.dirty[1]&75498512&&h&&Be&&!G&&(h.setMarkers(n?[n]:void 0,void 0),h.setSelectedMarker(n?0:-1)),i.$$.dirty[1]&25165840&&h&&h.setMarkers(G,N),i.$$.dirty[0]&32768|i.$$.dirty[1]&8388624&&G&&h&&h.setSelectedMarker(F),i.$$.dirty[0]&2|i.$$.dirty[1]&16&&h){const s=$e(O);h.setReverseMarker(s?[s.decimalLongitude,s.decimalLatitude]:void 0)}i.$$.dirty[1]&67108864&&fe("select",n),i.$$.dirty[1]&16777216&&fe("pick",N),i.$$.dirty[0]&81920&&fe("optionsVisibilityChange",Pe&&!!C),i.$$.dirty[0]&16384&&fe("featuresListed",C),i.$$.dirty[1]&8388608&&fe("featuresMarked",G),i.$$.dirty[0]&1&&fe("reverseToggle",w),i.$$.dirty[0]&2&&fe("queryChange",O),i.$$.dirty[0]&1|i.$$.dirty[1]&16&&h&&h.indicateReverse(w)},[w,O,c,u,b,y,A,L,T,te,_,J,Dt,ke,C,F,Pe,ie,ne,Le,Ji,It,xi,tt,it,r,f,d,m,E,S,p,z,D,k,h,R,g,Ee,P,Se,Be,ve,Fe,Re,pe,Je,Xe,Ye,qi,Qi,Ot,Vi,Ki,G,N,xe,n,l,o,$i,en,tn,nn,rn,on,sn,an,ln,un,cn,dn,fn]}let ji=class extends be{constructor(e){super(),he(this,e,Pi,Hi,me,{class:2,apiKey:25,bbox:26,clearButtonTitle:3,clearOnBlur:27,collapsed:4,country:28,debounceSearch:29,enableReverse:5,errorMessage:6,filter:30,flyTo:31,fuzzyMatch:32,language:33,limit:34,mapController:35,minLength:36,noResultsMessage:7,placeholder:8,proximity:37,reverseActive:0,reverseButtonTitle:9,searchValue:1,showFullGeometry:38,showPlaceType:10,showResultsWhileTyping:39,selectFirst:11,flyToSelected:40,markerOnSelected:41,types:42,excludeTypes:43,zoom:44,maxZoom:45,apiUrl:46,fetchParameters:47,iconsBaseUrl:12,adjustUrlQuery:48,focus:49,blur:50,setQuery:51,clearList:52,clearMap:53},null,[-1,-1,-1])}get focus(){return this.$$.ctx[49]}get blur(){return this.$$.ctx[50]}get setQuery(){return this.$$.ctx[51]}get clearList(){return this.$$.ctx[52]}get clearMap(){return this.$$.ctx[53]}};const Gi=new FinalizationRegistry(i=>{i.$destroy()});class Zi extends EventTarget{constructor({target:t,...n}){super();At(this,x);Bt(this,x,new ji({target:t,props:n}));for(const o of["select","pick","featuresListed","featuresMarked","response","optionsVisibilityChange","reverseToggle","queryChange"])le(this,x).$on(o,l=>this.dispatchEvent(l));Gi.register(this,le(this,x))}setOptions(t){le(this,x).$set(t)}setQuery(t,n=!0){var o;(o=le(this,x))==null||o.setQuery(t,n)}clearMap(){var t;(t=le(this,x))==null||t.clearMap()}clearList(){var t;(t=le(this,x))==null||t.clearList()}focus(){var t;(t=le(this,x))==null||t.focus()}blur(){var t;(t=le(this,x))==null||t.blur()}}x=new WeakMap,I.GeocodingControl=Zi,Object.defineProperty(I,Symbol.toStringTag,{value:"Module"})});
//# sourceMappingURL=vanilla.umd.js.map
