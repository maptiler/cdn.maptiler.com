(function(K,W){typeof exports=="object"&&typeof module<"u"?W(exports,require("react")):typeof define=="function"&&define.amd?define(["exports","react"],W):(K=typeof globalThis<"u"?globalThis:K||self,W(K.reactMaptilerGeocoder={},K.React))})(this,function(K,W){"use strict";var Nn=Object.defineProperty;var Fn=(K,W,M)=>W in K?Nn(K,W,{enumerable:!0,configurable:!0,writable:!0,value:M}):K[W]=M;var He=(K,W,M)=>(Fn(K,typeof W!="symbol"?W+"":W,M),M);function M(){}function pt(n,e){for(const t in e)n[t]=e[t];return n}function Je(n){return n()}function Xe(){return Object.create(null)}function te(n){n.forEach(Je)}function Ye(n){return typeof n=="function"}function ue(n,e){return n!=n?e==e:n!==e||n&&typeof n=="object"||typeof n=="function"}let Be;function V(n,e){return n===e?!0:(Be||(Be=document.createElement("a")),Be.href=e,n===Be.href)}function Tt(n){return Object.keys(n).length===0}function Mt(n,e,t,r){if(n){const l=xe(n,e,t,r);return n[0](l)}}function xe(n,e,t,r){return n[1]&&r?pt(t.ctx.slice(),n[1](r(e))):t.ctx}function Lt(n,e,t,r){if(n[2]&&r){const l=n[2](r(t));if(e.dirty===void 0)return l;if(typeof l=="object"){const u=[],s=Math.max(e.dirty.length,l.length);for(let f=0;f<s;f+=1)u[f]=e.dirty[f]|l[f];return u}return e.dirty|l}return e.dirty}function Rt(n,e,t,r,l,u){if(l){const s=xe(e,t,r,u);n.p(s,l)}}function Bt(n){if(n.ctx.length>32){const e=[],t=n.ctx.length/32;for(let r=0;r<t;r++)e[r]=-1;return e}return-1}function $e(n){return n??""}function k(n,e){n.appendChild(e)}function P(n,e,t){n.insertBefore(e,t||null)}function z(n){n.parentNode&&n.parentNode.removeChild(n)}function S(n){return document.createElement(n)}function ie(n){return document.createElementNS("http://www.w3.org/2000/svg",n)}function se(n){return document.createTextNode(n)}function H(){return se(" ")}function Et(){return se("")}function q(n,e,t,r){return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t,r)}function Ct(n){return function(e){return e.preventDefault(),n.call(this,e)}}function o(n,e,t){t==null?n.removeAttribute(e):n.getAttribute(e)!==t&&n.setAttribute(e,t)}function St(n){return Array.from(n.childNodes)}function pe(n,e){e=""+e,n.data!==e&&(n.data=e)}function et(n,e){n.value=e??""}function oe(n,e,t){n.classList.toggle(e,!!t)}function It(n,e,{bubbles:t=!1,cancelable:r=!1}={}){return new CustomEvent(n,{detail:e,bubbles:t,cancelable:r})}let Te;function Me(n){Te=n}function tt(){if(!Te)throw new Error("Function called outside component initialization");return Te}function Ut(n){tt().$$.on_destroy.push(n)}function zt(){const n=tt();return(e,t,{cancelable:r=!1}={})=>{const l=n.$$.callbacks[e];if(l){const u=It(e,t,{cancelable:r});return l.slice().forEach(s=>{s.call(n,u)}),!u.defaultPrevented}return!0}}function nt(n,e){const t=n.$$.callbacks[e.type];t&&t.slice().forEach(r=>r.call(this,e))}const ye=[],je=[];let be=[];const rt=[],Pt=Promise.resolve();let We=!1;function At(){We||(We=!0,Pt.then(lt))}function Ze(n){be.push(n)}const Ne=new Set;let we=0;function lt(){if(we!==0)return;const n=Te;do{try{for(;we<ye.length;){const e=ye[we];we++,Me(e),jt(e.$$)}}catch(e){throw ye.length=0,we=0,e}for(Me(null),ye.length=0,we=0;je.length;)je.pop()();for(let e=0;e<be.length;e+=1){const t=be[e];Ne.has(t)||(Ne.add(t),t())}be.length=0}while(ye.length);for(;rt.length;)rt.pop()();We=!1,Ne.clear(),Me(n)}function jt(n){if(n.fragment!==null){n.update(),te(n.before_update);const e=n.dirty;n.dirty=[-1],n.fragment&&n.fragment.p(n.ctx,e),n.after_update.forEach(Ze)}}function Wt(n){const e=[],t=[];be.forEach(r=>n.indexOf(r)===-1?e.push(r):t.push(r)),t.forEach(r=>r()),be=e}const Ee=new Set;let ae;function Ce(){ae={r:0,c:[],p:ae}}function Se(){ae.r||te(ae.c),ae=ae.p}function Z(n,e){n&&n.i&&(Ee.delete(n),n.i(e))}function G(n,e,t,r){if(n&&n.o){if(Ee.has(n))return;Ee.add(n),ae.c.push(()=>{Ee.delete(n),r&&(t&&n.d(1),r())}),n.o(e)}else r&&r()}function it(n){return(n==null?void 0:n.length)!==void 0?n:Array.from(n)}function Zt(n,e){G(n,1,1,()=>{e.delete(n.key)})}function Nt(n,e,t,r,l,u,s,f,a,c,m,v){let _=n.length,L=u.length,I=_;const T={};for(;I--;)T[n[I].key]=I;const R=[],F=new Map,U=new Map,b=[];for(I=L;I--;){const E=v(l,u,I),C=t(E);let g=s.get(C);g?r&&b.push(()=>g.p(E,e)):(g=c(C,E),g.c()),F.set(C,R[I]=g),C in T&&U.set(C,Math.abs(I-T[C]))}const O=new Set,h=new Set;function y(E){Z(E,1),E.m(f,m),s.set(E.key,E),m=E.first,L--}for(;_&&L;){const E=R[L-1],C=n[_-1],g=E.key,w=C.key;E===C?(m=E.first,_--,L--):F.has(w)?!s.has(g)||O.has(g)?y(E):h.has(w)?_--:U.get(g)>U.get(w)?(h.add(g),y(E)):(O.add(w),_--):(a(C,s),_--)}for(;_--;){const E=n[_];F.has(E.key)||a(E,s)}for(;L;)y(R[L-1]);return te(b),R}function ce(n){n&&n.c()}function ne(n,e,t){const{fragment:r,after_update:l}=n.$$;r&&r.m(e,t),Ze(()=>{const u=n.$$.on_mount.map(Je).filter(Ye);n.$$.on_destroy?n.$$.on_destroy.push(...u):te(u),n.$$.on_mount=[]}),l.forEach(Ze)}function re(n,e){const t=n.$$;t.fragment!==null&&(Wt(t.after_update),te(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function Ft(n,e){n.$$.dirty[0]===-1&&(ye.push(n),At(),n.$$.dirty.fill(0)),n.$$.dirty[e/31|0]|=1<<e%31}function de(n,e,t,r,l,u,s=null,f=[-1]){const a=Te;Me(n);const c=n.$$={fragment:null,ctx:[],props:u,update:M,not_equal:l,bound:Xe(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(a?a.$$.context:[])),callbacks:Xe(),dirty:f,skip_bound:!1,root:e.target||a.$$.root};s&&s(c.root);let m=!1;if(c.ctx=t?t(n,e.props||{},(v,_,...L)=>{const I=L.length?L[0]:_;return c.ctx&&l(c.ctx[v],c.ctx[v]=I)&&(!c.skip_bound&&c.bound[v]&&c.bound[v](I),m&&Ft(n,v)),_}):[],c.update(),m=!0,te(c.before_update),c.fragment=r?r(c.ctx):!1,e.target){if(e.hydrate){const v=St(e.target);c.fragment&&c.fragment.l(v),v.forEach(z)}else c.fragment&&c.fragment.c();e.intro&&Z(n.$$.fragment),ne(n,e.target,e.anchor),lt()}Me(a)}class he{constructor(){He(this,"$$");He(this,"$$set")}$destroy(){re(this,1),this.$destroy=M}$on(e,t){if(!Ye(t))return M;const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(t),()=>{const l=r.indexOf(t);l!==-1&&r.splice(l,1)}}$set(e){this.$$set&&!Tt(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Ot="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Ot);const On="";function Gt(n){let e,t;return{c(){e=ie("svg"),t=ie("path"),o(t,"d","M13.12.706a.982.982 0 0 0-1.391 0L6.907 5.517 2.087.696a.982.982 0 1 0-1.391 1.39l4.821 4.821L.696 11.73a.982.982 0 1 0 1.39 1.39l4.821-4.821 4.822 4.821a.982.982 0 1 0 1.39-1.39L8.298 6.908l4.821-4.822a.988.988 0 0 0 0-1.38Z"),o(e,"viewBox","0 0 14 14"),o(e,"width","13"),o(e,"height","13"),o(e,"class","svelte-en2qvf")},m(r,l){P(r,e,l),k(e,t)},p:M,i:M,o:M,d(r){r&&z(e)}}}class st extends he{constructor(e){super(),de(this,e,null,Gt,ue,{})}}const Gn="";function Qt(n){let e,t;return{c(){e=ie("svg"),t=ie("path"),o(t,"d","M15 0C6.705 0 0 6.705 0 15C0 23.295 6.705 30 15 30C23.295 30 30 23.295 30 15C30 6.705 23.295 0 15 0ZM22.5 20.385L20.385 22.5L15 17.115L9.615 22.5L7.5 20.385L12.885 15L7.5 9.615L9.615 7.5L15 12.885L20.385 7.5L22.5 9.615L17.115 15L22.5 20.385Z"),o(e,"viewBox","0 0 30 30"),o(e,"fill","none"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"class","svelte-d2loi5")},m(r,l){P(r,e,l),k(e,t)},p:M,i:M,o:M,d(r){r&&z(e)}}}class ot extends he{constructor(e){super(),de(this,e,null,Qt,ue,{})}}const Qn="";function qt(n){let e,t;return{c(){e=S("img"),V(e.src,t=n[3]+"area.svg")||o(e,"src",t),o(e,"alt",n[6]),o(e,"class","svelte-ltkwvy")},m(r,l){P(r,e,l)},p(r,l){l&8&&!V(e.src,t=r[3]+"area.svg")&&o(e,"src",t),l&64&&o(e,"alt",r[6])},d(r){r&&z(e)}}}function Dt(n){let e,t;return{c(){e=S("img"),V(e.src,t=n[3]+"poi.svg")||o(e,"src",t),o(e,"alt",n[6]),o(e,"class","svelte-ltkwvy")},m(r,l){P(r,e,l)},p(r,l){l&8&&!V(e.src,t=r[3]+"poi.svg")&&o(e,"src",t),l&64&&o(e,"alt",r[6])},d(r){r&&z(e)}}}function Vt(n){let e,t;return{c(){e=S("img"),V(e.src,t=n[3]+"postal_code.svg")||o(e,"src",t),o(e,"alt",n[6]),o(e,"class","svelte-ltkwvy")},m(r,l){P(r,e,l)},p(r,l){l&8&&!V(e.src,t=r[3]+"postal_code.svg")&&o(e,"src",t),l&64&&o(e,"alt",r[6])},d(r){r&&z(e)}}}function Kt(n){let e,t;return{c(){e=S("img"),V(e.src,t=n[3]+"street.svg")||o(e,"src",t),o(e,"alt",n[6]),o(e,"class","svelte-ltkwvy")},m(r,l){P(r,e,l)},p(r,l){l&8&&!V(e.src,t=r[3]+"street.svg")&&o(e,"src",t),l&64&&o(e,"alt",r[6])},d(r){r&&z(e)}}}function Ht(n){let e,t;return{c(){e=S("img"),V(e.src,t=n[3]+"road.svg")||o(e,"src",t),o(e,"alt",n[6]),o(e,"class","svelte-ltkwvy")},m(r,l){P(r,e,l)},p(r,l){l&8&&!V(e.src,t=r[3]+"road.svg")&&o(e,"src",t),l&64&&o(e,"alt",r[6])},d(r){r&&z(e)}}}function Jt(n){let e,t;return{c(){e=S("img"),V(e.src,t=n[3]+"housenumber.svg")||o(e,"src",t),o(e,"alt",n[6]),o(e,"class","svelte-ltkwvy")},m(r,l){P(r,e,l)},p(r,l){l&8&&!V(e.src,t=r[3]+"housenumber.svg")&&o(e,"src",t),l&64&&o(e,"alt",r[6])},d(r){r&&z(e)}}}function Xt(n){let e,t,r,l;return{c(){e=S("img"),V(e.src,t=n[5])||o(e,"src",t),o(e,"alt",n[4]),o(e,"class","svelte-ltkwvy")},m(u,s){P(u,e,s),r||(l=q(e,"error",n[13]),r=!0)},p(u,s){s&32&&!V(e.src,t=u[5])&&o(e,"src",t),s&16&&o(e,"alt",u[4])},d(u){u&&z(e),r=!1,l()}}}function ct(n){let e,t;return{c(){e=S("span"),t=se(n[6]),o(e,"class","secondary svelte-ltkwvy")},m(r,l){P(r,e,l),k(e,t)},p(r,l){l&64&&pe(t,r[6])},d(r){r&&z(e)}}}function Yt(n){var E,C;let e,t,r,l,u,s,f,a,c=n[0].place_name.replace(/,.*/,"")+"",m,v,_=n[2]==="always"||n[2]&&!n[0].address&&((E=n[0].properties)==null?void 0:E.kind)!=="road"&&((C=n[0].properties)==null?void 0:C.kind)!=="road_relation"&&!n[0].id.startsWith("address.")&&!n[0].id.startsWith("postal_code.")&&(!n[0].id.startsWith("poi.")||!n[5]),L,I,T=n[0].place_name.replace(/[^,]*,?\s*/,"")+"",R,F,U;function b(g,w){var J,d;return w&1&&(t=null),w&1&&(r=null),w&1&&(l=null),g[5]?Xt:g[0].address?Jt:((J=g[0].properties)==null?void 0:J.kind)==="road"||((d=g[0].properties)==null?void 0:d.kind)==="road_relation"?Ht:(t==null&&(t=!!g[0].id.startsWith("address.")),t?Kt:(r==null&&(r=!!g[0].id.startsWith("postal_code.")),r?Vt:(l==null&&(l=!!g[0].id.startsWith("poi.")),l?Dt:qt)))}let O=b(n,-1),h=O(n),y=_&&ct(n);return{c(){e=S("li"),h.c(),u=H(),s=S("span"),f=S("span"),a=S("span"),m=se(c),v=H(),y&&y.c(),L=H(),I=S("span"),R=se(T),o(a,"class","primary svelte-ltkwvy"),o(f,"class","svelte-ltkwvy"),o(I,"class","line2 svelte-ltkwvy"),o(s,"class","texts svelte-ltkwvy"),o(e,"tabindex","0"),o(e,"data-selected",n[1]),o(e,"class","svelte-ltkwvy"),oe(e,"selected",n[1])},m(g,w){P(g,e,w),h.m(e,null),k(e,u),k(e,s),k(s,f),k(f,a),k(a,m),k(f,v),y&&y.m(f,null),k(s,L),k(s,I),k(I,R),F||(U=[q(e,"mouseenter",n[11]),q(e,"focus",n[12])],F=!0)},p(g,[w]){var J,d;O===(O=b(g,w))&&h?h.p(g,w):(h.d(1),h=O(g),h&&(h.c(),h.m(e,u))),w&1&&c!==(c=g[0].place_name.replace(/,.*/,"")+"")&&pe(m,c),w&37&&(_=g[2]==="always"||g[2]&&!g[0].address&&((J=g[0].properties)==null?void 0:J.kind)!=="road"&&((d=g[0].properties)==null?void 0:d.kind)!=="road_relation"&&!g[0].id.startsWith("address.")&&!g[0].id.startsWith("postal_code.")&&(!g[0].id.startsWith("poi.")||!g[5])),_?y?y.p(g,w):(y=ct(g),y.c(),y.m(f,null)):y&&(y.d(1),y=null),w&1&&T!==(T=g[0].place_name.replace(/[^,]*,?\s*/,"")+"")&&pe(R,T),w&2&&o(e,"data-selected",g[1]),w&2&&oe(e,"selected",g[1])},i:M,o:M,d(g){g&&z(e),h.d(),y&&y.d(),F=!1,te(U)}}}function xt(n,e,t){var U;let r,l,{feature:u}=e,{selected:s=!1}=e,{showPlaceType:f}=e,{missingIconsCache:a}=e,{iconsBaseUrl:c}=e;const m=(U=u.properties)==null?void 0:U.categories;let v,_,L=0;function I(b){_&&a.add(_),t(9,L++,L)}function T(b){nt.call(this,n,b)}function R(b){nt.call(this,n,b)}const F=b=>I(b.currentTarget);return n.$$set=b=>{"feature"in b&&t(0,u=b.feature),"selected"in b&&t(1,s=b.selected),"showPlaceType"in b&&t(2,f=b.showPlaceType),"missingIconsCache"in b&&t(8,a=b.missingIconsCache),"iconsBaseUrl"in b&&t(3,c=b.iconsBaseUrl)},n.$$.update=()=>{var b,O,h,y;if(n.$$.dirty&1848)do t(10,r--,r),t(4,v=m==null?void 0:m[r]),t(5,_=v?c+v.replace(/ /g,"_")+".svg":void 0);while(r>-1&&(!_||a.has(_)));n.$$.dirty&1&&t(6,l=u.id.startsWith("poi.")?(O=(b=u.properties)==null?void 0:b.categories)==null?void 0:O.join(", "):((y=(h=u.properties)==null?void 0:h.place_type_name)==null?void 0:y[0])??u.place_type[0])},t(10,r=(m==null?void 0:m.length)??0),[u,s,f,c,v,_,l,I,a,L,r,T,R,F]}class $t extends he{constructor(e){super(),de(this,e,xt,Yt,ue,{feature:0,selected:1,showPlaceType:2,missingIconsCache:8,iconsBaseUrl:3})}}const qn="";function en(n){let e;return{c(){e=S("div"),e.innerHTML='<svg viewBox="0 0 18 18" width="24" height="24" class="svelte-7cmwmc"><path fill="#333" d="M4.4 4.4l.8.8c2.1-2.1 5.5-2.1 7.6 0l.8-.8c-2.5-2.5-6.7-2.5-9.2 0z"></path><path opacity=".1" d="M12.8 12.9c-2.1 2.1-5.5 2.1-7.6 0-2.1-2.1-2.1-5.5 0-7.7l-.8-.8c-2.5 2.5-2.5 6.7 0 9.2s6.6 2.5 9.2 0 2.5-6.6 0-9.2l-.8.8c2.2 2.1 2.2 5.6 0 7.7z"></path></svg>',o(e,"class","svelte-7cmwmc")},m(t,r){P(t,e,r)},p:M,i:M,o:M,d(t){t&&z(e)}}}class tn extends he{constructor(e){super(),de(this,e,null,en,ue,{})}}const Dn="";function nn(n){let e,t;return{c(){e=ie("svg"),t=ie("path"),o(t,"d","M30.003-26.765C13.46-26.765 0-14.158 0 1.337c0 23.286 24.535 42.952 28.39 46.04.24.192.402.316.471.376.323.282.732.424 1.142.424.41 0 .82-.142 1.142-.424.068-.06.231-.183.471-.376 3.856-3.09 28.39-22.754 28.39-46.04 0-15.495-13.46-28.102-30.003-28.102Zm1.757 12.469c4.38 0 7.858 1.052 10.431 3.158 2.595 2.105 3.89 4.913 3.89 8.422 0 2.34-.53 4.362-1.593 6.063-1.063 1.702-3.086 3.616-6.063 5.742-2.042 1.51-3.337 2.659-3.89 3.446-.532.787-.8 1.82-.8 3.096v1.914h-8.449V15.18c0-2.041.434-3.815 1.306-5.325.872-1.51 2.467-3.118 4.785-4.82 2.233-1.594 3.7-2.89 4.402-3.889a5.582 5.582 0 0 0 1.087-3.35c0-1.382-.51-2.435-1.531-3.158-1.02-.723-2.45-1.087-4.28-1.087-3.19 0-6.826 1.047-10.91 3.131l-3.472-6.986c4.742-2.659 9.77-3.992 15.087-3.992Zm-1.88 37.324c1.765 0 3.124.472 4.08 1.408.98.936 1.47 2.276 1.47 4.02 0 1.68-.49 3.007-1.47 3.985-.977.957-2.336 1.435-4.08 1.435-1.787 0-3.171-.465-4.15-1.4-.978-.958-1.47-2.298-1.47-4.02 0-1.787.48-3.14 1.436-4.054.957-.915 2.355-1.374 4.184-1.374Z"),o(e,"viewBox","0 0 60.006 21.412"),o(e,"width","14"),o(e,"height","20"),o(e,"class","svelte-en2qvf")},m(r,l){P(r,e,l),k(e,t)},p:M,i:M,o:M,d(r){r&&z(e)}}}class rn extends he{constructor(e){super(),de(this,e,null,nn,ue,{})}}const Vn="";function ln(n){let e,t;return{c(){e=ie("svg"),t=ie("path"),o(t,"d","M13.101 14.261 8.74 9.899a4.797 4.797 0 0 1-1.425.748 5.165 5.165 0 0 1-1.603.248c-1.446 0-2.677-.5-3.693-1.503S.495 7.164.495 5.717c0-1.446.508-2.678 1.524-3.693C3.035 1.008 4.266.5 5.712.5c1.448 0 2.672.508 3.675 1.524 1.002 1.015 1.503 2.247 1.503 3.693 0 .558-.08 1.092-.239 1.603-.159.512-.411.98-.757 1.405l4.382 4.4a.74.74 0 0 1 .229.568.81.81 0 0 1-.249.568.787.787 0 0 1-.577.239.787.787 0 0 1-.578-.239ZM5.712 9.223c.97 0 1.796-.342 2.48-1.026a3.378 3.378 0 0 0 1.026-2.48c0-.982-.34-1.818-1.016-2.509-.677-.69-1.507-1.035-2.49-1.035a3.42 3.42 0 0 0-2.509 1.035 3.42 3.42 0 0 0-1.035 2.51c0 .982.345 1.812 1.035 2.488.691.678 1.527 1.017 2.51 1.017Z"),o(e,"width","14"),o(e,"height","14"),o(e,"viewBox","0 0 15 15"),o(e,"class","svelte-en2qvf")},m(r,l){P(r,e,l),k(e,t)},p:M,i:M,o:M,d(r){r&&z(e)}}}class sn extends he{constructor(e){super(),de(this,e,null,ln,ue,{})}}function on(n,e,t){const r=e[1],l=e[0],u=r-l;return n===r&&t?n:((n-l)%u+u)%u+l}function ft(n){const e=[...n];return e[2]<e[0]&&(e[2]+=360),e}let Le;async function cn(n,e,t){const r=n==null?void 0:n.getCenterAndZoom();for(const l of e??[])if(!(r&&(l.minZoom!=null&&l.minZoom>r[0]||l.maxZoom!=null&&l.maxZoom<r[0]))){if(l.type==="fixed")return l.coordinates.join(",");e:if(l.type==="client-geolocation"){if(Le&&l.cachedLocationExpiry&&Le.time+l.cachedLocationExpiry>Date.now()){if(!Le.coords)break e;return Le.coords}let u;try{return u=await new Promise((s,f)=>{t.signal.addEventListener("abort",()=>{f(Error("aborted"))}),navigator.geolocation.getCurrentPosition(a=>{s([a.coords.longitude,a.coords.latitude].map(c=>c.toFixed(6)).join(","))},a=>{f(a)},l)}),u}catch{}finally{l.cachedLocationExpiry&&(Le={time:Date.now(),coords:u})}if(t.signal.aborted)return}if(l.type==="server-geolocation")return"ip";if(r&&l.type==="map-center")return r[1].toFixed(6)+","+r[2].toFixed(6)}}const Kn="";function ut(n,e,t){const r=n.slice();return r[77]=e[t],r[79]=t,r}function at(n){let e,t;return e=new tn({}),{c(){ce(e.$$.fragment)},m(r,l){ne(e,r,l),t=!0},i(r){t||(Z(e.$$.fragment,r),t=!0)},o(r){G(e.$$.fragment,r),t=!1},d(r){re(e,r)}}}function dt(n){let e,t,r,l,u;return t=new rn({}),{c(){e=S("button"),ce(t.$$.fragment),o(e,"type","button"),o(e,"title",n[9]),o(e,"class","svelte-1r7dvt7"),oe(e,"active",n[0])},m(s,f){P(s,e,f),ne(t,e,null),r=!0,l||(u=q(e,"click",n[63]),l=!0)},p(s,f){(!r||f[0]&512)&&o(e,"title",s[9]),(!r||f[0]&1)&&oe(e,"active",s[0])},i(s){r||(Z(t.$$.fragment,s),r=!0)},o(s){G(t.$$.fragment,s),r=!1},d(s){s&&z(e),re(t),l=!1,u()}}}function fn(n){let e,t=[],r=new Map,l,u,s,f=it(n[13]);const a=c=>c[77].id+(c[77].address?","+c[77].address:"");for(let c=0;c<f.length;c+=1){let m=ut(n,f,c),v=a(m);r.set(v,t[c]=ht(v,m))}return{c(){e=S("ul");for(let c=0;c<t.length;c+=1)t[c].c();o(e,"class","svelte-1r7dvt7")},m(c,m){P(c,e,m);for(let v=0;v<t.length;v+=1)t[v]&&t[v].m(e,null);l=!0,u||(s=[q(e,"mouseleave",n[67]),q(e,"blur",n[68])],u=!0)},p(c,m){m[0]&8940544&&(f=it(c[13]),Ce(),t=Nt(t,m,a,1,c,f,r,e,Zt,ht,null,ut),Se())},i(c){if(!l){for(let m=0;m<f.length;m+=1)Z(t[m]);l=!0}},o(c){for(let m=0;m<t.length;m+=1)G(t[m]);l=!1},d(c){c&&z(e);for(let m=0;m<t.length;m+=1)t[m].d();u=!1,te(s)}}}function un(n){let e,t,r,l,u,s;return t=new ot({}),{c(){e=S("div"),ce(t.$$.fragment),r=H(),l=S("div"),u=se(n[7]),o(l,"class","svelte-1r7dvt7"),o(e,"class","no-results svelte-1r7dvt7")},m(f,a){P(f,e,a),ne(t,e,null),k(e,r),k(e,l),k(l,u),s=!0},p(f,a){(!s||a[0]&128)&&pe(u,f[7])},i(f){s||(Z(t.$$.fragment,f),s=!0)},o(f){G(t.$$.fragment,f),s=!1},d(f){f&&z(e),re(t)}}}function an(n){let e="",t;return{c(){t=se(e)},m(r,l){P(r,t,l)},p:M,i:M,o:M,d(r){r&&z(t)}}}function dn(n){let e,t,r,l,u,s,f,a,c,m,v;return t=new ot({}),a=new st({}),{c(){e=S("div"),ce(t.$$.fragment),r=H(),l=S("div"),u=se(n[6]),s=H(),f=S("button"),ce(a.$$.fragment),o(l,"class","svelte-1r7dvt7"),o(f,"class","svelte-1r7dvt7"),o(e,"class","error svelte-1r7dvt7")},m(_,L){P(_,e,L),ne(t,e,null),k(e,r),k(e,l),k(l,u),k(e,s),k(e,f),ne(a,f,null),c=!0,m||(v=q(f,"click",n[64]),m=!0)},p(_,L){(!c||L[0]&64)&&pe(u,_[6])},i(_){c||(Z(t.$$.fragment,_),Z(a.$$.fragment,_),c=!0)},o(_){G(t.$$.fragment,_),G(a.$$.fragment,_),c=!1},d(_){_&&z(e),re(t),re(a),m=!1,v()}}}function ht(n,e){let t,r,l;function u(){return e[65](e[79])}function s(){return e[66](e[77])}return r=new $t({props:{feature:e[77],showPlaceType:e[10],selected:e[14]===e[79],missingIconsCache:e[19],iconsBaseUrl:e[11]}}),r.$on("mouseenter",u),r.$on("focus",s),{key:n,first:null,c(){t=Et(),ce(r.$$.fragment),this.first=t},m(f,a){P(f,t,a),ne(r,f,a),l=!0},p(f,a){e=f;const c={};a[0]&8192&&(c.feature=e[77]),a[0]&1024&&(c.showPlaceType=e[10]),a[0]&24576&&(c.selected=e[14]===e[79]),a[0]&2048&&(c.iconsBaseUrl=e[11]),r.$set(c)},i(f){l||(Z(r.$$.fragment,f),l=!0)},o(f){G(r.$$.fragment,f),l=!1},d(f){f&&z(t),re(r,f)}}}function hn(n){let e,t,r,l,u,s,f,a,c,m,v,_,L,I,T,R,F,U,b,O;l=new sn({}),m=new st({});let h=n[18]&&at(),y=n[5]===!0&&dt(n);const E=n[55].default,C=Mt(E,n,n[54],null),g=[dn,an,un,fn],w=[];function J(d,A){var le,me;return d[17]?0:d[15]?((le=d[13])==null?void 0:le.length)===0?2:d[15]&&((me=d[13])!=null&&me.length)?3:-1:1}return~(T=J(n))&&(R=w[T]=g[T](n)),{c(){e=S("form"),t=S("div"),r=S("button"),ce(l.$$.fragment),u=H(),s=S("input"),f=H(),a=S("div"),c=S("button"),ce(m.$$.fragment),v=H(),h&&h.c(),_=H(),y&&y.c(),L=H(),C&&C.c(),I=H(),R&&R.c(),o(r,"class","search-button svelte-1r7dvt7"),o(r,"type","button"),o(s,"placeholder",n[8]),o(s,"aria-label",n[8]),o(s,"class","svelte-1r7dvt7"),o(c,"type","button"),o(c,"title",n[3]),o(c,"class","svelte-1r7dvt7"),o(a,"class","clear-button-container svelte-1r7dvt7"),oe(a,"displayable",n[1]!==""),o(t,"class","input-group svelte-1r7dvt7"),o(e,"tabindex","0"),o(e,"class",F=$e(n[2])+" svelte-1r7dvt7"),oe(e,"can-collapse",n[4]&&n[1]==="")},m(d,A){P(d,e,A),k(e,t),k(t,r),ne(l,r,null),k(t,u),k(t,s),n[57](s),et(s,n[1]),k(t,f),k(t,a),k(a,c),ne(m,c,null),k(a,v),h&&h.m(a,null),k(t,_),y&&y.m(t,null),k(t,L),C&&C.m(t,null),k(e,I),~T&&w[T].m(e,null),U=!0,b||(O=[q(r,"click",n[56]),q(s,"input",n[58]),q(s,"focus",n[59]),q(s,"blur",n[60]),q(s,"keydown",n[21]),q(s,"input",n[61]),q(c,"click",n[62]),q(e,"submit",Ct(n[20]))],b=!0)},p(d,A){(!U||A[0]&256)&&o(s,"placeholder",d[8]),(!U||A[0]&256)&&o(s,"aria-label",d[8]),A[0]&2&&s.value!==d[1]&&et(s,d[1]),(!U||A[0]&8)&&o(c,"title",d[3]),d[18]?h?A[0]&262144&&Z(h,1):(h=at(),h.c(),Z(h,1),h.m(a,null)):h&&(Ce(),G(h,1,1,()=>{h=null}),Se()),(!U||A[0]&2)&&oe(a,"displayable",d[1]!==""),d[5]===!0?y?(y.p(d,A),A[0]&32&&Z(y,1)):(y=dt(d),y.c(),Z(y,1),y.m(t,L)):y&&(Ce(),G(y,1,1,()=>{y=null}),Se()),C&&C.p&&(!U||A[1]&8388608)&&Rt(C,E,d,d[54],U?Lt(E,d[54],A,null):Bt(d[54]),null);let le=T;T=J(d),T===le?~T&&w[T].p(d,A):(R&&(Ce(),G(w[le],1,1,()=>{w[le]=null}),Se()),~T?(R=w[T],R?R.p(d,A):(R=w[T]=g[T](d),R.c()),Z(R,1),R.m(e,null)):R=null),(!U||A[0]&4&&F!==(F=$e(d[2])+" svelte-1r7dvt7"))&&o(e,"class",F),(!U||A[0]&22)&&oe(e,"can-collapse",d[4]&&d[1]==="")},i(d){U||(Z(l.$$.fragment,d),Z(m.$$.fragment,d),Z(h),Z(y),Z(C,d),Z(R),U=!0)},o(d){G(l.$$.fragment,d),G(m.$$.fragment,d),G(h),G(y),G(C,d),G(R),U=!1},d(d){d&&z(e),re(l),n[57](null),re(m),h&&h.d(),y&&y.d(),C&&C.d(d),~T&&w[T].d(),b=!1,te(O)}}}function mn(n,e,t){let r,{$$slots:l={},$$scope:u}=e,{class:s=void 0}=e,{apiKey:f}=e,{bbox:a=void 0}=e,{clearButtonTitle:c="clear"}=e,{clearOnBlur:m=!1}=e,{collapsed:v=!1}=e,{country:_=void 0}=e,{debounceSearch:L=200}=e,{enableReverse:I=!1}=e,{errorMessage:T="Something went wrongâ€¦"}=e,{filter:R=()=>!0}=e,{flyTo:F=!0}=e,{fuzzyMatch:U=!0}=e,{language:b=void 0}=e,{limit:O=void 0}=e,{mapController:h=void 0}=e,{minLength:y=2}=e,{noResultsMessage:E="Oops! Looks like you're trying to predict something that's not quite right. We can't seem to find what you're looking for. Maybe try double-checking your spelling or try a different search term. Keep on typing - we'll do our best to get you where you need to go!"}=e,{placeholder:C="Search"}=e,{proximity:g=[{type:"server-geolocation"}]}=e,{reverseActive:w=I==="always"}=e,{reverseButtonTitle:J="toggle reverse geocoding"}=e,{searchValue:d=""}=e,{showFullGeometry:A=!0}=e,{showPlaceType:le="ifNeeded"}=e,{showResultsWhileTyping:me=!0}=e,{types:ge=void 0}=e,{zoom:Ie=16}=e,{maxZoom:Re=18}=e,{apiUrl:Fe="https://api.maptiler.com/geocoding"}=e,{fetchParameters:Oe={}}=e,{iconsBaseUrl:_t="https://cdn.maptiler.com/maptiler-geocoding-control/v1.0.0/icons/"}=e,{adjustUrlQuery:Ge=i=>{}}=e;function bn(){Y.focus()}function wn(){Y.blur()}function yt(i,N=!0){t(1,d=i),N?(t(14,j=-1),wt()):(De(),setTimeout(()=>{Y.focus(),Y.select()}))}function vn(){t(13,B=void 0),t(51,p=void 0),t(14,j=-1)}function kn(){t(50,Q=[]),t(51,p=void 0)}let ve=!1,B,Q,p,bt="",Y,j=-1,x,Ue=[],_e,ke,ze,Qe;const pn=new Set,fe=zt();Ut(()=>{h&&(h.setEventHandler(void 0),h.indicateReverse(!1),h.setSelectedMarker(-1),h.setMarkers(void 0,void 0))});function wt(i){if(ke&&(clearTimeout(ke),ke=void 0),j>-1&&B)t(51,p=B[j]),t(1,d=p.place_name.replace(/,.*/,"")),t(17,x=void 0),t(50,Q=void 0),t(14,j=-1);else if(d){const N=i||!vt();qe(d,{exact:!0}).then(()=>{t(50,Q=B),t(51,p=void 0),N&&Tn()}).catch($=>t(17,x=$))}}function vt(){return/^-?\d+(\.\d+)?,-?\d+(\.\d+)?$/.test(d)}async function qe(i,{byId:N=!1,exact:$=!1}={}){t(17,x=void 0),_e==null||_e.abort();const ee=new AbortController;t(18,_e=ee);try{const D=vt(),X=new URLSearchParams;if(b!==void 0&&X.set("language",Array.isArray(b)?b.join(","):b??""),ge&&X.set("types",ge.join(",")),a&&X.set("bbox",a.map(Ae=>Ae.toFixed(6)).join(",")),_&&X.set("country",Array.isArray(_)?_.join(","):_),!N&&!D){const Ae=await cn(h,g,ee);Ae&&X.set("proximity",Ae),($||!me)&&X.set("autocomplete","false"),X.set("fuzzyMatch",String(U))}O!==void 0&&(!D||(ge==null?void 0:ge.length)===1)&&X.set("limit",String(O)),X.set("key",f),Ge(X);const Pe=Fe+"/"+encodeURIComponent(i)+".json?"+X.toString();if(Pe===bt){N?(t(13,B=void 0),t(51,p=Ue[0])):t(13,B=Ue);return}bt=Pe;const kt=await fetch(Pe,{signal:ee.signal,...Oe});if(!kt.ok)throw new Error;const Ke=await kt.json();fe("response",{url:Pe,featureCollection:Ke}),N?(t(13,B=void 0),t(51,p=Ke.features[0]),Ue=[p]):(t(13,B=Ke.features.filter(R)),Ue=B,D&&Y.focus())}catch(D){if(D&&typeof D=="object"&&"name"in D&&D.name==="AbortError")return;throw D}finally{ee===_e&&t(18,_e=void 0)}}function Tn(){var $;if(!(Q!=null&&Q.length)||!F)return;const i=[180,90,-180,-90],N=!Q.some(ee=>!ee.matching_text);for(const ee of Q)if(N||!ee.matching_text)for(const D of[0,1,2,3])i[D]=Math[D<2?"min":"max"](i[D],(($=ee.bbox)==null?void 0:$[D])??ee.center[D%2]);h&&Q.length>0&&(p&&i[0]===i[2]&&i[1]===i[3]?h.flyTo(p.center,Ie):h.fitBounds(ft(i),50,Re))}function Mn(i){t(0,w=I==="always"),yt(on(i[0],[-180,180],!0).toFixed(6)+","+i[1].toFixed(6))}function Ln(i){if(!B)return;let N=i.key==="ArrowDown"?1:i.key==="ArrowUp"?-1:0;N?(j===-1&&N===-1&&t(14,j=B.length),t(14,j+=N),j>=B.length&&t(14,j=-1),i.preventDefault()):["ArrowLeft","ArrowRight","Home","End"].includes(i.key)&&t(14,j=-1)}function De(i=!0){if(t(17,x=void 0),me){if(ke&&clearTimeout(ke),d.length<y)return;const N=d;ke=window.setTimeout(()=>{qe(N).catch($=>t(17,x=$))},i?L:0)}else t(13,B=void 0),t(17,x=void 0)}function Ve(i){t(51,p=i),t(1,d=i.place_name),t(14,j=-1)}const Rn=()=>Y.focus();function Bn(i){je[i?"unshift":"push"](()=>{Y=i,t(16,Y)})}function En(){d=this.value,t(1,d),t(12,ve),t(26,m)}const Cn=()=>t(12,ve=!0),Sn=()=>t(12,ve=!1),In=()=>De(),Un=()=>{t(1,d=""),Y.focus()},zn=()=>t(0,w=!w),Pn=()=>t(17,x=void 0),An=i=>t(14,j=i),jn=i=>Ve(i),Wn=()=>t(14,j=-1),Zn=()=>{};return n.$$set=i=>{"class"in i&&t(2,s=i.class),"apiKey"in i&&t(24,f=i.apiKey),"bbox"in i&&t(25,a=i.bbox),"clearButtonTitle"in i&&t(3,c=i.clearButtonTitle),"clearOnBlur"in i&&t(26,m=i.clearOnBlur),"collapsed"in i&&t(4,v=i.collapsed),"country"in i&&t(27,_=i.country),"debounceSearch"in i&&t(28,L=i.debounceSearch),"enableReverse"in i&&t(5,I=i.enableReverse),"errorMessage"in i&&t(6,T=i.errorMessage),"filter"in i&&t(29,R=i.filter),"flyTo"in i&&t(30,F=i.flyTo),"fuzzyMatch"in i&&t(31,U=i.fuzzyMatch),"language"in i&&t(32,b=i.language),"limit"in i&&t(33,O=i.limit),"mapController"in i&&t(34,h=i.mapController),"minLength"in i&&t(35,y=i.minLength),"noResultsMessage"in i&&t(7,E=i.noResultsMessage),"placeholder"in i&&t(8,C=i.placeholder),"proximity"in i&&t(36,g=i.proximity),"reverseActive"in i&&t(0,w=i.reverseActive),"reverseButtonTitle"in i&&t(9,J=i.reverseButtonTitle),"searchValue"in i&&t(1,d=i.searchValue),"showFullGeometry"in i&&t(37,A=i.showFullGeometry),"showPlaceType"in i&&t(10,le=i.showPlaceType),"showResultsWhileTyping"in i&&t(38,me=i.showResultsWhileTyping),"types"in i&&t(39,ge=i.types),"zoom"in i&&t(40,Ie=i.zoom),"maxZoom"in i&&t(41,Re=i.maxZoom),"apiUrl"in i&&t(42,Fe=i.apiUrl),"fetchParameters"in i&&t(43,Oe=i.fetchParameters),"iconsBaseUrl"in i&&t(11,_t=i.iconsBaseUrl),"adjustUrlQuery"in i&&t(44,Ge=i.adjustUrlQuery),"$$scope"in i&&t(54,u=i.$$scope)},n.$$.update=()=>{if(n.$$.dirty[0]&67112960&&setTimeout(()=>{t(15,ze=ve),m&&!ve&&t(1,d="")}),n.$$.dirty[0]&8194|n.$$.dirty[1]&16&&d.length<y&&(t(51,p=void 0),t(13,B=void 0),t(17,x=void 0),t(50,Q=B)),n.$$.dirty[1]&1048640&&A&&p&&!p.address&&p.geometry.type==="Point"&&qe(p.id,{byId:!0}).catch(i=>t(17,x=i)),n.$$.dirty[0]&1073741824|n.$$.dirty[1]&3147272&&(h&&p&&p.id!==Qe&&F&&(!p.bbox||p.bbox[0]===p.bbox[2]&&p.bbox[1]===p.bbox[3]?h.flyTo(p.center,p.id.startsWith("poi.")||p.id.startsWith("address.")?Re:Ie):h.fitBounds(ft(p.bbox),50,Re),t(13,B=void 0),t(50,Q=void 0),t(14,j=-1)),t(52,Qe=p==null?void 0:p.id)),n.$$.dirty[0]&8192|n.$$.dirty[1]&524288&&Q!==B&&t(50,Q=void 0),n.$$.dirty[1]&1572872&&h&&h.setMarkers(Q,p),n.$$.dirty[0]&2&&t(14,j=-1),n.$$.dirty[0]&40961|n.$$.dirty[1]&8&&h&&h.setEventHandler(i=>{switch(i.type){case"mapClick":w&&Mn(i.coordinates);break;case"markerClick":{const N=B==null?void 0:B.find($=>$.id===i.id);N&&Ve(N)}break;case"markerMouseEnter":t(14,j=ze?(B==null?void 0:B.findIndex(N=>N.id===i.id))??-1:-1);break;case"markerMouseLeave":t(14,j=-1);break}}),n.$$.dirty[0]&16384|n.$$.dirty[1]&8&&(h==null||h.setSelectedMarker(j)),n.$$.dirty[0]&24576&&t(53,r=B==null?void 0:B[j]),n.$$.dirty[0]&2|n.$$.dirty[1]&8){const i=/^(-?\d+(?:\.\d*)?),(-?\d+(?:\.\d*)?)$/.exec(d);h==null||h.setReverseMarker(i?[Number(i[1]),Number(i[2])]:void 0)}n.$$.dirty[1]&4194304&&fe("select",r),n.$$.dirty[1]&1048576&&fe("pick",p),n.$$.dirty[0]&40960&&fe("optionsVisibilityChange",ze&&!!B),n.$$.dirty[0]&8192&&fe("featuresListed",B),n.$$.dirty[1]&524288&&fe("featuresMarked",Q),n.$$.dirty[0]&1&&fe("reverseToggle",w),n.$$.dirty[0]&2&&fe("queryChange",d),n.$$.dirty[0]&1|n.$$.dirty[1]&8&&h&&h.indicateReverse(w)},[w,d,s,c,v,I,T,E,C,J,le,_t,ve,B,j,ze,Y,x,_e,pn,wt,Ln,De,Ve,f,a,m,_,L,R,F,U,b,O,h,y,g,A,me,ge,Ie,Re,Fe,Oe,Ge,bn,wn,yt,vn,kn,Q,p,Qe,r,u,l,Rn,Bn,En,Cn,Sn,In,Un,zn,Pn,An,jn,Wn,Zn]}class gn extends he{constructor(e){super(),de(this,e,mn,hn,ue,{class:2,apiKey:24,bbox:25,clearButtonTitle:3,clearOnBlur:26,collapsed:4,country:27,debounceSearch:28,enableReverse:5,errorMessage:6,filter:29,flyTo:30,fuzzyMatch:31,language:32,limit:33,mapController:34,minLength:35,noResultsMessage:7,placeholder:8,proximity:36,reverseActive:0,reverseButtonTitle:9,searchValue:1,showFullGeometry:37,showPlaceType:10,showResultsWhileTyping:38,types:39,zoom:40,maxZoom:41,apiUrl:42,fetchParameters:43,iconsBaseUrl:11,adjustUrlQuery:44,focus:45,blur:46,setQuery:47,clearList:48,clearMap:49},null,[-1,-1,-1])}get focus(){return this.$$.ctx[45]}get blur(){return this.$$.ctx[46]}get setQuery(){return this.$$.ctx[47]}get clearList(){return this.$$.ctx[48]}get clearMap(){return this.$$.ctx[49]}}const mt=["featuresListed","featuresMarked","optionsVisibilityChange","pick","queryChange","response","reverseToggle","select"],_n=["apiKey","bbox","clearButtonTitle","clearOnBlur","collapsed","country","debounceSearch","enableReverse","reverseActive","errorMessage","filter","fuzzyMatch","language","limit","minLength","noResultsMessage","placeholder","proximity","reverseButtonTitle","showFullGeometry","showPlaceType","showResultsWhileTyping","adjustUrlQuery","types","zoom","mapController"];function gt(n){return"on"+n[0].toUpperCase()+n.slice(1)}const yn=W.forwardRef(function(e,t){const r=W.useRef(),l=W.useRef(),u={...e};for(const s of mt)delete u[gt(s)];W.useEffect(()=>{if(!r.current)throw new Error;const s=new gn({target:r.current,props:u});return l.current=s,()=>s.$destroy()},[]);for(const s of _n)W.useEffect(()=>{l.current&&e[s]!==void 0&&l.current.$set({[s]:e[s]})},[e[s]]);for(const s of mt){const f=e[gt(s)];W.useEffect(()=>{var a;return f&&((a=l.current)==null?void 0:a.$on(s,c=>{f(c.detail)}))},[f])}return W.useImperativeHandle(t,()=>({setQuery:(s,f=!0)=>{var a;return(a=l.current)==null?void 0:a.setQuery(s,f)},clearMap:()=>{var s;return(s=l.current)==null?void 0:s.clearMap()},clearList:()=>{var s;return(s=l.current)==null?void 0:s.clearList()},focus:()=>{var s;return(s=l.current)==null?void 0:s.focus()},blur:()=>{var s;return(s=l.current)==null?void 0:s.blur()}})),W.createElement("div",{ref:r})});K.GeocodingControl=yn,Object.defineProperty(K,Symbol.toStringTag,{value:"Module"})});
//# sourceMappingURL=react.umd.cjs.map
