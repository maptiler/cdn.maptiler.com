var Gn=Object.defineProperty;var Nn=(U,g,G)=>g in U?Gn(U,g,{enumerable:!0,configurable:!0,writable:!0,value:G}):U[g]=G;var Ye=(U,g,G)=>(Nn(U,typeof g!="symbol"?g+"":g,G),G),pt=(U,g,G)=>{if(!g.has(U))throw TypeError("Cannot "+G)};var se=(U,g,G)=>(pt(U,g,"read from private field"),G?G.call(U):g.get(U)),Tt=(U,g,G)=>{if(g.has(U))throw TypeError("Cannot add the same private member more than once");g instanceof WeakSet?g.add(U):g.set(U,G)},Mt=(U,g,G,Me)=>(pt(U,g,"write to private field"),Me?Me.call(U,G):g.set(U,G),G);(function(U,g){typeof exports=="object"&&typeof module<"u"?g(exports):typeof define=="function"&&define.amd?define(["exports"],g):(U=typeof globalThis<"u"?globalThis:U||self,g(U.maptilerGeocoder={}))})(this,function(U){var J;"use strict";function g(){}function G(n,e){for(const t in e)n[t]=e[t];return n}function Me(n){return n()}function xe(){return Object.create(null)}function ne(n){n.forEach(Me)}function $e(n){return typeof n=="function"}function de(n,e){return n!=n?e==e:n!==e||n&&typeof n=="object"||typeof n=="function"}let Se;function K(n,e){return n===e?!0:(Se||(Se=document.createElement("a")),Se.href=e,n===Se.href)}function Lt(n){return Object.keys(n).length===0}function Bt(n,e,t,r){if(n){const l=et(n,e,t,r);return n[0](l)}}function et(n,e,t,r){return n[1]&&r?G(t.ctx.slice(),n[1](r(e))):t.ctx}function Et(n,e,t,r){if(n[2]&&r){const l=n[2](r(t));if(e.dirty===void 0)return l;if(typeof l=="object"){const u=[],o=Math.max(e.dirty.length,l.length);for(let f=0;f<o;f+=1)u[f]=e.dirty[f]|l[f];return u}return e.dirty|l}return e.dirty}function Ct(n,e,t,r,l,u){if(l){const o=et(e,t,r,u);n.p(o,l)}}function Rt(n){if(n.ctx.length>32){const e=[],t=n.ctx.length/32;for(let r=0;r<t;r++)e[r]=-1;return e}return-1}function tt(n){return n??""}function p(n,e){n.appendChild(e)}function A(n,e,t){n.insertBefore(e,t||null)}function P(n){n.parentNode&&n.parentNode.removeChild(n)}function S(n){return document.createElement(n)}function oe(n){return document.createElementNS("http://www.w3.org/2000/svg",n)}function ce(n){return document.createTextNode(n)}function H(){return ce(" ")}function St(){return ce("")}function q(n,e,t,r){return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t,r)}function It(n){return function(e){return e.preventDefault(),n.call(this,e)}}function s(n,e,t){t==null?n.removeAttribute(e):n.getAttribute(e)!==t&&n.setAttribute(e,t)}function Ut(n){return Array.from(n.childNodes)}function Le(n,e){e=""+e,n.data!==e&&(n.data=e)}function nt(n,e){n.value=e??""}function fe(n,e,t){n.classList.toggle(e,!!t)}function zt(n,e,{bubbles:t=!1,cancelable:r=!1}={}){return new CustomEvent(n,{detail:e,bubbles:t,cancelable:r})}let Be;function Ee(n){Be=n}function rt(){if(!Be)throw new Error("Function called outside component initialization");return Be}function Pt(n){rt().$$.on_destroy.push(n)}function At(){const n=rt();return(e,t,{cancelable:r=!1}={})=>{const l=n.$$.callbacks[e];if(l){const u=zt(e,t,{cancelable:r});return l.slice().forEach(o=>{o.call(n,u)}),!u.defaultPrevented}return!0}}function lt(n,e){const t=n.$$.callbacks[e.type];t&&t.slice().forEach(r=>r.call(this,e))}const we=[],Oe=[];let ve=[];const it=[],jt=Promise.resolve();let Fe=!1;function Zt(){Fe||(Fe=!0,jt.then(st))}function Ge(n){ve.push(n)}const Ne=new Set;let ke=0;function st(){if(ke!==0)return;const n=Be;do{try{for(;ke<we.length;){const e=we[ke];ke++,Ee(e),Wt(e.$$)}}catch(e){throw we.length=0,ke=0,e}for(Ee(null),we.length=0,ke=0;Oe.length;)Oe.pop()();for(let e=0;e<ve.length;e+=1){const t=ve[e];Ne.has(t)||(Ne.add(t),t())}ve.length=0}while(we.length);for(;it.length;)it.pop()();Fe=!1,Ne.clear(),Ee(n)}function Wt(n){if(n.fragment!==null){n.update(),ne(n.before_update);const e=n.dirty;n.dirty=[-1],n.fragment&&n.fragment.p(n.ctx,e),n.after_update.forEach(Ge)}}function Ot(n){const e=[],t=[];ve.forEach(r=>n.indexOf(r)===-1?e.push(r):t.push(r)),t.forEach(r=>r()),ve=e}const Ie=new Set;let he;function Ue(){he={r:0,c:[],p:he}}function ze(){he.r||ne(he.c),he=he.p}function W(n,e){n&&n.i&&(Ie.delete(n),n.i(e))}function Q(n,e,t,r){if(n&&n.o){if(Ie.has(n))return;Ie.add(n),he.c.push(()=>{Ie.delete(n),r&&(t&&n.d(1),r())}),n.o(e)}else r&&r()}function ot(n){return(n==null?void 0:n.length)!==void 0?n:Array.from(n)}function Ft(n,e){Q(n,1,1,()=>{e.delete(n.key)})}function Gt(n,e,t,r,l,u,o,f,h,c,m,k){let y=n.length,L=u.length,I=y;const M={};for(;I--;)M[n[I].key]=I;const B=[],F=new Map,z=new Map,w=[];for(I=L;I--;){const C=k(l,u,I),R=t(C);let _=o.get(R);_?r&&w.push(()=>_.p(C,e)):(_=c(R,C),_.c()),F.set(R,B[I]=_),R in M&&z.set(R,Math.abs(I-M[R]))}const N=new Set,d=new Set;function b(C){W(C,1),C.m(f,m),o.set(C.key,C),m=C.first,L--}for(;y&&L;){const C=B[L-1],R=n[y-1],_=C.key,v=R.key;C===R?(m=C.first,y--,L--):F.has(v)?!o.has(_)||N.has(_)?b(C):d.has(v)?y--:z.get(_)>z.get(v)?(d.add(_),b(C)):(N.add(v),y--):(h(R,o),y--)}for(;y--;){const C=n[y];F.has(C.key)||h(C,o)}for(;L;)b(B[L-1]);return ne(w),B}function ue(n){n&&n.c()}function re(n,e,t){const{fragment:r,after_update:l}=n.$$;r&&r.m(e,t),Ge(()=>{const u=n.$$.on_mount.map(Me).filter($e);n.$$.on_destroy?n.$$.on_destroy.push(...u):ne(u),n.$$.on_mount=[]}),l.forEach(Ge)}function le(n,e){const t=n.$$;t.fragment!==null&&(Ot(t.after_update),ne(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function Nt(n,e){n.$$.dirty[0]===-1&&(we.push(n),Zt(),n.$$.dirty.fill(0)),n.$$.dirty[e/31|0]|=1<<e%31}function me(n,e,t,r,l,u,o=null,f=[-1]){const h=Be;Ee(n);const c=n.$$={fragment:null,ctx:[],props:u,update:g,not_equal:l,bound:xe(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(h?h.$$.context:[])),callbacks:xe(),dirty:f,skip_bound:!1,root:e.target||h.$$.root};o&&o(c.root);let m=!1;if(c.ctx=t?t(n,e.props||{},(k,y,...L)=>{const I=L.length?L[0]:y;return c.ctx&&l(c.ctx[k],c.ctx[k]=I)&&(!c.skip_bound&&c.bound[k]&&c.bound[k](I),m&&Nt(n,k)),y}):[],c.update(),m=!0,ne(c.before_update),c.fragment=r?r(c.ctx):!1,e.target){if(e.hydrate){const k=Ut(e.target);c.fragment&&c.fragment.l(k),k.forEach(P)}else c.fragment&&c.fragment.c();e.intro&&W(n.$$.fragment),re(n,e.target,e.anchor),st()}Ee(h)}class ge{constructor(){Ye(this,"$$");Ye(this,"$$set")}$destroy(){le(this,1),this.$destroy=g}$on(e,t){if(!$e(t))return g;const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(t),()=>{const l=r.indexOf(t);l!==-1&&r.splice(l,1)}}$set(e){this.$$set&&!Lt(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Qt="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Qt);const Qn="";function Dt(n){let e,t;return{c(){e=oe("svg"),t=oe("path"),s(t,"d","M13.12.706a.982.982 0 0 0-1.391 0L6.907 5.517 2.087.696a.982.982 0 1 0-1.391 1.39l4.821 4.821L.696 11.73a.982.982 0 1 0 1.39 1.39l4.821-4.821 4.822 4.821a.982.982 0 1 0 1.39-1.39L8.298 6.908l4.821-4.822a.988.988 0 0 0 0-1.38Z"),s(e,"viewBox","0 0 14 14"),s(e,"width","13"),s(e,"height","13"),s(e,"class","svelte-en2qvf")},m(r,l){A(r,e,l),p(e,t)},p:g,i:g,o:g,d(r){r&&P(e)}}}class ct extends ge{constructor(e){super(),me(this,e,null,Dt,de,{})}}const Dn="";function qt(n){let e,t;return{c(){e=oe("svg"),t=oe("path"),s(t,"d","M15 0C6.705 0 0 6.705 0 15C0 23.295 6.705 30 15 30C23.295 30 30 23.295 30 15C30 6.705 23.295 0 15 0ZM22.5 20.385L20.385 22.5L15 17.115L9.615 22.5L7.5 20.385L12.885 15L7.5 9.615L9.615 7.5L15 12.885L20.385 7.5L22.5 9.615L17.115 15L22.5 20.385Z"),s(e,"viewBox","0 0 30 30"),s(e,"fill","none"),s(e,"xmlns","http://www.w3.org/2000/svg"),s(e,"class","svelte-d2loi5")},m(r,l){A(r,e,l),p(e,t)},p:g,i:g,o:g,d(r){r&&P(e)}}}class ft extends ge{constructor(e){super(),me(this,e,null,qt,de,{})}}const qn="";function Vt(n){let e,t;return{c(){e=S("img"),K(e.src,t=n[3]+"area.svg")||s(e,"src",t),s(e,"alt",n[6]),s(e,"class","svelte-ltkwvy")},m(r,l){A(r,e,l)},p(r,l){l&8&&!K(e.src,t=r[3]+"area.svg")&&s(e,"src",t),l&64&&s(e,"alt",r[6])},d(r){r&&P(e)}}}function Kt(n){let e,t;return{c(){e=S("img"),K(e.src,t=n[3]+"poi.svg")||s(e,"src",t),s(e,"alt",n[6]),s(e,"class","svelte-ltkwvy")},m(r,l){A(r,e,l)},p(r,l){l&8&&!K(e.src,t=r[3]+"poi.svg")&&s(e,"src",t),l&64&&s(e,"alt",r[6])},d(r){r&&P(e)}}}function Ht(n){let e,t;return{c(){e=S("img"),K(e.src,t=n[3]+"postal_code.svg")||s(e,"src",t),s(e,"alt",n[6]),s(e,"class","svelte-ltkwvy")},m(r,l){A(r,e,l)},p(r,l){l&8&&!K(e.src,t=r[3]+"postal_code.svg")&&s(e,"src",t),l&64&&s(e,"alt",r[6])},d(r){r&&P(e)}}}function Jt(n){let e,t;return{c(){e=S("img"),K(e.src,t=n[3]+"street.svg")||s(e,"src",t),s(e,"alt",n[6]),s(e,"class","svelte-ltkwvy")},m(r,l){A(r,e,l)},p(r,l){l&8&&!K(e.src,t=r[3]+"street.svg")&&s(e,"src",t),l&64&&s(e,"alt",r[6])},d(r){r&&P(e)}}}function Xt(n){let e,t;return{c(){e=S("img"),K(e.src,t=n[3]+"road.svg")||s(e,"src",t),s(e,"alt",n[6]),s(e,"class","svelte-ltkwvy")},m(r,l){A(r,e,l)},p(r,l){l&8&&!K(e.src,t=r[3]+"road.svg")&&s(e,"src",t),l&64&&s(e,"alt",r[6])},d(r){r&&P(e)}}}function Yt(n){let e,t;return{c(){e=S("img"),K(e.src,t=n[3]+"housenumber.svg")||s(e,"src",t),s(e,"alt",n[6]),s(e,"class","svelte-ltkwvy")},m(r,l){A(r,e,l)},p(r,l){l&8&&!K(e.src,t=r[3]+"housenumber.svg")&&s(e,"src",t),l&64&&s(e,"alt",r[6])},d(r){r&&P(e)}}}function xt(n){let e,t,r,l;return{c(){e=S("img"),K(e.src,t=n[5])||s(e,"src",t),s(e,"alt",n[4]),s(e,"class","svelte-ltkwvy")},m(u,o){A(u,e,o),r||(l=q(e,"error",n[13]),r=!0)},p(u,o){o&32&&!K(e.src,t=u[5])&&s(e,"src",t),o&16&&s(e,"alt",u[4])},d(u){u&&P(e),r=!1,l()}}}function ut(n){let e,t;return{c(){e=S("span"),t=ce(n[6]),s(e,"class","secondary svelte-ltkwvy")},m(r,l){A(r,e,l),p(e,t)},p(r,l){l&64&&Le(t,r[6])},d(r){r&&P(e)}}}function $t(n){var C,R;let e,t,r,l,u,o,f,h,c=n[0].place_name.replace(/,.*/,"")+"",m,k,y=n[2]==="always"||n[2]&&!n[0].address&&((C=n[0].properties)==null?void 0:C.kind)!=="road"&&((R=n[0].properties)==null?void 0:R.kind)!=="road_relation"&&!n[0].id.startsWith("address.")&&!n[0].id.startsWith("postal_code.")&&(!n[0].id.startsWith("poi.")||!n[5]),L,I,M=n[0].place_name.replace(/[^,]*,?\s*/,"")+"",B,F,z;function w(_,v){var X,a;return v&1&&(t=null),v&1&&(r=null),v&1&&(l=null),_[5]?xt:_[0].address?Yt:((X=_[0].properties)==null?void 0:X.kind)==="road"||((a=_[0].properties)==null?void 0:a.kind)==="road_relation"?Xt:(t==null&&(t=!!_[0].id.startsWith("address.")),t?Jt:(r==null&&(r=!!_[0].id.startsWith("postal_code.")),r?Ht:(l==null&&(l=!!_[0].id.startsWith("poi.")),l?Kt:Vt)))}let N=w(n,-1),d=N(n),b=y&&ut(n);return{c(){e=S("li"),d.c(),u=H(),o=S("span"),f=S("span"),h=S("span"),m=ce(c),k=H(),b&&b.c(),L=H(),I=S("span"),B=ce(M),s(h,"class","primary svelte-ltkwvy"),s(f,"class","svelte-ltkwvy"),s(I,"class","line2 svelte-ltkwvy"),s(o,"class","texts svelte-ltkwvy"),s(e,"tabindex","0"),s(e,"data-selected",n[1]),s(e,"class","svelte-ltkwvy"),fe(e,"selected",n[1])},m(_,v){A(_,e,v),d.m(e,null),p(e,u),p(e,o),p(o,f),p(f,h),p(h,m),p(f,k),b&&b.m(f,null),p(o,L),p(o,I),p(I,B),F||(z=[q(e,"mouseenter",n[11]),q(e,"focus",n[12])],F=!0)},p(_,[v]){var X,a;N===(N=w(_,v))&&d?d.p(_,v):(d.d(1),d=N(_),d&&(d.c(),d.m(e,u))),v&1&&c!==(c=_[0].place_name.replace(/,.*/,"")+"")&&Le(m,c),v&37&&(y=_[2]==="always"||_[2]&&!_[0].address&&((X=_[0].properties)==null?void 0:X.kind)!=="road"&&((a=_[0].properties)==null?void 0:a.kind)!=="road_relation"&&!_[0].id.startsWith("address.")&&!_[0].id.startsWith("postal_code.")&&(!_[0].id.startsWith("poi.")||!_[5])),y?b?b.p(_,v):(b=ut(_),b.c(),b.m(f,null)):b&&(b.d(1),b=null),v&1&&M!==(M=_[0].place_name.replace(/[^,]*,?\s*/,"")+"")&&Le(B,M),v&2&&s(e,"data-selected",_[1]),v&2&&fe(e,"selected",_[1])},i:g,o:g,d(_){_&&P(e),d.d(),b&&b.d(),F=!1,ne(z)}}}function en(n,e,t){var z;let r,l,{feature:u}=e,{selected:o=!1}=e,{showPlaceType:f}=e,{missingIconsCache:h}=e,{iconsBaseUrl:c}=e;const m=(z=u.properties)==null?void 0:z.categories;let k,y,L=0;function I(w){y&&h.add(y),t(9,L++,L)}function M(w){lt.call(this,n,w)}function B(w){lt.call(this,n,w)}const F=w=>I(w.currentTarget);return n.$$set=w=>{"feature"in w&&t(0,u=w.feature),"selected"in w&&t(1,o=w.selected),"showPlaceType"in w&&t(2,f=w.showPlaceType),"missingIconsCache"in w&&t(8,h=w.missingIconsCache),"iconsBaseUrl"in w&&t(3,c=w.iconsBaseUrl)},n.$$.update=()=>{var w,N,d,b;if(n.$$.dirty&1848)do t(10,r--,r),t(4,k=m==null?void 0:m[r]),t(5,y=k?c+k.replace(/ /g,"_")+".svg":void 0);while(r>-1&&(!y||h.has(y)));n.$$.dirty&1&&t(6,l=u.id.startsWith("poi.")?(N=(w=u.properties)==null?void 0:w.categories)==null?void 0:N.join(", "):((b=(d=u.properties)==null?void 0:d.place_type_name)==null?void 0:b[0])??u.place_type[0])},t(10,r=(m==null?void 0:m.length)??0),[u,o,f,c,k,y,l,I,h,L,r,M,B,F]}class tn extends ge{constructor(e){super(),me(this,e,en,$t,de,{feature:0,selected:1,showPlaceType:2,missingIconsCache:8,iconsBaseUrl:3})}}const Vn="";function nn(n){let e;return{c(){e=S("div"),e.innerHTML='<svg viewBox="0 0 18 18" width="24" height="24" class="svelte-7cmwmc"><path fill="#333" d="M4.4 4.4l.8.8c2.1-2.1 5.5-2.1 7.6 0l.8-.8c-2.5-2.5-6.7-2.5-9.2 0z"></path><path opacity=".1" d="M12.8 12.9c-2.1 2.1-5.5 2.1-7.6 0-2.1-2.1-2.1-5.5 0-7.7l-.8-.8c-2.5 2.5-2.5 6.7 0 9.2s6.6 2.5 9.2 0 2.5-6.6 0-9.2l-.8.8c2.2 2.1 2.2 5.6 0 7.7z"></path></svg>',s(e,"class","svelte-7cmwmc")},m(t,r){A(t,e,r)},p:g,i:g,o:g,d(t){t&&P(e)}}}class rn extends ge{constructor(e){super(),me(this,e,null,nn,de,{})}}const Kn="";function ln(n){let e,t;return{c(){e=oe("svg"),t=oe("path"),s(t,"d","M30.003-26.765C13.46-26.765 0-14.158 0 1.337c0 23.286 24.535 42.952 28.39 46.04.24.192.402.316.471.376.323.282.732.424 1.142.424.41 0 .82-.142 1.142-.424.068-.06.231-.183.471-.376 3.856-3.09 28.39-22.754 28.39-46.04 0-15.495-13.46-28.102-30.003-28.102Zm1.757 12.469c4.38 0 7.858 1.052 10.431 3.158 2.595 2.105 3.89 4.913 3.89 8.422 0 2.34-.53 4.362-1.593 6.063-1.063 1.702-3.086 3.616-6.063 5.742-2.042 1.51-3.337 2.659-3.89 3.446-.532.787-.8 1.82-.8 3.096v1.914h-8.449V15.18c0-2.041.434-3.815 1.306-5.325.872-1.51 2.467-3.118 4.785-4.82 2.233-1.594 3.7-2.89 4.402-3.889a5.582 5.582 0 0 0 1.087-3.35c0-1.382-.51-2.435-1.531-3.158-1.02-.723-2.45-1.087-4.28-1.087-3.19 0-6.826 1.047-10.91 3.131l-3.472-6.986c4.742-2.659 9.77-3.992 15.087-3.992Zm-1.88 37.324c1.765 0 3.124.472 4.08 1.408.98.936 1.47 2.276 1.47 4.02 0 1.68-.49 3.007-1.47 3.985-.977.957-2.336 1.435-4.08 1.435-1.787 0-3.171-.465-4.15-1.4-.978-.958-1.47-2.298-1.47-4.02 0-1.787.48-3.14 1.436-4.054.957-.915 2.355-1.374 4.184-1.374Z"),s(e,"viewBox","0 0 60.006 21.412"),s(e,"width","14"),s(e,"height","20"),s(e,"class","svelte-en2qvf")},m(r,l){A(r,e,l),p(e,t)},p:g,i:g,o:g,d(r){r&&P(e)}}}class sn extends ge{constructor(e){super(),me(this,e,null,ln,de,{})}}const Hn="";function on(n){let e,t;return{c(){e=oe("svg"),t=oe("path"),s(t,"d","M13.101 14.261 8.74 9.899a4.797 4.797 0 0 1-1.425.748 5.165 5.165 0 0 1-1.603.248c-1.446 0-2.677-.5-3.693-1.503S.495 7.164.495 5.717c0-1.446.508-2.678 1.524-3.693C3.035 1.008 4.266.5 5.712.5c1.448 0 2.672.508 3.675 1.524 1.002 1.015 1.503 2.247 1.503 3.693 0 .558-.08 1.092-.239 1.603-.159.512-.411.98-.757 1.405l4.382 4.4a.74.74 0 0 1 .229.568.81.81 0 0 1-.249.568.787.787 0 0 1-.577.239.787.787 0 0 1-.578-.239ZM5.712 9.223c.97 0 1.796-.342 2.48-1.026a3.378 3.378 0 0 0 1.026-2.48c0-.982-.34-1.818-1.016-2.509-.677-.69-1.507-1.035-2.49-1.035a3.42 3.42 0 0 0-2.509 1.035 3.42 3.42 0 0 0-1.035 2.51c0 .982.345 1.812 1.035 2.488.691.678 1.527 1.017 2.51 1.017Z"),s(e,"width","14"),s(e,"height","14"),s(e,"viewBox","0 0 15 15"),s(e,"class","svelte-en2qvf")},m(r,l){A(r,e,l),p(e,t)},p:g,i:g,o:g,d(r){r&&P(e)}}}class cn extends ge{constructor(e){super(),me(this,e,null,on,de,{})}}function fn(n,e,t){const r=e[1],l=e[0],u=r-l;return n===r&&t?n:((n-l)%u+u)%u+l}function at(n){const e=[...n];return e[2]<e[0]&&(e[2]+=360),e}let Ce;async function un(n,e,t){const r=n==null?void 0:n.getCenterAndZoom();for(const l of e??[])if(!(r&&(l.minZoom!=null&&l.minZoom>r[0]||l.maxZoom!=null&&l.maxZoom<r[0]))){if(l.type==="fixed")return l.coordinates.join(",");e:if(l.type==="client-geolocation"){if(Ce&&l.cachedLocationExpiry&&Ce.time+l.cachedLocationExpiry>Date.now()){if(!Ce.coords)break e;return Ce.coords}let u;try{return u=await new Promise((o,f)=>{t.signal.addEventListener("abort",()=>{f(Error("aborted"))}),navigator.geolocation.getCurrentPosition(h=>{o([h.coords.longitude,h.coords.latitude].map(c=>c.toFixed(6)).join(","))},h=>{f(h)},l)}),u}catch{}finally{l.cachedLocationExpiry&&(Ce={time:Date.now(),coords:u})}if(t.signal.aborted)return}if(l.type==="server-geolocation")return"ip";if(r&&l.type==="map-center")return r[1].toFixed(6)+","+r[2].toFixed(6)}}const Jn="";function dt(n,e,t){const r=n.slice();return r[77]=e[t],r[79]=t,r}function ht(n){let e,t;return e=new rn({}),{c(){ue(e.$$.fragment)},m(r,l){re(e,r,l),t=!0},i(r){t||(W(e.$$.fragment,r),t=!0)},o(r){Q(e.$$.fragment,r),t=!1},d(r){le(e,r)}}}function mt(n){let e,t,r,l,u;return t=new sn({}),{c(){e=S("button"),ue(t.$$.fragment),s(e,"type","button"),s(e,"title",n[9]),s(e,"class","svelte-1r7dvt7"),fe(e,"active",n[0])},m(o,f){A(o,e,f),re(t,e,null),r=!0,l||(u=q(e,"click",n[63]),l=!0)},p(o,f){(!r||f[0]&512)&&s(e,"title",o[9]),(!r||f[0]&1)&&fe(e,"active",o[0])},i(o){r||(W(t.$$.fragment,o),r=!0)},o(o){Q(t.$$.fragment,o),r=!1},d(o){o&&P(e),le(t),l=!1,u()}}}function an(n){let e,t=[],r=new Map,l,u,o,f=ot(n[13]);const h=c=>c[77].id+(c[77].address?","+c[77].address:"");for(let c=0;c<f.length;c+=1){let m=dt(n,f,c),k=h(m);r.set(k,t[c]=gt(k,m))}return{c(){e=S("ul");for(let c=0;c<t.length;c+=1)t[c].c();s(e,"class","svelte-1r7dvt7")},m(c,m){A(c,e,m);for(let k=0;k<t.length;k+=1)t[k]&&t[k].m(e,null);l=!0,u||(o=[q(e,"mouseleave",n[67]),q(e,"blur",n[68])],u=!0)},p(c,m){m[0]&8940544&&(f=ot(c[13]),Ue(),t=Gt(t,m,h,1,c,f,r,e,Ft,gt,null,dt),ze())},i(c){if(!l){for(let m=0;m<f.length;m+=1)W(t[m]);l=!0}},o(c){for(let m=0;m<t.length;m+=1)Q(t[m]);l=!1},d(c){c&&P(e);for(let m=0;m<t.length;m+=1)t[m].d();u=!1,ne(o)}}}function dn(n){let e,t,r,l,u,o;return t=new ft({}),{c(){e=S("div"),ue(t.$$.fragment),r=H(),l=S("div"),u=ce(n[7]),s(l,"class","svelte-1r7dvt7"),s(e,"class","no-results svelte-1r7dvt7")},m(f,h){A(f,e,h),re(t,e,null),p(e,r),p(e,l),p(l,u),o=!0},p(f,h){(!o||h[0]&128)&&Le(u,f[7])},i(f){o||(W(t.$$.fragment,f),o=!0)},o(f){Q(t.$$.fragment,f),o=!1},d(f){f&&P(e),le(t)}}}function hn(n){let e="",t;return{c(){t=ce(e)},m(r,l){A(r,t,l)},p:g,i:g,o:g,d(r){r&&P(t)}}}function mn(n){let e,t,r,l,u,o,f,h,c,m,k;return t=new ft({}),h=new ct({}),{c(){e=S("div"),ue(t.$$.fragment),r=H(),l=S("div"),u=ce(n[6]),o=H(),f=S("button"),ue(h.$$.fragment),s(l,"class","svelte-1r7dvt7"),s(f,"class","svelte-1r7dvt7"),s(e,"class","error svelte-1r7dvt7")},m(y,L){A(y,e,L),re(t,e,null),p(e,r),p(e,l),p(l,u),p(e,o),p(e,f),re(h,f,null),c=!0,m||(k=q(f,"click",n[64]),m=!0)},p(y,L){(!c||L[0]&64)&&Le(u,y[6])},i(y){c||(W(t.$$.fragment,y),W(h.$$.fragment,y),c=!0)},o(y){Q(t.$$.fragment,y),Q(h.$$.fragment,y),c=!1},d(y){y&&P(e),le(t),le(h),m=!1,k()}}}function gt(n,e){let t,r,l;function u(){return e[65](e[79])}function o(){return e[66](e[77])}return r=new tn({props:{feature:e[77],showPlaceType:e[10],selected:e[14]===e[79],missingIconsCache:e[19],iconsBaseUrl:e[11]}}),r.$on("mouseenter",u),r.$on("focus",o),{key:n,first:null,c(){t=St(),ue(r.$$.fragment),this.first=t},m(f,h){A(f,t,h),re(r,f,h),l=!0},p(f,h){e=f;const c={};h[0]&8192&&(c.feature=e[77]),h[0]&1024&&(c.showPlaceType=e[10]),h[0]&24576&&(c.selected=e[14]===e[79]),h[0]&2048&&(c.iconsBaseUrl=e[11]),r.$set(c)},i(f){l||(W(r.$$.fragment,f),l=!0)},o(f){Q(r.$$.fragment,f),l=!1},d(f){f&&P(t),le(r,f)}}}function gn(n){let e,t,r,l,u,o,f,h,c,m,k,y,L,I,M,B,F,z,w,N;l=new cn({}),m=new ct({});let d=n[18]&&ht(),b=n[5]===!0&&mt(n);const C=n[55].default,R=Bt(C,n,n[54],null),_=[mn,hn,dn,an],v=[];function X(a,j){var ie,_e;return a[17]?0:a[15]?((ie=a[13])==null?void 0:ie.length)===0?2:a[15]&&((_e=a[13])!=null&&_e.length)?3:-1:1}return~(M=X(n))&&(B=v[M]=_[M](n)),{c(){e=S("form"),t=S("div"),r=S("button"),ue(l.$$.fragment),u=H(),o=S("input"),f=H(),h=S("div"),c=S("button"),ue(m.$$.fragment),k=H(),d&&d.c(),y=H(),b&&b.c(),L=H(),R&&R.c(),I=H(),B&&B.c(),s(r,"class","search-button svelte-1r7dvt7"),s(r,"type","button"),s(o,"placeholder",n[8]),s(o,"aria-label",n[8]),s(o,"class","svelte-1r7dvt7"),s(c,"type","button"),s(c,"title",n[3]),s(c,"class","svelte-1r7dvt7"),s(h,"class","clear-button-container svelte-1r7dvt7"),fe(h,"displayable",n[1]!==""),s(t,"class","input-group svelte-1r7dvt7"),s(e,"tabindex","0"),s(e,"class",F=tt(n[2])+" svelte-1r7dvt7"),fe(e,"can-collapse",n[4]&&n[1]==="")},m(a,j){A(a,e,j),p(e,t),p(t,r),re(l,r,null),p(t,u),p(t,o),n[57](o),nt(o,n[1]),p(t,f),p(t,h),p(h,c),re(m,c,null),p(h,k),d&&d.m(h,null),p(t,y),b&&b.m(t,null),p(t,L),R&&R.m(t,null),p(e,I),~M&&v[M].m(e,null),z=!0,w||(N=[q(r,"click",n[56]),q(o,"input",n[58]),q(o,"focus",n[59]),q(o,"blur",n[60]),q(o,"keydown",n[21]),q(o,"input",n[61]),q(c,"click",n[62]),q(e,"submit",It(n[20]))],w=!0)},p(a,j){(!z||j[0]&256)&&s(o,"placeholder",a[8]),(!z||j[0]&256)&&s(o,"aria-label",a[8]),j[0]&2&&o.value!==a[1]&&nt(o,a[1]),(!z||j[0]&8)&&s(c,"title",a[3]),a[18]?d?j[0]&262144&&W(d,1):(d=ht(),d.c(),W(d,1),d.m(h,null)):d&&(Ue(),Q(d,1,1,()=>{d=null}),ze()),(!z||j[0]&2)&&fe(h,"displayable",a[1]!==""),a[5]===!0?b?(b.p(a,j),j[0]&32&&W(b,1)):(b=mt(a),b.c(),W(b,1),b.m(t,L)):b&&(Ue(),Q(b,1,1,()=>{b=null}),ze()),R&&R.p&&(!z||j[1]&8388608)&&Ct(R,C,a,a[54],z?Et(C,a[54],j,null):Rt(a[54]),null);let ie=M;M=X(a),M===ie?~M&&v[M].p(a,j):(B&&(Ue(),Q(v[ie],1,1,()=>{v[ie]=null}),ze()),~M?(B=v[M],B?B.p(a,j):(B=v[M]=_[M](a),B.c()),W(B,1),B.m(e,null)):B=null),(!z||j[0]&4&&F!==(F=tt(a[2])+" svelte-1r7dvt7"))&&s(e,"class",F),(!z||j[0]&22)&&fe(e,"can-collapse",a[4]&&a[1]==="")},i(a){z||(W(l.$$.fragment,a),W(m.$$.fragment,a),W(d),W(b),W(R,a),W(B),z=!0)},o(a){Q(l.$$.fragment,a),Q(m.$$.fragment,a),Q(d),Q(b),Q(R,a),Q(B),z=!1},d(a){a&&P(e),le(l),n[57](null),le(m),d&&d.d(),b&&b.d(),R&&R.d(a),~M&&v[M].d(),w=!1,ne(N)}}}function _n(n,e,t){let r,{$$slots:l={},$$scope:u}=e,{class:o=void 0}=e,{apiKey:f}=e,{bbox:h=void 0}=e,{clearButtonTitle:c="clear"}=e,{clearOnBlur:m=!1}=e,{collapsed:k=!1}=e,{country:y=void 0}=e,{debounceSearch:L=200}=e,{enableReverse:I=!1}=e,{errorMessage:M="Something went wrong…"}=e,{filter:B=()=>!0}=e,{flyTo:F=!0}=e,{fuzzyMatch:z=!0}=e,{language:w=void 0}=e,{limit:N=void 0}=e,{mapController:d=void 0}=e,{minLength:b=2}=e,{noResultsMessage:C="Oops! Looks like you're trying to predict something that's not quite right. We can't seem to find what you're looking for. Maybe try double-checking your spelling or try a different search term. Keep on typing - we'll do our best to get you where you need to go!"}=e,{placeholder:R="Search"}=e,{proximity:_=[{type:"server-geolocation"}]}=e,{reverseActive:v=I==="always"}=e,{reverseButtonTitle:X="toggle reverse geocoding"}=e,{searchValue:a=""}=e,{showFullGeometry:j=!0}=e,{showPlaceType:ie="ifNeeded"}=e,{showResultsWhileTyping:_e=!0}=e,{types:ye=void 0}=e,{zoom:Pe=16}=e,{maxZoom:Re=18}=e,{apiUrl:Qe="https://api.maptiler.com/geocoding"}=e,{fetchParameters:De={}}=e,{iconsBaseUrl:_t="https://cdn.maptiler.com/maptiler-geocoding-control/v1.0.0/icons/"}=e,{adjustUrlQuery:qe=i=>{}}=e;function vn(){x.focus()}function kn(){x.blur()}function yt(i,O=!0){t(1,a=i),O?(t(14,Z=-1),wt()):(He(),setTimeout(()=>{x.focus(),x.select()}))}function pn(){t(13,E=void 0),t(51,T=void 0),t(14,Z=-1)}function Tn(){t(50,D=[]),t(51,T=void 0)}let pe=!1,E,D,T,bt="",x,Z=-1,$,Ae=[],be,Te,je,Ve;const Mn=new Set,ae=At();Pt(()=>{d&&(d.setEventHandler(void 0),d.indicateReverse(!1),d.setSelectedMarker(-1),d.setMarkers(void 0,void 0))});function wt(i){if(Te&&(clearTimeout(Te),Te=void 0),Z>-1&&E)t(51,T=E[Z]),t(1,a=T.place_name.replace(/,.*/,"")),t(17,$=void 0),t(50,D=void 0),t(14,Z=-1);else if(a){const O=i||!vt();Ke(a,{exact:!0}).then(()=>{t(50,D=E),t(51,T=void 0),O&&Ln()}).catch(ee=>t(17,$=ee))}}function vt(){return/^-?\d+(\.\d+)?,-?\d+(\.\d+)?$/.test(a)}async function Ke(i,{byId:O=!1,exact:ee=!1}={}){t(17,$=void 0),be==null||be.abort();const te=new AbortController;t(18,be=te);try{const V=vt(),Y=new URLSearchParams;if(w!==void 0&&Y.set("language",Array.isArray(w)?w.join(","):w??""),ye&&Y.set("types",ye.join(",")),h&&Y.set("bbox",h.map(We=>We.toFixed(6)).join(",")),y&&Y.set("country",Array.isArray(y)?y.join(","):y),!O&&!V){const We=await un(d,_,te);We&&Y.set("proximity",We),(ee||!_e)&&Y.set("autocomplete","false"),Y.set("fuzzyMatch",String(z))}N!==void 0&&(!V||(ye==null?void 0:ye.length)===1)&&Y.set("limit",String(N)),Y.set("key",f),qe(Y);const Ze=Qe+"/"+encodeURIComponent(i)+".json?"+Y.toString();if(Ze===bt){O?(t(13,E=void 0),t(51,T=Ae[0])):t(13,E=Ae);return}bt=Ze;const kt=await fetch(Ze,{signal:te.signal,...De});if(!kt.ok)throw new Error;const Xe=await kt.json();ae("response",{url:Ze,featureCollection:Xe}),O?(t(13,E=void 0),t(51,T=Xe.features[0]),Ae=[T]):(t(13,E=Xe.features.filter(B)),Ae=E,V&&x.focus())}catch(V){if(V&&typeof V=="object"&&"name"in V&&V.name==="AbortError")return;throw V}finally{te===be&&t(18,be=void 0)}}function Ln(){var ee;if(!(D!=null&&D.length)||!F)return;const i=[180,90,-180,-90],O=!D.some(te=>!te.matching_text);for(const te of D)if(O||!te.matching_text)for(const V of[0,1,2,3])i[V]=Math[V<2?"min":"max"](i[V],((ee=te.bbox)==null?void 0:ee[V])??te.center[V%2]);d&&D.length>0&&(T&&i[0]===i[2]&&i[1]===i[3]?d.flyTo(T.center,Pe):d.fitBounds(at(i),50,Re))}function Bn(i){t(0,v=I==="always"),yt(fn(i[0],[-180,180],!0).toFixed(6)+","+i[1].toFixed(6))}function En(i){if(!E)return;let O=i.key==="ArrowDown"?1:i.key==="ArrowUp"?-1:0;O?(Z===-1&&O===-1&&t(14,Z=E.length),t(14,Z+=O),Z>=E.length&&t(14,Z=-1),i.preventDefault()):["ArrowLeft","ArrowRight","Home","End"].includes(i.key)&&t(14,Z=-1)}function He(i=!0){if(t(17,$=void 0),_e){if(Te&&clearTimeout(Te),a.length<b)return;const O=a;Te=window.setTimeout(()=>{Ke(O).catch(ee=>t(17,$=ee))},i?L:0)}else t(13,E=void 0),t(17,$=void 0)}function Je(i){t(51,T=i),t(1,a=i.place_name),t(14,Z=-1)}const Cn=()=>x.focus();function Rn(i){Oe[i?"unshift":"push"](()=>{x=i,t(16,x)})}function Sn(){a=this.value,t(1,a),t(12,pe),t(26,m)}const In=()=>t(12,pe=!0),Un=()=>t(12,pe=!1),zn=()=>He(),Pn=()=>{t(1,a=""),x.focus()},An=()=>t(0,v=!v),jn=()=>t(17,$=void 0),Zn=i=>t(14,Z=i),Wn=i=>Je(i),On=()=>t(14,Z=-1),Fn=()=>{};return n.$$set=i=>{"class"in i&&t(2,o=i.class),"apiKey"in i&&t(24,f=i.apiKey),"bbox"in i&&t(25,h=i.bbox),"clearButtonTitle"in i&&t(3,c=i.clearButtonTitle),"clearOnBlur"in i&&t(26,m=i.clearOnBlur),"collapsed"in i&&t(4,k=i.collapsed),"country"in i&&t(27,y=i.country),"debounceSearch"in i&&t(28,L=i.debounceSearch),"enableReverse"in i&&t(5,I=i.enableReverse),"errorMessage"in i&&t(6,M=i.errorMessage),"filter"in i&&t(29,B=i.filter),"flyTo"in i&&t(30,F=i.flyTo),"fuzzyMatch"in i&&t(31,z=i.fuzzyMatch),"language"in i&&t(32,w=i.language),"limit"in i&&t(33,N=i.limit),"mapController"in i&&t(34,d=i.mapController),"minLength"in i&&t(35,b=i.minLength),"noResultsMessage"in i&&t(7,C=i.noResultsMessage),"placeholder"in i&&t(8,R=i.placeholder),"proximity"in i&&t(36,_=i.proximity),"reverseActive"in i&&t(0,v=i.reverseActive),"reverseButtonTitle"in i&&t(9,X=i.reverseButtonTitle),"searchValue"in i&&t(1,a=i.searchValue),"showFullGeometry"in i&&t(37,j=i.showFullGeometry),"showPlaceType"in i&&t(10,ie=i.showPlaceType),"showResultsWhileTyping"in i&&t(38,_e=i.showResultsWhileTyping),"types"in i&&t(39,ye=i.types),"zoom"in i&&t(40,Pe=i.zoom),"maxZoom"in i&&t(41,Re=i.maxZoom),"apiUrl"in i&&t(42,Qe=i.apiUrl),"fetchParameters"in i&&t(43,De=i.fetchParameters),"iconsBaseUrl"in i&&t(11,_t=i.iconsBaseUrl),"adjustUrlQuery"in i&&t(44,qe=i.adjustUrlQuery),"$$scope"in i&&t(54,u=i.$$scope)},n.$$.update=()=>{if(n.$$.dirty[0]&67112960&&setTimeout(()=>{t(15,je=pe),m&&!pe&&t(1,a="")}),n.$$.dirty[0]&8194|n.$$.dirty[1]&16&&a.length<b&&(t(51,T=void 0),t(13,E=void 0),t(17,$=void 0),t(50,D=E)),n.$$.dirty[1]&1048640&&j&&T&&!T.address&&T.geometry.type==="Point"&&Ke(T.id,{byId:!0}).catch(i=>t(17,$=i)),n.$$.dirty[0]&1073741824|n.$$.dirty[1]&3147272&&(d&&T&&T.id!==Ve&&F&&(!T.bbox||T.bbox[0]===T.bbox[2]&&T.bbox[1]===T.bbox[3]?d.flyTo(T.center,T.id.startsWith("poi.")||T.id.startsWith("address.")?Re:Pe):d.fitBounds(at(T.bbox),50,Re),t(13,E=void 0),t(50,D=void 0),t(14,Z=-1)),t(52,Ve=T==null?void 0:T.id)),n.$$.dirty[0]&8192|n.$$.dirty[1]&524288&&D!==E&&t(50,D=void 0),n.$$.dirty[1]&1572872&&d&&d.setMarkers(D,T),n.$$.dirty[0]&2&&t(14,Z=-1),n.$$.dirty[0]&40961|n.$$.dirty[1]&8&&d&&d.setEventHandler(i=>{switch(i.type){case"mapClick":v&&Bn(i.coordinates);break;case"markerClick":{const O=E==null?void 0:E.find(ee=>ee.id===i.id);O&&Je(O)}break;case"markerMouseEnter":t(14,Z=je?(E==null?void 0:E.findIndex(O=>O.id===i.id))??-1:-1);break;case"markerMouseLeave":t(14,Z=-1);break}}),n.$$.dirty[0]&16384|n.$$.dirty[1]&8&&(d==null||d.setSelectedMarker(Z)),n.$$.dirty[0]&24576&&t(53,r=E==null?void 0:E[Z]),n.$$.dirty[0]&2|n.$$.dirty[1]&8){const i=/^(-?\d+(?:\.\d*)?),(-?\d+(?:\.\d*)?)$/.exec(a);d==null||d.setReverseMarker(i?[Number(i[1]),Number(i[2])]:void 0)}n.$$.dirty[1]&4194304&&ae("select",r),n.$$.dirty[1]&1048576&&ae("pick",T),n.$$.dirty[0]&40960&&ae("optionsVisibilityChange",je&&!!E),n.$$.dirty[0]&8192&&ae("featuresListed",E),n.$$.dirty[1]&524288&&ae("featuresMarked",D),n.$$.dirty[0]&1&&ae("reverseToggle",v),n.$$.dirty[0]&2&&ae("queryChange",a),n.$$.dirty[0]&1|n.$$.dirty[1]&8&&d&&d.indicateReverse(v)},[v,a,o,c,k,I,M,C,R,X,ie,_t,pe,E,Z,je,x,$,be,Mn,wt,En,He,Je,f,h,m,y,L,B,F,z,w,N,d,b,_,j,_e,ye,Pe,Re,Qe,De,qe,vn,kn,yt,pn,Tn,D,T,Ve,r,u,l,Cn,Rn,Sn,In,Un,zn,Pn,An,jn,Zn,Wn,On,Fn]}let yn=class extends ge{constructor(e){super(),me(this,e,_n,gn,de,{class:2,apiKey:24,bbox:25,clearButtonTitle:3,clearOnBlur:26,collapsed:4,country:27,debounceSearch:28,enableReverse:5,errorMessage:6,filter:29,flyTo:30,fuzzyMatch:31,language:32,limit:33,mapController:34,minLength:35,noResultsMessage:7,placeholder:8,proximity:36,reverseActive:0,reverseButtonTitle:9,searchValue:1,showFullGeometry:37,showPlaceType:10,showResultsWhileTyping:38,types:39,zoom:40,maxZoom:41,apiUrl:42,fetchParameters:43,iconsBaseUrl:11,adjustUrlQuery:44,focus:45,blur:46,setQuery:47,clearList:48,clearMap:49},null,[-1,-1,-1])}get focus(){return this.$$.ctx[45]}get blur(){return this.$$.ctx[46]}get setQuery(){return this.$$.ctx[47]}get clearList(){return this.$$.ctx[48]}get clearMap(){return this.$$.ctx[49]}};const bn=new FinalizationRegistry(n=>{n.$destroy()});class wn extends EventTarget{constructor({target:t,...r}){super();Tt(this,J,void 0);Mt(this,J,new yn({target:t,props:r}));for(const l of["select","pick","featuresListed","featuresMarked","response","optionsVisibilityChange","reverseToggle","queryChange"])se(this,J).$on(l,u=>this.dispatchEvent(u));bn.register(this,se(this,J))}setOptions(t){se(this,J).$set(t)}setQuery(t,r=!0){var l;(l=se(this,J))==null||l.setQuery(t,r)}clearMap(){var t;(t=se(this,J))==null||t.clearMap()}clearList(){var t;(t=se(this,J))==null||t.clearList()}focus(){var t;(t=se(this,J))==null||t.focus()}blur(){var t;(t=se(this,J))==null||t.blur()}}J=new WeakMap,U.GeocodingControl=wn,Object.defineProperty(U,Symbol.toStringTag,{value:"Module"})});
//# sourceMappingURL=vanilla.umd.cjs.map
