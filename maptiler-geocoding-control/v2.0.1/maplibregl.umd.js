(function(T,z){typeof exports=="object"&&typeof module<"u"?z(exports,require("maplibre-gl")):typeof define=="function"&&define.amd?define(["exports","maplibre-gl"],z):(T=typeof globalThis<"u"?globalThis:T||self,z(T.maplibreglMaptilerGeocoder={},T.maplibregl))})(this,function(T,z){"use strict";var ls=Object.defineProperty;var Fi=T=>{throw TypeError(T)};var us=(T,z,X)=>z in T?ls(T,z,{enumerable:!0,configurable:!0,writable:!0,value:X}):T[z]=X;var ne=(T,z,X)=>us(T,typeof z!="symbol"?z+"":z,X),ji=(T,z,X)=>z.has(T)||Fi("Cannot "+X);var V=(T,z,X)=>(ji(T,z,"read from private field"),X?X.call(T):z.get(T)),Ut=(T,z,X)=>z.has(T)?Fi("Cannot add the same private member more than once"):z instanceof WeakSet?z.add(T):z.set(T,X),Ft=(T,z,X,Ue)=>(ji(T,z,"write to private field"),Ue?Ue.call(T,X):z.set(T,X),X);function X(n){const e=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(n){for(const t in n)if(t!=="default"){const i=Object.getOwnPropertyDescriptor(n,t);Object.defineProperty(e,t,i.get?i:{enumerable:!0,get:()=>n[t]})}}return e.default=n,Object.freeze(e)}const Ue=X(z);function B(){}function Gi(n,e){for(const t in e)n[t]=e[t];return n}function jt(n){return n()}function Gt(){return Object.create(null)}function ge(n){n.forEach(jt)}function qt(n){return typeof n=="function"}function be(n,e){return n!=n?e==e:n!==e||n&&typeof n=="object"||typeof n=="function"}let Je;function J(n,e){return n===e?!0:(Je||(Je=document.createElement("a")),Je.href=e,n===Je.href)}function qi(n){return Object.keys(n).length===0}function Qi(n,e,t,i){if(n){const r=Qt(n,e,t,i);return n[0](r)}}function Qt(n,e,t,i){return n[1]&&i?Gi(t.ctx.slice(),n[1](i(e))):t.ctx}function Zi(n,e,t,i){if(n[2]&&i){const r=n[2](i(t));if(e.dirty===void 0)return r;if(typeof r=="object"){const s=[],u=Math.max(e.dirty.length,r.length);for(let o=0;o<u;o+=1)s[o]=e.dirty[o]|r[o];return s}return e.dirty|r}return e.dirty}function Hi(n,e,t,i,r,s){if(r){const u=Qt(e,t,i,s);n.p(u,r)}}function Vi(n){if(n.ctx.length>32){const e=[],t=n.ctx.length/32;for(let i=0;i<t;i++)e[i]=-1;return e}return-1}function Zt(n){return n??""}function I(n,e){n.appendChild(e)}function F(n,e,t){n.insertBefore(e,t||null)}function D(n){n.parentNode&&n.parentNode.removeChild(n)}function W(n){return document.createElement(n)}function ue(n){return document.createElementNS("http://www.w3.org/2000/svg",n)}function Ee(n){return document.createTextNode(n)}function re(){return Ee(" ")}function Yi(){return Ee("")}function ee(n,e,t,i){return n.addEventListener(e,t,i),()=>n.removeEventListener(e,t,i)}function Ki(n){return function(e){return e.preventDefault(),n.call(this,e)}}function b(n,e,t){t==null?n.removeAttribute(e):n.getAttribute(e)!==t&&n.setAttribute(e,t)}function Xi(n){return Array.from(n.childNodes)}function Fe(n,e){e=""+e,n.data!==e&&(n.data=e)}function Ht(n,e){n.value=e??""}function oe(n,e,t){n.classList.toggle(e,!!t)}function Ji(n,e,{bubbles:t=!1,cancelable:i=!1}={}){return new CustomEvent(n,{detail:e,bubbles:t,cancelable:i})}let je;function Ge(n){je=n}function Vt(){if(!je)throw new Error("Function called outside component initialization");return je}function $i(n){Vt().$$.on_destroy.push(n)}function en(){const n=Vt();return(e,t,{cancelable:i=!1}={})=>{const r=n.$$.callbacks[e];if(r){const s=Ji(e,t,{cancelable:i});return r.slice().forEach(u=>{u.call(n,s)}),!s.defaultPrevented}return!0}}function Yt(n,e){const t=n.$$.callbacks[e.type];t&&t.slice().forEach(i=>i.call(this,e))}const Ie=[],ht=[];let Oe=[];const Kt=[],tn=Promise.resolve();let gt=!1;function nn(){gt||(gt=!0,tn.then(Xt))}function mt(n){Oe.push(n)}const vt=new Set;let Ae=0;function Xt(){if(Ae!==0)return;const n=je;do{try{for(;Ae<Ie.length;){const e=Ie[Ae];Ae++,Ge(e),rn(e.$$)}}catch(e){throw Ie.length=0,Ae=0,e}for(Ge(null),Ie.length=0,Ae=0;ht.length;)ht.pop()();for(let e=0;e<Oe.length;e+=1){const t=Oe[e];vt.has(t)||(vt.add(t),t())}Oe.length=0}while(Ie.length);for(;Kt.length;)Kt.pop()();gt=!1,vt.clear(),Ge(n)}function rn(n){if(n.fragment!==null){n.update(),ge(n.before_update);const e=n.dirty;n.dirty=[-1],n.fragment&&n.fragment.p(n.ctx,e),n.after_update.forEach(mt)}}function sn(n){const e=[],t=[];Oe.forEach(i=>n.indexOf(i)===-1?e.push(i):t.push(i)),t.forEach(i=>i()),Oe=e}const $e=new Set;let Te;function et(){Te={r:0,c:[],p:Te}}function tt(){Te.r||ge(Te.c),Te=Te.p}function q(n,e){n&&n.i&&($e.delete(n),n.i(e))}function K(n,e,t,i){if(n&&n.o){if($e.has(n))return;$e.add(n),Te.c.push(()=>{$e.delete(n),i&&(t&&n.d(1),i())}),n.o(e)}else i&&i()}function Jt(n){return(n==null?void 0:n.length)!==void 0?n:Array.from(n)}function on(n,e){K(n,1,1,()=>{e.delete(n.key)})}function ln(n,e,t,i,r,s,u,o,c,l,d,a){let f=n.length,g=s.length,y=f;const w={};for(;y--;)w[n[y].key]=y;const h=[],v=new Map,p=new Map,E=[];for(y=g;y--;){const _=a(r,s,y),L=t(_);let k=u.get(L);k?E.push(()=>k.p(_,e)):(k=l(L,_),k.c()),v.set(L,h[y]=k),L in w&&p.set(L,Math.abs(y-w[L]))}const S=new Set,M=new Set;function C(_){q(_,1),_.m(o,d),u.set(_.key,_),d=_.first,g--}for(;f&&g;){const _=h[g-1],L=n[f-1],k=_.key,A=L.key;_===L?(d=_.first,f--,g--):v.has(A)?!u.has(k)||S.has(k)?C(_):M.has(A)?f--:p.get(k)>p.get(A)?(M.add(k),C(_)):(S.add(A),f--):(c(L,u),f--)}for(;f--;){const _=n[f];v.has(_.key)||c(_,u)}for(;g;)C(h[g-1]);return ge(E),h}function _e(n){n&&n.c()}function me(n,e,t){const{fragment:i,after_update:r}=n.$$;i&&i.m(e,t),mt(()=>{const s=n.$$.on_mount.map(jt).filter(qt);n.$$.on_destroy?n.$$.on_destroy.push(...s):ge(s),n.$$.on_mount=[]}),r.forEach(mt)}function ve(n,e){const t=n.$$;t.fragment!==null&&(sn(t.after_update),ge(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function un(n,e){n.$$.dirty[0]===-1&&(Ie.push(n),nn(),n.$$.dirty.fill(0)),n.$$.dirty[e/31|0]|=1<<e%31}function we(n,e,t,i,r,s,u=null,o=[-1]){const c=je;Ge(n);const l=n.$$={fragment:null,ctx:[],props:s,update:B,not_equal:r,bound:Gt(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(c?c.$$.context:[])),callbacks:Gt(),dirty:o,skip_bound:!1,root:e.target||c.$$.root};u&&u(l.root);let d=!1;if(l.ctx=t?t(n,e.props||{},(a,f,...g)=>{const y=g.length?g[0]:f;return l.ctx&&r(l.ctx[a],l.ctx[a]=y)&&(!l.skip_bound&&l.bound[a]&&l.bound[a](y),d&&un(n,a)),f}):[],l.update(),d=!0,ge(l.before_update),l.fragment=i?i(l.ctx):!1,e.target){if(e.hydrate){const a=Xi(e.target);l.fragment&&l.fragment.l(a),a.forEach(D)}else l.fragment&&l.fragment.c();e.intro&&q(n.$$.fragment),me(n,e.target,e.anchor),Xt()}Ge(c)}class Le{constructor(){ne(this,"$$");ne(this,"$$set")}$destroy(){ve(this,1),this.$destroy=B}$on(e,t){if(!qt(t))return B;const i=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return i.push(t),()=>{const r=i.indexOf(t);r!==-1&&i.splice(r,1)}}$set(e){this.$$set&&!qi(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const an="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(an);function cn(n){let e,t;return{c(){e=ue("svg"),t=ue("path"),b(t,"d","M13.12.706a.982.982 0 0 0-1.391 0L6.907 5.517 2.087.696a.982.982 0 1 0-1.391 1.39l4.821 4.821L.696 11.73a.982.982 0 1 0 1.39 1.39l4.821-4.821 4.822 4.821a.982.982 0 1 0 1.39-1.39L8.298 6.908l4.821-4.822a.988.988 0 0 0 0-1.38Z"),b(e,"viewBox","0 0 14 14"),b(e,"width","13"),b(e,"height","13"),b(e,"class","svelte-en2qvf")},m(i,r){F(i,e,r),I(e,t)},p:B,i:B,o:B,d(i){i&&D(e)}}}class $t extends Le{constructor(e){super(),we(this,e,null,cn,be,{})}}function fn(n){let e,t;return{c(){e=ue("svg"),t=ue("path"),b(t,"d","M15 0C6.705 0 0 6.705 0 15C0 23.295 6.705 30 15 30C23.295 30 30 23.295 30 15C30 6.705 23.295 0 15 0ZM22.5 20.385L20.385 22.5L15 17.115L9.615 22.5L7.5 20.385L12.885 15L7.5 9.615L9.615 7.5L15 12.885L20.385 7.5L22.5 9.615L17.115 15L22.5 20.385Z"),b(e,"viewBox","0 0 30 30"),b(e,"fill","none"),b(e,"xmlns","http://www.w3.org/2000/svg"),b(e,"class","svelte-d2loi5")},m(i,r){F(i,e,r),I(e,t)},p:B,i:B,o:B,d(i){i&&D(e)}}}class ei extends Le{constructor(e){super(),we(this,e,null,fn,be,{})}}function dn(n){let e,t;return{c(){e=W("img"),J(e.src,t=n[3]+"area.svg")||b(e,"src",t),b(e,"alt",n[6]),b(e,"class","svelte-ltkwvy")},m(i,r){F(i,e,r)},p(i,r){r&8&&!J(e.src,t=i[3]+"area.svg")&&b(e,"src",t),r&64&&b(e,"alt",i[6])},d(i){i&&D(e)}}}function hn(n){let e,t;return{c(){e=W("img"),J(e.src,t=n[3]+"reverse.svg")||b(e,"src",t),b(e,"alt",n[6]),b(e,"class","svelte-ltkwvy")},m(i,r){F(i,e,r)},p(i,r){r&8&&!J(e.src,t=i[3]+"reverse.svg")&&b(e,"src",t),r&64&&b(e,"alt",i[6])},d(i){i&&D(e)}}}function gn(n){let e,t;return{c(){e=W("img"),J(e.src,t=n[3]+"poi.svg")||b(e,"src",t),b(e,"alt",n[6]),b(e,"class","svelte-ltkwvy")},m(i,r){F(i,e,r)},p(i,r){r&8&&!J(e.src,t=i[3]+"poi.svg")&&b(e,"src",t),r&64&&b(e,"alt",i[6])},d(i){i&&D(e)}}}function mn(n){let e,t;return{c(){e=W("img"),J(e.src,t=n[3]+"postal_code.svg")||b(e,"src",t),b(e,"alt",n[6]),b(e,"class","svelte-ltkwvy")},m(i,r){F(i,e,r)},p(i,r){r&8&&!J(e.src,t=i[3]+"postal_code.svg")&&b(e,"src",t),r&64&&b(e,"alt",i[6])},d(i){i&&D(e)}}}function vn(n){let e,t;return{c(){e=W("img"),J(e.src,t=n[3]+"street.svg")||b(e,"src",t),b(e,"alt",n[6]),b(e,"class","svelte-ltkwvy")},m(i,r){F(i,e,r)},p(i,r){r&8&&!J(e.src,t=i[3]+"street.svg")&&b(e,"src",t),r&64&&b(e,"alt",i[6])},d(i){i&&D(e)}}}function yn(n){let e,t;return{c(){e=W("img"),J(e.src,t=n[3]+"road.svg")||b(e,"src",t),b(e,"alt",n[6]),b(e,"class","svelte-ltkwvy")},m(i,r){F(i,e,r)},p(i,r){r&8&&!J(e.src,t=i[3]+"road.svg")&&b(e,"src",t),r&64&&b(e,"alt",i[6])},d(i){i&&D(e)}}}function pn(n){let e,t;return{c(){e=W("img"),J(e.src,t=n[3]+"housenumber.svg")||b(e,"src",t),b(e,"alt",n[6]),b(e,"class","svelte-ltkwvy")},m(i,r){F(i,e,r)},p(i,r){r&8&&!J(e.src,t=i[3]+"housenumber.svg")&&b(e,"src",t),r&64&&b(e,"alt",i[6])},d(i){i&&D(e)}}}function bn(n){let e,t,i,r;return{c(){e=W("img"),J(e.src,t=n[5])||b(e,"src",t),b(e,"alt",n[4]),b(e,"class","svelte-ltkwvy")},m(s,u){F(s,e,u),i||(r=ee(e,"error",n[14]),i=!0)},p(s,u){u&32&&!J(e.src,t=s[5])&&b(e,"src",t),u&16&&b(e,"alt",s[4])},d(s){s&&D(e),i=!1,r()}}}function ti(n){let e,t;return{c(){e=W("span"),t=Ee(n[6]),b(e,"class","secondary svelte-ltkwvy")},m(i,r){F(i,e,r),I(e,t)},p(i,r){r&64&&Fe(t,i[6])},d(i){i&&D(e)}}}function En(n){let e,t,i,r,s,u,o,c,l,d=(n[7]?n[0].place_name:n[0].place_name.replace(/,.*/,""))+"",a,f,g=n[2]==="always"||n[2]!=="never"&&!n[0].address&&!n[0].id.startsWith("road.")&&!n[0].id.startsWith("address.")&&!n[0].id.startsWith("postal_code.")&&(!n[0].id.startsWith("poi.")||!n[5])&&!n[7],y,w,h=(n[7]?"":n[0].place_name.replace(/[^,]*,?\s*/,""))+"",v,p,E;function S(L,k){return k&1&&(t=null),k&1&&(i=null),k&1&&(r=null),k&1&&(s=null),L[5]?bn:L[0].address?pn:(t==null&&(t=!!L[0].id.startsWith("road.")),t?yn:(i==null&&(i=!!L[0].id.startsWith("address.")),i?vn:(r==null&&(r=!!L[0].id.startsWith("postal_code.")),r?mn:(s==null&&(s=!!L[0].id.startsWith("poi.")),s?gn:L[7]?hn:dn))))}let M=S(n,-1),C=M(n),_=g&&ti(n);return{c(){e=W("li"),C.c(),u=re(),o=W("span"),c=W("span"),l=W("span"),a=Ee(d),f=re(),_&&_.c(),y=re(),w=W("span"),v=Ee(h),b(l,"class","primary svelte-ltkwvy"),b(c,"class","svelte-ltkwvy"),b(w,"class","line2 svelte-ltkwvy"),b(o,"class","texts svelte-ltkwvy"),b(e,"tabindex","0"),b(e,"data-selected",n[1]),b(e,"class","svelte-ltkwvy"),oe(e,"selected",n[1])},m(L,k){F(L,e,k),C.m(e,null),I(e,u),I(e,o),I(o,c),I(c,l),I(l,a),I(c,f),_&&_.m(c,null),I(o,y),I(o,w),I(w,v),p||(E=[ee(e,"mouseenter",n[12]),ee(e,"focus",n[13])],p=!0)},p(L,[k]){M===(M=S(L,k))&&C?C.p(L,k):(C.d(1),C=M(L),C&&(C.c(),C.m(e,u))),k&1&&d!==(d=(L[7]?L[0].place_name:L[0].place_name.replace(/,.*/,""))+"")&&Fe(a,d),k&37&&(g=L[2]==="always"||L[2]!=="never"&&!L[0].address&&!L[0].id.startsWith("road.")&&!L[0].id.startsWith("address.")&&!L[0].id.startsWith("postal_code.")&&(!L[0].id.startsWith("poi.")||!L[5])&&!L[7]),g?_?_.p(L,k):(_=ti(L),_.c(),_.m(c,null)):_&&(_.d(1),_=null),k&1&&h!==(h=(L[7]?"":L[0].place_name.replace(/[^,]*,?\s*/,""))+"")&&Fe(v,h),k&2&&b(e,"data-selected",L[1]),k&2&&oe(e,"selected",L[1])},i:B,o:B,d(L){L&&D(e),C.d(),_&&_.d(),p=!1,ge(E)}}}function _n(n,e,t){var E;let i,r,{feature:s}=e,{selected:u=!1}=e,{showPlaceType:o}=e,{missingIconsCache:c}=e,{iconsBaseUrl:l}=e;const d=(E=s.properties)==null?void 0:E.categories;let a,f,g=0,y=s.place_type[0]==="reverse";function w(){f&&c.add(f),t(10,g++,g)}function h(S){Yt.call(this,n,S)}function v(S){Yt.call(this,n,S)}const p=()=>w();return n.$$set=S=>{"feature"in S&&t(0,s=S.feature),"selected"in S&&t(1,u=S.selected),"showPlaceType"in S&&t(2,o=S.showPlaceType),"missingIconsCache"in S&&t(9,c=S.missingIconsCache),"iconsBaseUrl"in S&&t(3,l=S.iconsBaseUrl)},n.$$.update=()=>{var S,M,C,_;if(n.$$.dirty&3640)do t(11,i--,i),t(4,a=d==null?void 0:d[i]),t(5,f=a?l+a.replace(/ /g,"_")+".svg":void 0);while(i>-1&&(!f||c.has(f)));n.$$.dirty&1&&t(6,r=((M=(S=s.properties)==null?void 0:S.categories)==null?void 0:M.join(", "))??((_=(C=s.properties)==null?void 0:C.place_type_name)==null?void 0:_[0])??s.place_type[0])},t(11,i=(d==null?void 0:d.length)??0),[s,u,o,l,a,f,r,y,w,c,g,i,h,v,p]}class wn extends Le{constructor(e){super(),we(this,e,_n,En,be,{feature:0,selected:1,showPlaceType:2,missingIconsCache:9,iconsBaseUrl:3})}}function Ln(n){let e;return{c(){e=W("div"),e.innerHTML='<svg viewBox="0 0 18 18" width="24" height="24" class="svelte-7cmwmc"><path fill="#333" d="M4.4 4.4l.8.8c2.1-2.1 5.5-2.1 7.6 0l.8-.8c-2.5-2.5-6.7-2.5-9.2 0z"></path><path opacity=".1" d="M12.8 12.9c-2.1 2.1-5.5 2.1-7.6 0-2.1-2.1-2.1-5.5 0-7.7l-.8-.8c-2.5 2.5-2.5 6.7 0 9.2s6.6 2.5 9.2 0 2.5-6.6 0-9.2l-.8.8c2.2 2.1 2.2 5.6 0 7.7z"></path></svg>',b(e,"class","svelte-7cmwmc")},m(t,i){F(t,e,i)},p:B,i:B,o:B,d(t){t&&D(e)}}}class Sn extends Le{constructor(e){super(),we(this,e,null,Ln,be,{})}}function xn(n){let e,t,i;return{c(){e=ue("svg"),t=ue("path"),b(t,"stroke-width","4"),b(t,"d","M 5,33.103579 C 5,17.607779 18.457,5 35,5 C 51.543,5 65,17.607779 65,33.103579 C 65,56.388679 40.4668,76.048179 36.6112,79.137779 C 36.3714,79.329879 36.2116,79.457979 36.1427,79.518879 C 35.8203,79.800879 35.4102,79.942779 35,79.942779 C 34.5899,79.942779 34.1797,79.800879 33.8575,79.518879 C 33.7886,79.457979 33.6289,79.330079 33.3893,79.138079 C 29.5346,76.049279 5,56.389379 5,33.103579 Z M 35.0001,49.386379 C 43.1917,49.386379 49.8323,42.646079 49.8323,34.331379 C 49.8323,26.016779 43.1917,19.276479 35.0001,19.276479 C 26.8085,19.276479 20.1679,26.016779 20.1679,34.331379 C 20.1679,42.646079 26.8085,49.386379 35.0001,49.386379 Z"),b(t,"class","svelte-gzo3ar"),b(e,"width",i=n[0]==="list"?20:void 0),b(e,"viewBox","0 0 70 85"),b(e,"fill","none"),b(e,"class","svelte-gzo3ar"),oe(e,"in-map",n[0]!=="list"),oe(e,"list-icon",n[0]==="list")},m(r,s){F(r,e,s),I(e,t)},p(r,[s]){s&1&&i!==(i=r[0]==="list"?20:void 0)&&b(e,"width",i),s&1&&oe(e,"in-map",r[0]!=="list"),s&1&&oe(e,"list-icon",r[0]==="list")},i:B,o:B,d(r){r&&D(e)}}}function Mn(n,e,t){let{displayIn:i}=e;return n.$$set=r=>{"displayIn"in r&&t(0,i=r.displayIn)},[i]}class Cn extends Le{constructor(e){super(),we(this,e,Mn,xn,be,{displayIn:0})}}function kn(n){let e,t;return{c(){e=ue("svg"),t=ue("path"),b(t,"d","M30.003-26.765C13.46-26.765 0-14.158 0 1.337c0 23.286 24.535 42.952 28.39 46.04.24.192.402.316.471.376.323.282.732.424 1.142.424.41 0 .82-.142 1.142-.424.068-.06.231-.183.471-.376 3.856-3.09 28.39-22.754 28.39-46.04 0-15.495-13.46-28.102-30.003-28.102Zm1.757 12.469c4.38 0 7.858 1.052 10.431 3.158 2.595 2.105 3.89 4.913 3.89 8.422 0 2.34-.53 4.362-1.593 6.063-1.063 1.702-3.086 3.616-6.063 5.742-2.042 1.51-3.337 2.659-3.89 3.446-.532.787-.8 1.82-.8 3.096v1.914h-8.449V15.18c0-2.041.434-3.815 1.306-5.325.872-1.51 2.467-3.118 4.785-4.82 2.233-1.594 3.7-2.89 4.402-3.889a5.582 5.582 0 0 0 1.087-3.35c0-1.382-.51-2.435-1.531-3.158-1.02-.723-2.45-1.087-4.28-1.087-3.19 0-6.826 1.047-10.91 3.131l-3.472-6.986c4.742-2.659 9.77-3.992 15.087-3.992Zm-1.88 37.324c1.765 0 3.124.472 4.08 1.408.98.936 1.47 2.276 1.47 4.02 0 1.68-.49 3.007-1.47 3.985-.977.957-2.336 1.435-4.08 1.435-1.787 0-3.171-.465-4.15-1.4-.978-.958-1.47-2.298-1.47-4.02 0-1.787.48-3.14 1.436-4.054.957-.915 2.355-1.374 4.184-1.374Z"),b(e,"viewBox","0 0 60.006 21.412"),b(e,"width","14"),b(e,"height","20"),b(e,"class","svelte-en2qvf")},m(i,r){F(i,e,r),I(e,t)},p:B,i:B,o:B,d(i){i&&D(e)}}}class Nn extends Le{constructor(e){super(),we(this,e,null,kn,be,{})}}function Tn(n){let e,t,i;return{c(){e=ue("svg"),t=ue("circle"),i=ue("path"),b(t,"cx","4.789"),b(t,"cy","4.787"),b(t,"r","3.85"),b(t,"class","svelte-1aq105l"),b(i,"d","M12.063 12.063 7.635 7.635"),b(i,"class","svelte-1aq105l"),b(e,"xmlns","http://www.w3.org/2000/svg"),b(e,"width","13"),b(e,"height","13"),b(e,"viewBox","0 0 13 13"),b(e,"class","svelte-1aq105l")},m(r,s){F(r,e,s),I(e,t),I(e,i)},p:B,i:B,o:B,d(r){r&&D(e)}}}class Rn extends Le{constructor(e){super(),we(this,e,null,Tn,be,{})}}function Pn(n,e,t){const i=e[1],r=e[0],s=i-r;return n===i&&t?n:((n-r)%s+s)%s+r}function it(n){const e=[...n];return e[2]<e[0]&&(Math.abs((e[0]+e[2]+360)/2)>Math.abs((e[0]-360+e[2])/2)?e[0]-=360:e[2]+=360),e}let qe;async function In(n,e,t){const i=n==null?void 0:n.getCenterAndZoom();for(const r of e??[])if(!(i&&(r.minZoom!=null&&r.minZoom>i[0]||r.maxZoom!=null&&r.maxZoom<i[0]))){if(r.type==="fixed")return r.coordinates.join(",");e:if(r.type==="client-geolocation"){if(qe&&r.cachedLocationExpiry&&qe.time+r.cachedLocationExpiry>Date.now()){if(!qe.coords)break e;return qe.coords}let s;try{return s=await new Promise((u,o)=>{t.signal.addEventListener("abort",()=>{o(Error("aborted"))}),navigator.geolocation.getCurrentPosition(c=>{u([c.coords.longitude,c.coords.latitude].map(l=>l.toFixed(6)).join(","))},c=>{o(c)},r)}),s}catch{}finally{r.cachedLocationExpiry&&(qe={time:Date.now(),coords:s})}if(t.signal.aborted)return}if(r.type==="server-geolocation")return"ip";if(i&&r.type==="map-center")return i[1].toFixed(6)+","+i[2].toFixed(6)}}const On=/^(NORTH|SOUTH|[NS])?\s*([+-]?[0-8]?[0-9])\s*([•º°\.:]|D(?:EG)?(?:REES)?)?\s*,?([6-9][0-9])\s*(['′´’\.:]|M(?:IN)?(?:UTES)?)?\s*(NORTH|SOUTH|[NS])?(?:\s*[,/;]\s*|\s*)(EAST|WEST|[EW])?\s*([+-]?[0-1]?[0-9]?[0-9])\s*([•º°\.:]|D(?:EG)?(?:REES)?)?\s*,?([6-9][0-9])\s*(['′´’\.:]|M(?:IN)?(?:UTES)?)?\s*(EAST|WEST|[EW])?$/i,ii=/^([+-]?[0-8]?[0-9])\s+([0-5]?[0-9]\.\d{3,})[\s,]{1,}([+-]?[0-1]?[0-9]?[0-9])\s+([0-5]?[0-9]\.\d{3,})$/,ni=/^(NORTH|SOUTH|[NS])?[\s]*([+-]?[0-8]?[0-9](?:[\.,]\d{3,}))[\s]*([•º°]?)[\s]*(NORTH|SOUTH|[NS])?[\s]*[,/;]?[\s]*(EAST|WEST|[EW])?[\s]*([+-]?[0-1]?[0-9]?[0-9](?:[\.,]\d{3,}))[\s]*([•º°]?)[\s]*(EAST|WEST|[EW])?$/i,ri=/^(NORTH|SOUTH|[NS])?\s*([+-]?[0-8]?[0-9])\s*(\.)\s*([0-5]?[0-9])\s*(\.)\s*((?:[0-5]?[0-9])(?:[\.,]\d{1,3})?)?\s*(NORTH|SOUTH|[NS])?(?:\s*[,/;]\s*|\s*)(EAST|WEST|[EW])?\s*([+-]?[0-1]?[0-9]?[0-9])\s*(\.)\s*([0-5]?[0-9])\s*(\.)\s*((?:[0-5]?[0-9])(?:[\.,]\d{1,3})?)?\s*(EAST|WEST|[EW])?$/i,si=/^(NORTH|SOUTH|[NS])?\s*([+-]?[0-8]?[0-9])\s*(D(?:EG)?(?:REES)?)\s*([0-5]?[0-9])\s*(M(?:IN)?(?:UTES)?)\s*((?:[0-5]?[0-9])(?:[\.,]\d{1,3})?)?\s*(S(?:EC)?(?:ONDS)?)?\s*(NORTH|SOUTH|[NS])?(?:\s*[,/;]\s*|\s*)(EAST|WEST|[EW])?\s*([+-]?[0-1]?[0-9]?[0-9])\s*(D(?:EG)?(?:REES)?)\s*([0-5]?[0-9])\s*(M(?:IN)?(?:UTES)?)\s*((?:[0-5]?[0-9])(?:[\.,]\d{1,3})?)?\s*(S(?:EC)?(?:ONDS)?)\s*(EAST|WEST|[EW])?$/i,oi=/^(NORTH|SOUTH|[NS])?\s*([+-]?[0-8]?[0-9])\s*([•º°\.:]|D(?:EG)?(?:REES)?)?\s*,?([0-5]?[0-9](?:[\.,]\d{1,})?)?\s*(['′´’\.:]|M(?:IN)?(?:UTES)?)?\s*,?((?:[0-5]?[0-9])(?:[\.,]\d{1,3})?)?\s*(''|′′|’’|´´|["″”\.])?\s*(NORTH|SOUTH|[NS])?(?:\s*[,/;]\s*|\s*)(EAST|WEST|[EW])?\s*([+-]?[0-1]?[0-9]?[0-9])\s*([•º°\.:]|D(?:EG)?(?:REES)?)?\s*,?([0-5]?[0-9](?:[\.,]\d{1,})?)?\s*(['′´’\.:]|M(?:IN)?(?:UTES)?)?\s*,?((?:[0-5]?[0-9])(?:[\.,]\d{1,3})?)?\s*(''|′′|´´|’’|["″”\.])?\s*(EAST|WEST|[EW])?$/i;function An(n){if(!["DMS","DM","DD"].includes(n))throw new Error("invalid format specified");if(this.decimalCoordinates&&this.decimalCoordinates.trim()){const e=this.decimalCoordinates.split(",").map(g=>Number(g.trim())),t=Number(e[0]),i=Number(e[1]),r=Math.abs(t),s=Math.abs(i),u=t>0?"N":"S",o=i>0?"E":"W";let c;n=="DD"&&(c=`${r}° ${u}, ${s}° ${o}`);const l=Math.floor(r),d=Math.floor(s),a=(r-l)*60,f=(s-d)*60;if(n=="DM"){let g=li(a,3).toFixed(3).padStart(6,"0"),y=li(f,3).toFixed(3).padStart(6,"0");g.endsWith(".000")&&y.endsWith(".000")&&(g=g.replace(/\.000$/,""),y=y.replace(/\.000$/,"")),c=`${l}° ${g}' ${u}, ${d}° ${y}' ${o}`}if(n=="DMS"){const g=Math.floor(a),y=Math.floor(f);let w=((a-g)*60).toFixed(1).padStart(4,"0"),h=((f-y)*60).toFixed(1).padStart(4,"0");const v=g.toString().padStart(2,"0"),p=y.toString().padStart(2,"0");w.endsWith(".0")&&h.endsWith(".0")&&(w=w.replace(/\.0$/,""),h=h.replace(/\.0$/,"")),c=`${l}° ${v}' ${w}" ${u}, ${d}° ${p}' ${h}" ${o}`}return c}else throw new Error("no decimal coordinates to convert")}function li(n,e){const t=Math.pow(10,e);return Math.round((n+Number.EPSILON)*t)/t}function yt(n,e){e||(e=5),n=n.replace(/\s+/g," ").trim();let t=null,i=null,r="",s="",u=null,o=[],c=!1;if(On.test(n))throw new Error("invalid coordinate value");if(ii.test(n))if(o=ii.exec(n),c=Qe(o),c)t=Math.abs(o[1])+o[2]/60,Number(o[1])<0&&(t*=-1),i=Math.abs(o[3])+o[4]/60,Number(o[3])<0&&(i*=-1),u="DM";else throw new Error("invalid coordinate format");else if(ni.test(n))if(o=ni.exec(n),c=Qe(o),c){if(t=o[2],i=o[6],t.includes(",")&&(t=t.replace(",",".")),i.includes(",")&&(i=i.replace(",",".")),u="DD",Number(Math.round(t))==Number(t))throw new Error("integer only coordinate provided");if(Number(Math.round(i))==Number(i))throw new Error("integer only coordinate provided");o[1]?(r=o[1],s=o[5]):o[4]&&(r=o[4],s=o[8])}else throw new Error("invalid decimal coordinate format");else if(ri.test(n))if(o=ri.exec(n),c=Qe(o),c)t=Math.abs(parseInt(o[2])),o[4]&&(t+=o[4]/60,u="DM"),o[6]&&(t+=o[6].replace(",",".")/3600,u="DMS"),parseInt(o[2])<0&&(t=-1*t),i=Math.abs(parseInt(o[9])),o[11]&&(i+=o[11]/60),o[13]&&(i+=o[13].replace(",",".")/3600),parseInt(o[9])<0&&(i=-1*i),o[1]?(r=o[1],s=o[8]):o[7]&&(r=o[7],s=o[14]);else throw new Error("invalid DMS coordinates format");else if(si.test(n))if(o=si.exec(n),c=Qe(o),c)t=Math.abs(parseInt(o[2])),o[4]&&(t+=o[4]/60,u="DM"),o[6]&&(t+=o[6]/3600,u="DMS"),parseInt(o[2])<0&&(t=-1*t),i=Math.abs(parseInt(o[10])),o[12]&&(i+=o[12]/60),o[14]&&(i+=o[14]/3600),parseInt(o[10])<0&&(i=-1*i),o[1]?(r=o[1],s=o[9]):o[8]&&(r=o[8],s=o[16]);else throw new Error("invalid DMS coordinates format");else if(oi.test(n)){if(o=oi.exec(n),c=Qe(o),o.filter(l=>l).length<=5)throw new Error("invalid coordinates format");if(c)t=Math.abs(parseInt(o[2])),o[4]&&(t+=o[4].replace(",",".")/60,u="DM"),o[6]&&(t+=o[6].replace(",",".")/3600,u="DMS"),parseInt(o[2])<0&&(t=-1*t),i=Math.abs(parseInt(o[10])),o[12]&&(i+=o[12].replace(",",".")/60),o[14]&&(i+=o[14].replace(",",".")/3600),parseInt(o[10])<0&&(i=-1*i),o[1]?(r=o[1],s=o[9]):o[8]&&(r=o[8],s=o[16]);else throw new Error("invalid coordinates format")}if(c){if(Math.abs(i)>=180)throw new Error("invalid longitude value");if(Math.abs(t)>=90)throw new Error("invalid latitude value");if(r&&!s||!r&&s)throw new Error("invalid coordinates value");if(r&&r==s)throw new Error("invalid coordinates format");t.toString().includes(",")&&(t=t.replace(",",".")),i.toString().includes(",")&&(i=i.replace(",","."));let l=/S|SOUTH/i;l.test(r)&&t>0&&(t=-1*t),l=/W|WEST/i,l.test(s)&&i>0&&(i=-1*i);const d=o[0].trim();let a,f;const g=/[,/;\u0020]/g,y=d.match(g);if(y==null){const v=Math.floor(n.length/2);a=d.substring(0,v).trim(),f=d.substring(v).trim()}else{let v;y.length%2==1?v=Math.floor(y.length/2):v=y.length/2-1;let p=0;if(v==0)p=d.indexOf(y[0]),a=d.substring(0,p).trim(),f=d.substring(p+1).trim();else{let E=0,S=0;for(;E<=v;)p=d.indexOf(y[E],S),S=p+1,E++;a=d.substring(0,p).trim(),f=d.substring(p+1).trim()}}const w=a.split(".");if(w.length==2&&w[1]==0&&w[1].length!=2)throw new Error("invalid coordinates format");const h=f.split(".");if(h.length==2&&h[1]==0&&h[1].length!=2)throw new Error("invalid coordinates format");if(/^\d+$/.test(a)||/^\d+$/.test(f))throw new Error("degree only coordinate/s provided");return t=Number(Number(t).toFixed(e)),i=Number(Number(i).toFixed(e)),Object.freeze({verbatimCoordinates:d,verbatimLatitude:a,verbatimLongitude:f,decimalLatitude:t,decimalLongitude:i,decimalCoordinates:`${t},${i}`,originalFormat:u,closeEnough:Wn,toCoordinateFormat:An})}else throw new Error("coordinates pattern match failed")}function Qe(n){if(!isNaN(n[0]))return!1;const e=[...n];if(e.shift(),e.length%2>0)return!1;const t=/^[-+]?\d+([\.,]\d+)?$/,i=/[eastsouthnorthwest]+/i,r=e.length/2;for(let s=0;s<r;s++){const u=e[s],o=e[s+r],c=t.test(u)&&t.test(o),l=i.test(u)&&i.test(o),d=u==o;if(!(u==null&&o==null)){if(u==null||o==null)return!1;if(c||l||d)continue;return!1}}return!0}function ui(n,e){const t=Math.abs(n-e);return Number(t.toFixed(6))<=1e-5}function Wn(n){if(!n)throw new Error("coords must be provided");if(n.includes(",")){const e=n.split(",");if(Number(e[0])==NaN||Number(e[1])==NaN)throw new Error("coords are not valid decimals");return ui(this.decimalLatitude,Number(e[0]))&&ui(this.decimalLongitude,e[1])}else throw new Error("coords being tested must be separated by a comma")}const zn=Object.freeze({DMS:"DMS",DM:"DM",DD:"DD"});yt.to=zn;const Bn=[{verbatimCoordinates:"40.123, -74.123",verbatimLatitude:"40.123",verbatimLongitude:"-74.123"},{verbatimCoordinates:"40.123° N 74.123° W",verbatimLatitude:"40.123° N",verbatimLongitude:"74.123° W"},{verbatimCoordinates:"40.123° N 74.123° W",verbatimLatitude:"40.123° N",verbatimLongitude:"74.123° W"},{verbatimCoordinates:'40° 7´ 22.8" N 74° 7´ 22.8" W',verbatimLatitude:'40° 7´ 22.8" N',verbatimLongitude:'74° 7´ 22.8" W'},{verbatimCoordinates:"40° 7.38’ , -74° 7.38’",verbatimLatitude:"40° 7.38’",verbatimLongitude:"-74° 7.38’"},{verbatimCoordinates:"N40°7’22.8’’, W74°7’22.8’’",verbatimLatitude:"N40°7’22.8’’",verbatimLongitude:"W74°7’22.8’’"},{verbatimCoordinates:'40°7’22.8"N, 74°7’22.8"W',verbatimLatitude:'40°7’22.8"N',verbatimLongitude:'74°7’22.8"W'},{verbatimCoordinates:`40°7'22.8"N, 74°7'22.8"W`,verbatimLatitude:`40°7'22.8"N`,verbatimLongitude:`74°7'22.8"W`},{verbatimCoordinates:"40 7 22.8, -74 7 22.8",verbatimLatitude:"40 7 22.8",verbatimLongitude:"-74 7 22.8"},{verbatimCoordinates:"40.123 -74.123",verbatimLatitude:"40.123",verbatimLongitude:"-74.123"},{verbatimCoordinates:"40.123°,-74.123°",verbatimLatitude:"40.123°",verbatimLongitude:"-74.123°"},{verbatimCoordinates:"40.123N74.123W",verbatimLatitude:"40.123N",verbatimLongitude:"74.123W"},{verbatimCoordinates:"4007.38N7407.38W",verbatimLatitude:"4007.38N",verbatimLongitude:"7407.38W"},{verbatimCoordinates:'40°7’22.8"N, 74°7’22.8"W',verbatimLatitude:'40°7’22.8"N',verbatimLongitude:'74°7’22.8"W'},{verbatimCoordinates:"400722.8N740722.8W",verbatimLatitude:"400722.8N",verbatimLongitude:"740722.8W"},{verbatimCoordinates:"N 40 7.38 W 74 7.38",verbatimLatitude:"N 40 7.38",verbatimLongitude:"W 74 7.38"},{verbatimCoordinates:"40:7:22.8N 74:7:22.8W",verbatimLatitude:"40:7:22.8N",verbatimLongitude:"74:7:22.8W"},{verbatimCoordinates:"40:7:23N,74:7:23W",verbatimLatitude:"40:7:23N",verbatimLongitude:"74:7:23W",decimalLatitude:40.1230555555,decimalLongitude:-74.1230555555},{verbatimCoordinates:'40°7’23"N 74°7’23"W',verbatimLatitude:'40°7’23"N',verbatimLongitude:'74°7’23"W',decimalLatitude:40.1230555555,decimalLongitude:-74.12305555555555},{verbatimCoordinates:'40°7’23"S 74°7’23"E',verbatimLatitude:'40°7’23"S',verbatimLongitude:'74°7’23"E',decimalLatitude:-40.1230555555,decimalLongitude:74.12305555555555},{verbatimCoordinates:'40°7’23" -74°7’23"',verbatimLatitude:'40°7’23"',verbatimLongitude:'-74°7’23"',decimalLatitude:40.1230555555,decimalLongitude:-74.123055555},{verbatimCoordinates:'40d 7’ 23" N 74d 7’ 23" W',verbatimLatitude:'40d 7’ 23" N',verbatimLongitude:'74d 7’ 23" W',decimalLatitude:40.1230555555,decimalLongitude:-74.123055555},{verbatimCoordinates:"40.123N 74.123W",verbatimLatitude:"40.123N",verbatimLongitude:"74.123W"},{verbatimCoordinates:"40° 7.38, -74° 7.38",verbatimLatitude:"40° 7.38",verbatimLongitude:"-74° 7.38"},{verbatimCoordinates:"40° 7.38, -74° 7.38",verbatimLatitude:"40° 7.38",verbatimLongitude:"-74° 7.38"},{verbatimCoordinates:"40 7 22.8; -74 7 22.8",verbatimLatitude:"40 7 22.8",verbatimLongitude:"-74 7 22.8"}],Dn={decimalLatitude:40.123,decimalLongitude:-74.123},Un=[{verbatimCoordinates:`50°4'17.698"south, 14°24'2.826"east`,verbatimLatitude:`50°4'17.698"south`,verbatimLongitude:`14°24'2.826"east`,decimalLatitude:-50.07158277777778,decimalLongitude:14.400785},{verbatimCoordinates:"50d4m17.698S 14d24m2.826E",verbatimLatitude:"50d4m17.698S",verbatimLongitude:"14d24m2.826E",decimalLatitude:-50.07158277777778,decimalLongitude:14.400785},{verbatimCoordinates:"40:26:46N,79:56:55W",verbatimLatitude:"40:26:46N",verbatimLongitude:"79:56:55W",decimalLatitude:40.44611111111111,decimalLongitude:-79.9486111111111},{verbatimCoordinates:"40:26:46.302N 79:56:55.903W",verbatimLatitude:"40:26:46.302N",verbatimLongitude:"79:56:55.903W",decimalLatitude:40.446195,decimalLongitude:-79.94886194444445},{verbatimCoordinates:"40°26′47″N 79°58′36″W",verbatimLatitude:"40°26′47″N",verbatimLongitude:"79°58′36″W",decimalLatitude:40.44638888888889,decimalLongitude:-79.97666666666667},{verbatimCoordinates:"40d 26′ 47″ N 79d 58′ 36″ W",verbatimLatitude:"40d 26′ 47″ N",verbatimLongitude:"79d 58′ 36″ W",decimalLatitude:40.44638888888889,decimalLongitude:-79.97666666666667},{verbatimCoordinates:"40.446195N 79.948862W",verbatimLatitude:"40.446195N",verbatimLongitude:"79.948862W",decimalLatitude:40.446195,decimalLongitude:-79.948862},{verbatimCoordinates:"40,446195° 79,948862°",verbatimLatitude:"40,446195°",verbatimLongitude:"79,948862°",decimalLatitude:40.446195,decimalLongitude:79.948862},{verbatimCoordinates:"40° 26.7717, -79° 56.93172",verbatimLatitude:"40° 26.7717",verbatimLongitude:"-79° 56.93172",decimalLatitude:40.446195,decimalLongitude:-79.948862},{verbatimCoordinates:"40.446195, -79.948862",verbatimLatitude:"40.446195",verbatimLongitude:"-79.948862",decimalLatitude:40.446195,decimalLongitude:-79.948862},{verbatimCoordinates:"40.123256; -74.123256",verbatimLatitude:"40.123256",verbatimLongitude:"-74.123256",decimalLatitude:40.123256,decimalLongitude:-74.123256},{verbatimCoordinates:"18°24S 22°45E",verbatimLatitude:"18°24S",verbatimLongitude:"22°45E",decimalLatitude:-18.4,decimalLongitude:22.75}],Fn=[{verbatimCoordinates:"10.432342S 10.6345345E",verbatimLatitude:"10.432342S",verbatimLongitude:"10.6345345E",decimalLatitude:-10.432342,decimalLongitude:10.6345345},{verbatimCoordinates:"10.00S 10.00E",verbatimLatitude:"10.00S",verbatimLongitude:"10.00E",decimalLatitude:-10,decimalLongitude:10},{verbatimCoordinates:"00.00S 01.00E",verbatimLatitude:"00.00S",verbatimLongitude:"01.00E",decimalLatitude:0,decimalLongitude:1},{verbatimCoordinates:"18.24S 22.45E",verbatimLatitude:"18.24S",verbatimLongitude:"22.45E",decimalLatitude:-18.4,decimalLongitude:22.75},{verbatimCoordinates:"27deg 15min 45.2sec S 18deg 32min 53.7sec E",verbatimLatitude:"27deg 15min 45.2sec S",verbatimLongitude:"18deg 32min 53.7sec E",decimalLatitude:-27.262555555555554,decimalLongitude:18.54825},{verbatimCoordinates:"-23.3245° S / 28.2344° E",verbatimLatitude:"-23.3245° S",verbatimLongitude:"28.2344° E",decimalLatitude:-23.3245,decimalLongitude:28.2344},{verbatimCoordinates:"40° 26.7717 -79° 56.93172",verbatimLatitude:"40° 26.7717",verbatimLongitude:"-79° 56.93172",decimalLatitude:40.446195,decimalLongitude:-79.948862},{verbatimCoordinates:"27.15.45S 18.32.53E",verbatimLatitude:"27.15.45S",verbatimLongitude:"18.32.53E",decimalLatitude:-27.2625,decimalLongitude:18.548055},{verbatimCoordinates:"-27.15.45 18.32.53",verbatimLatitude:"-27.15.45",verbatimLongitude:"18.32.53",decimalLatitude:-27.2625,decimalLongitude:18.548055},{verbatimCoordinates:"27.15.45.2S 18.32.53.4E",verbatimLatitude:"27.15.45.2S",verbatimLongitude:"18.32.53.4E",decimalLatitude:-27.262556,decimalLongitude:18.548167},{verbatimCoordinates:"27.15.45,2S 18.32.53,4E",verbatimLatitude:"27.15.45,2S",verbatimLongitude:"18.32.53,4E",decimalLatitude:-27.262556,decimalLongitude:18.548167},{verbatimCoordinates:"S23.43563 °  E22.45634 °",verbatimLatitude:"S23.43563 °",verbatimLongitude:"E22.45634 °",decimalLatitude:-23.43563,decimalLongitude:22.45634},{verbatimCoordinates:"27,71372° S 23,07771° E",verbatimLatitude:"27,71372° S",verbatimLongitude:"23,07771° E",decimalLatitude:-27.71372,decimalLongitude:23.07771},{verbatimCoordinates:"27.45.34 S 23.23.23 E",verbatimLatitude:"27.45.34 S",verbatimLongitude:"23.23.23 E",decimalLatitude:-27.759444,decimalLongitude:23.38972222},{verbatimCoordinates:"S 27.45.34 E 23.23.23",verbatimLatitude:"S 27.45.34",verbatimLongitude:"E 23.23.23",decimalLatitude:-27.759444,decimalLongitude:23.38972222},{verbatimCoordinates:"53 16.3863,4 52.8171",verbatimLatitude:"53 16.3863",verbatimLongitude:"4 52.8171",decimalLatitude:53.273105,decimalLongitude:4.88029},{verbatimCoordinates:"50 8.2914,-5 2.4447",verbatimLatitude:"50 8.2914",verbatimLongitude:"-5 2.4447",decimalLatitude:50.13819,decimalLongitude:-5.040745},{verbatimCoordinates:"N 48° 30,6410', E 18° 57,4583'",verbatimLatitude:"N 48° 30,6410'",verbatimLongitude:"E 18° 57,4583'",decimalLatitude:48.51068,decimalLongitude:18.95764},{verbatimCoordinates:"1.23456, 18.33453",verbatimLatitude:"1.23456",verbatimLongitude:"18.33453",decimalLatitude:1.23456,decimalLongitude:18.33453}];function jn(){const n=[];return Bn.forEach(e=>{e.decimalLatitude?n.push(e):n.push({...e,...Dn})}),[...n,...Un,...Fn]}const Gn=jn();yt.formats=Gn.map(n=>n.verbatimCoordinates);const qn=yt;function ai(n,e,t){const i=n.slice();return i[84]=e[t],i[86]=t,i}function ci(n){let e,t;return e=new Sn({}),{c(){_e(e.$$.fragment)},m(i,r){me(e,i,r),t=!0},i(i){t||(q(e.$$.fragment,i),t=!0)},o(i){K(e.$$.fragment,i),t=!1},d(i){ve(e,i)}}}function fi(n){let e,t,i,r,s;return t=new Nn({}),{c(){e=W("button"),_e(t.$$.fragment),b(e,"type","button"),b(e,"title",n[9]),b(e,"class","svelte-bz0zu3"),oe(e,"active",n[0])},m(u,o){F(u,e,o),me(t,e,null),i=!0,r||(s=ee(e,"click",n[69]),r=!0)},p(u,o){(!i||o[0]&512)&&b(e,"title",u[9]),(!i||o[0]&1)&&oe(e,"active",u[0])},i(u){i||(q(t.$$.fragment,u),i=!0)},o(u){K(t.$$.fragment,u),i=!1},d(u){u&&D(e),ve(t),r=!1,s()}}}function Qn(n){let e,t=[],i=new Map,r,s,u,o=Jt(n[14]);const c=l=>l[84].id+(l[84].address?","+l[84].address:"");for(let l=0;l<o.length;l+=1){let d=ai(n,o,l),a=c(d);i.set(a,t[l]=di(a,d))}return{c(){e=W("ul");for(let l=0;l<t.length;l+=1)t[l].c();b(e,"class","options svelte-bz0zu3")},m(l,d){F(l,e,d);for(let a=0;a<t.length;a+=1)t[a]&&t[a].m(e,null);r=!0,s||(u=[ee(e,"mouseleave",n[73]),ee(e,"blur",n[74])],s=!0)},p(l,d){d[0]&17880064&&(o=Jt(l[14]),et(),t=ln(t,d,c,1,l,o,i,e,on,di,null,ai),tt())},i(l){if(!r){for(let d=0;d<o.length;d+=1)q(t[d]);r=!0}},o(l){for(let d=0;d<t.length;d+=1)K(t[d]);r=!1},d(l){l&&D(e);for(let d=0;d<t.length;d+=1)t[d].d();s=!1,ge(u)}}}function Zn(n){let e,t,i,r,s,u;return t=new ei({}),{c(){e=W("div"),_e(t.$$.fragment),i=re(),r=W("div"),s=Ee(n[7]),b(r,"class","svelte-bz0zu3"),b(e,"class","no-results svelte-bz0zu3")},m(o,c){F(o,e,c),me(t,e,null),I(e,i),I(e,r),I(r,s),u=!0},p(o,c){(!u||c[0]&128)&&Fe(s,o[7])},i(o){u||(q(t.$$.fragment,o),u=!0)},o(o){K(t.$$.fragment,o),u=!1},d(o){o&&D(e),ve(t)}}}function Hn(n){let e="",t;return{c(){t=Ee(e)},m(i,r){F(i,t,r)},p:B,i:B,o:B,d(i){i&&D(t)}}}function Vn(n){let e,t,i,r,s,u,o,c,l,d,a;return t=new ei({}),c=new $t({}),{c(){e=W("div"),_e(t.$$.fragment),i=re(),r=W("div"),s=Ee(n[6]),u=re(),o=W("button"),_e(c.$$.fragment),b(r,"class","svelte-bz0zu3"),b(o,"class","svelte-bz0zu3"),b(e,"class","error svelte-bz0zu3")},m(f,g){F(f,e,g),me(t,e,null),I(e,i),I(e,r),I(r,s),I(e,u),I(e,o),me(c,o,null),l=!0,d||(a=ee(o,"click",n[70]),d=!0)},p(f,g){(!l||g[0]&64)&&Fe(s,f[6])},i(f){l||(q(t.$$.fragment,f),q(c.$$.fragment,f),l=!0)},o(f){K(t.$$.fragment,f),K(c.$$.fragment,f),l=!1},d(f){f&&D(e),ve(t),ve(c),d=!1,a()}}}function di(n,e){let t,i,r;function s(){return e[71](e[86])}function u(){return e[72](e[84])}return i=new wn({props:{feature:e[84],showPlaceType:e[10],selected:e[15]===e[86],missingIconsCache:e[20],iconsBaseUrl:e[12]}}),i.$on("mouseenter",s),i.$on("focus",u),{key:n,first:null,c(){t=Yi(),_e(i.$$.fragment),this.first=t},m(o,c){F(o,t,c),me(i,o,c),r=!0},p(o,c){e=o;const l={};c[0]&16384&&(l.feature=e[84]),c[0]&1024&&(l.showPlaceType=e[10]),c[0]&49152&&(l.selected=e[15]===e[86]),c[0]&4096&&(l.iconsBaseUrl=e[12]),i.$set(l)},i(o){r||(q(i.$$.fragment,o),r=!0)},o(o){K(i.$$.fragment,o),r=!1},d(o){o&&D(t),ve(i,o)}}}function Yn(n){let e,t,i,r,s,u,o,c,l,d,a,f,g,y,w,h,v,p,E,S,M,C=!1;s=new Rn({}),a=new $t({});let _=n[19]&&ci(),L=n[5]==="button"&&fi(n);const k=n[61].default,A=Qi(k,n,n[60],null),Q=[Vn,Hn,Zn,Qn],N=[];function ie(x,U){var ce,pe;return x[18]?0:x[16]?((ce=x[14])==null?void 0:ce.length)===0?2:x[16]&&((pe=x[14])!=null&&pe.length)?3:-1:1}return~(h=ie(n))&&(v=N[h]=Q[h](n)),{c(){e=re(),t=W("form"),i=W("div"),r=W("button"),_e(s.$$.fragment),u=re(),o=W("input"),c=re(),l=W("div"),d=W("button"),_e(a.$$.fragment),f=re(),_&&_.c(),g=re(),L&&L.c(),y=re(),A&&A.c(),w=re(),v&&v.c(),b(r,"class","search-button svelte-bz0zu3"),b(r,"type","button"),b(o,"placeholder",n[8]),b(o,"aria-label",n[8]),b(o,"class","svelte-bz0zu3"),b(d,"type","button"),b(d,"title",n[3]),b(d,"class","svelte-bz0zu3"),b(l,"class","clear-button-container svelte-bz0zu3"),oe(l,"displayable",n[1]!==""),b(i,"class","input-group svelte-bz0zu3"),b(t,"tabindex","0"),b(t,"class",p=Zt(n[2])+" svelte-bz0zu3"),oe(t,"can-collapse",n[4]&&n[1]==="")},m(x,U){F(x,e,U),F(x,t,U),I(t,i),I(i,r),me(s,r,null),I(i,u),I(i,o),n[63](o),Ht(o,n[1]),I(i,c),I(i,l),I(l,d),me(a,d,null),I(l,f),_&&_.m(l,null),I(i,g),L&&L.m(i,null),I(i,y),A&&A.m(i,null),I(t,w),~h&&N[h].m(t,null),E=!0,S||(M=[ee(r,"click",n[62]),ee(o,"input",n[64]),ee(o,"focus",n[65]),ee(o,"blur",n[66]),ee(o,"keydown",n[22]),ee(o,"input",n[67]),ee(d,"click",n[68]),ee(t,"submit",Ki(n[21]))],S=!0)},p(x,U){(!E||U[0]&256)&&b(o,"placeholder",x[8]),(!E||U[0]&256)&&b(o,"aria-label",x[8]),U[0]&2&&o.value!==x[1]&&Ht(o,x[1]),(!E||U[0]&8)&&b(d,"title",x[3]),x[19]?_?U[0]&524288&&q(_,1):(_=ci(),_.c(),q(_,1),_.m(l,null)):_&&(et(),K(_,1,1,()=>{_=null}),tt()),(!E||U[0]&2)&&oe(l,"displayable",x[1]!==""),x[5]==="button"?L?(L.p(x,U),U[0]&32&&q(L,1)):(L=fi(x),L.c(),q(L,1),L.m(i,y)):L&&(et(),K(L,1,1,()=>{L=null}),tt()),A&&A.p&&(!E||U[1]&536870912)&&Hi(A,k,x,x[60],E?Zi(k,x[60],U,null):Vi(x[60]),null);let ce=h;h=ie(x),h===ce?~h&&N[h].p(x,U):(v&&(et(),K(N[ce],1,1,()=>{N[ce]=null}),tt()),~h?(v=N[h],v?v.p(x,U):(v=N[h]=Q[h](x),v.c()),q(v,1),v.m(t,null)):v=null),(!E||U[0]&4&&p!==(p=Zt(x[2])+" svelte-bz0zu3"))&&b(t,"class",p),(!E||U[0]&22)&&oe(t,"can-collapse",x[4]&&x[1]==="")},i(x){E||(q(C),q(s.$$.fragment,x),q(a.$$.fragment,x),q(_),q(L),q(A,x),q(v),E=!0)},o(x){K(C),K(s.$$.fragment,x),K(a.$$.fragment,x),K(_),K(L),K(A,x),K(v),E=!1},d(x){x&&(D(e),D(t)),ve(s),n[63](null),ve(a),_&&_.d(),L&&L.d(),A&&A.d(x),~h&&N[h].d(),S=!1,ge(M)}}}function Kn(n,e,t){let i,r,{$$slots:s={},$$scope:u}=e;const o={continental_marine:4,country:4,major_landform:8,region:5,subregion:6,county:7,joint_municipality:8,joint_submunicipality:9,municipality:10,municipal_district:11,locality:12,neighbourhood:13,place:14,postal_code:14,road:16,poi:17,address:18,"poi.peak":15,"poi.shop":18,"poi.cafe":18,"poi.restaurant":18,"poi.aerodrome":13};let{class:c=void 0}=e,{apiKey:l}=e,{bbox:d=void 0}=e,{clearButtonTitle:a="clear"}=e,{clearOnBlur:f=!1}=e,{collapsed:g=!1}=e,{country:y=void 0}=e,{debounceSearch:w=200}=e,{enableReverse:h="never"}=e,{errorMessage:v="Something went wrong…"}=e,{filter:p=()=>!0}=e,{flyTo:E=!0}=e,{fuzzyMatch:S=!0}=e,{language:M=void 0}=e,{limit:C=void 0}=e,{mapController:_=void 0}=e,{minLength:L=2}=e,{noResultsMessage:k="Oops! Looks like you're trying to predict something that's not quite right. We can't seem to find what you're looking for. Maybe try double-checking your spelling or try a different search term. Keep on typing - we'll do our best to get you where you need to go!"}=e,{placeholder:A="Search"}=e,{proximity:Q=[{type:"server-geolocation"}]}=e,{reverseActive:N=h==="always"}=e,{reverseButtonTitle:ie="toggle reverse geocoding"}=e,{searchValue:x=""}=e,{pickedResultStyle:U="full-geometry"}=e,{showPlaceType:ce="if-needed"}=e,{showResultsWhileTyping:pe=!0}=e,{selectFirst:ze=!0}=e,{flyToSelected:kt=!1}=e,{markerOnSelected:lt=!0}=e,{types:Re=void 0}=e,{exhaustiveReverseGeocoding:Nt=!1}=e,{excludeTypes:ut=!1}=e,{zoom:at=o}=e,{apiUrl:Tt="https://api.maptiler.com/geocoding"}=e,{fetchParameters:Rt={}}=e,{iconsBaseUrl:zi="https://cdn.maptiler.com/maptiler-geocoding-control/v2.0.1/icons/"}=e,{adjustUrlQuery:Pt=()=>{}}=e;function Ur(){fe.focus()}function Fr(){fe.blur()}function Bi(m,G=!0,Y=!1){t(1,x=m),G?(t(15,j=-1),Ui()):(Wt(!Y,Y),setTimeout(()=>{fe.focus(),fe.select()}))}function jr(){t(14,O=void 0),t(56,R=void 0),t(15,j=-1)}function Gr(){t(55,Z=[]),t(56,R=void 0)}let Be=!1,O,Z,R,Di="",fe,j=-1,de,ct=[],Pe,De,ft,It;const qr=new Set,Ne=en();$i(()=>{_&&(_.setEventHandler(void 0),_.indicateReverse(!1),_.setSelectedMarker(-1),_.setFeatures(void 0,void 0,!1))});function Ui(m){if(De&&(clearTimeout(De),De=void 0),j>-1&&O)t(56,R=O[j]),t(1,x=R.place_type[0]==="reverse"?R.place_name:R.place_name.replace(/,.*/,"")),t(18,de=void 0),t(55,Z=void 0),t(15,j=-1);else if(x){const G=m||!Ot(x);At(x,{exact:!0}).then(()=>{t(55,Z=O),t(56,R=void 0),G&&Qr()}).catch(Y=>t(18,de=Y))}}function Ot(m){try{return qn(m,6)}catch{return!1}}async function At(m,{byId:G=!1,exact:Y=!1}={}){t(18,de=void 0),Pe==null||Pe.abort();const se=new AbortController;t(19,Pe=se);try{const P=Ot(m),H=new URLSearchParams;if(M!==void 0&&H.set("language",Array.isArray(M)?M.join(","):M??""),Re&&H.set("types",Re.join(",")),ut&&H.set("excludeTypes",String(ut)),d&&H.set("bbox",d.map(dt=>dt.toFixed(6)).join(",")),y&&H.set("country",Array.isArray(y)?y.join(","):y),!G&&!P){const dt=await In(_,Q,se);dt&&H.set("proximity",dt),(Y||!pe)&&H.set("autocomplete","false"),H.set("fuzzyMatch",String(S))}C!==void 0&&(Nt||!P||(Re==null?void 0:Re.length)===1)&&H.set("limit",String(C)),H.set("key",l),Pt(H);const he=Tt+"/"+encodeURIComponent(P?P.decimalLongitude+","+P.decimalLatitude:m)+".json?"+H.toString();if(he===Di){G?(t(14,O=void 0),t(56,R=ct[0])):t(14,O=ct);return}Di=he;const Bt=await fetch(he,{signal:se.signal,...Rt});if(!Bt.ok)throw new Error(await Bt.text());const Dt=await Bt.json();Ne("response",{url:he,featureCollection:Dt}),G?(t(14,O=void 0),t(56,R=Dt.features[0]),ct=[R]):(t(14,O=Dt.features.filter(p)),P&&O.unshift({type:"Feature",properties:{},id:"reverse_"+P.decimalLongitude+"_"+P.decimalLatitude,text:P.decimalLatitude+", "+P.decimalLongitude,place_name:P.decimalLatitude+", "+P.decimalLongitude,place_type:["reverse"],center:[P.decimalLongitude,P.decimalLatitude],bbox:[P.decimalLongitude,P.decimalLatitude,P.decimalLongitude,P.decimalLatitude],geometry:{type:"Point",coordinates:[P.decimalLongitude,P.decimalLatitude]}}),ct=O,P&&fe.focus())}catch(P){if(P&&typeof P=="object"&&"name"in P&&P.name==="AbortError")return;throw P}finally{se===Pe&&t(19,Pe=void 0)}}function Qr(){var se;if(!(Z!=null&&Z.length)||!E)return;const m=[180,90,-180,-90],G=!Z.some(P=>!P.matching_text);let Y;for(const P of Z){const H=Xe(P);if(Y=Y===void 0?H:H===void 0?Y:Math.max(Y,H),G||!P.matching_text)for(const he of[0,1,2,3])m[he]=Math[he<2?"min":"max"](m[he],((se=P.bbox)==null?void 0:se[he])??P.center[he%2])}_&&Z.length>0&&(R&&m[0]===m[2]&&m[1]===m[3]?_.flyTo(R.center,Xe(R)):_.fitBounds(it(m),50,Y))}function Xe(m){var Y;if(!m.bbox||m.bbox[0]!==m.bbox[2]&&m.bbox[1]!==m.bbox[3])return;const G=m.id.replace(/\..*/,"");return(Array.isArray((Y=m.properties)==null?void 0:Y.categories)?m.properties.categories.reduce((se,P)=>{const H=at[G+"."+P];return se===void 0?H:H===void 0?se:Math.max(se,H)},void 0):void 0)??at[G]}function Zr(m){t(0,N=h==="always"),t(14,O=void 0),t(56,R=void 0),t(15,j=-1),Bi(m[1].toFixed(6)+", "+Pn(m[0],[-180,180],!0).toFixed(6),!1,!0)}function Hr(m){if(!O)return;let G=m.key==="ArrowDown"?1:m.key==="ArrowUp"?-1:0;G&&(j===(ze?0:-1)&&G===-1&&t(15,j=O.length),t(15,j+=G),j>=O.length&&t(15,j=-1),j<0&&ze&&t(15,j=0),m.preventDefault())}function Wt(m=!0,G=!1){if(t(18,de=void 0),pe||G){if(De&&clearTimeout(De),x.length<L)return;const Y=x;De=window.setTimeout(()=>{At(Y).catch(se=>t(18,de=se))},m?w:0)}else t(14,O=void 0),t(18,de=void 0)}function zt(m){t(56,R=m),t(1,x=m.place_name),t(15,j=-1)}const Vr=()=>fe.focus();function Yr(m){ht[m?"unshift":"push"](()=>{fe=m,t(17,fe)})}function Kr(){x=this.value,t(1,x),t(13,Be),t(28,f)}const Xr=()=>t(13,Be=!0),Jr=()=>t(13,Be=!1),$r=()=>Wt(),es=()=>{t(1,x=""),fe.focus()},ts=()=>t(0,N=!N),is=()=>t(18,de=void 0),ns=m=>t(15,j=m),rs=m=>zt(m),ss=()=>{ze||t(15,j=-1)},os=()=>{};return n.$$set=m=>{"class"in m&&t(2,c=m.class),"apiKey"in m&&t(26,l=m.apiKey),"bbox"in m&&t(27,d=m.bbox),"clearButtonTitle"in m&&t(3,a=m.clearButtonTitle),"clearOnBlur"in m&&t(28,f=m.clearOnBlur),"collapsed"in m&&t(4,g=m.collapsed),"country"in m&&t(29,y=m.country),"debounceSearch"in m&&t(30,w=m.debounceSearch),"enableReverse"in m&&t(5,h=m.enableReverse),"errorMessage"in m&&t(6,v=m.errorMessage),"filter"in m&&t(31,p=m.filter),"flyTo"in m&&t(32,E=m.flyTo),"fuzzyMatch"in m&&t(33,S=m.fuzzyMatch),"language"in m&&t(34,M=m.language),"limit"in m&&t(35,C=m.limit),"mapController"in m&&t(36,_=m.mapController),"minLength"in m&&t(37,L=m.minLength),"noResultsMessage"in m&&t(7,k=m.noResultsMessage),"placeholder"in m&&t(8,A=m.placeholder),"proximity"in m&&t(38,Q=m.proximity),"reverseActive"in m&&t(0,N=m.reverseActive),"reverseButtonTitle"in m&&t(9,ie=m.reverseButtonTitle),"searchValue"in m&&t(1,x=m.searchValue),"pickedResultStyle"in m&&t(39,U=m.pickedResultStyle),"showPlaceType"in m&&t(10,ce=m.showPlaceType),"showResultsWhileTyping"in m&&t(40,pe=m.showResultsWhileTyping),"selectFirst"in m&&t(11,ze=m.selectFirst),"flyToSelected"in m&&t(41,kt=m.flyToSelected),"markerOnSelected"in m&&t(42,lt=m.markerOnSelected),"types"in m&&t(43,Re=m.types),"exhaustiveReverseGeocoding"in m&&t(44,Nt=m.exhaustiveReverseGeocoding),"excludeTypes"in m&&t(45,ut=m.excludeTypes),"zoom"in m&&t(46,at=m.zoom),"apiUrl"in m&&t(47,Tt=m.apiUrl),"fetchParameters"in m&&t(48,Rt=m.fetchParameters),"iconsBaseUrl"in m&&t(12,zi=m.iconsBaseUrl),"adjustUrlQuery"in m&&t(49,Pt=m.adjustUrlQuery),"$$scope"in m&&t(60,u=m.$$scope)},n.$$.update=()=>{if(n.$$.dirty[0]&32&&t(0,N=h==="always"),n.$$.dirty[0]&268443648&&setTimeout(()=>{t(16,ft=Be),f&&!Be&&t(1,x="")}),n.$$.dirty[0]&16386|n.$$.dirty[1]&64&&x.length<L&&(t(56,R=void 0),t(14,O=void 0),t(18,de=void 0),t(55,Z=O)),n.$$.dirty[1]&33554688&&U!=="marker-only"&&R&&!R.address&&R.geometry.type==="Point"&&R.place_type[0]!=="reverse"&&At(R.id,{byId:!0}).catch(m=>t(18,de=m)),n.$$.dirty[1]&100663330&&(_&&R&&R.id!==It&&E&&(!R.bbox||R.bbox[0]===R.bbox[2]&&R.bbox[1]===R.bbox[3]?_.flyTo(R.center,Xe(R)):_.fitBounds(it(R.bbox),50,Xe(R)),t(14,O=void 0),t(55,Z=void 0),t(15,j=-1)),t(57,It=R==null?void 0:R.id)),n.$$.dirty[0]&18432&&ze&&O!=null&&O.length&&t(15,j=0),n.$$.dirty[0]&2&&t(15,j=-1),n.$$.dirty[0]&16384|n.$$.dirty[1]&16777216&&Z!==O&&t(55,Z=void 0),n.$$.dirty[0]&81921|n.$$.dirty[1]&16777248&&_&&_.setEventHandler(m=>{switch(m.type){case"mapClick":N&&Zr(m.coordinates);break;case"markerClick":{const G=O==null?void 0:O.find(Y=>Y.id===m.id);G&&zt(G)}break;case"markerMouseEnter":Z&&t(15,j=ft?(O==null?void 0:O.findIndex(G=>G.id===m.id))??-1:-1);break;case"markerMouseLeave":Z&&t(15,j=-1);break}}),n.$$.dirty[0]&49152&&t(58,r=O==null?void 0:O[j]),n.$$.dirty[1]&134218786&&_&&r&&E&&kt&&_.flyTo(r.center,Xe(r)),n.$$.dirty[1]&256&&t(59,i=U==="full-geometry-including-polygon-center-marker"),n.$$.dirty[1]&268437536&&(lt||_==null||_.setFeatures(void 0,void 0,i)),n.$$.dirty[1]&419432480&&_&&lt&&!Z&&(_.setFeatures(r?[r]:void 0,void 0,i),_.setSelectedMarker(r?0:-1)),n.$$.dirty[1]&318767136&&_&&_.setFeatures(Z,R,i),n.$$.dirty[0]&32768|n.$$.dirty[1]&16777248&&Z&&_&&_.setSelectedMarker(j),n.$$.dirty[0]&2|n.$$.dirty[1]&32&&_){const m=Ot(x);_.setReverseMarker(m?[m.decimalLongitude,m.decimalLatitude]:void 0)}n.$$.dirty[1]&134217728&&Ne("select",{feature:r}),n.$$.dirty[1]&33554432&&Ne("pick",{feature:R}),n.$$.dirty[0]&81920&&Ne("optionsvisibilitychange",{optionsVisible:ft&&!!O}),n.$$.dirty[0]&16384&&Ne("featureslisted",{features:O}),n.$$.dirty[1]&16777216&&Ne("featuresmarked",{features:Z}),n.$$.dirty[0]&1&&Ne("reversetoggle",{reverse:N}),n.$$.dirty[0]&2&&Ne("querychange",{query:x}),n.$$.dirty[0]&1|n.$$.dirty[1]&32&&_&&_.indicateReverse(N)},[N,x,c,a,g,h,v,k,A,ie,ce,ze,zi,Be,O,j,ft,fe,de,Pe,qr,Ui,Hr,Wt,zt,o,l,d,f,y,w,p,E,S,M,C,_,L,Q,U,pe,kt,lt,Re,Nt,ut,at,Tt,Rt,Pt,Ur,Fr,Bi,jr,Gr,Z,R,It,r,i,u,s,Vr,Yr,Kr,Xr,Jr,$r,es,ts,is,ns,rs,ss,os]}let Xn=class extends Le{constructor(e){super(),we(this,e,Kn,Yn,be,{ZOOM_DEFAULTS:25,class:2,apiKey:26,bbox:27,clearButtonTitle:3,clearOnBlur:28,collapsed:4,country:29,debounceSearch:30,enableReverse:5,errorMessage:6,filter:31,flyTo:32,fuzzyMatch:33,language:34,limit:35,mapController:36,minLength:37,noResultsMessage:7,placeholder:8,proximity:38,reverseActive:0,reverseButtonTitle:9,searchValue:1,pickedResultStyle:39,showPlaceType:10,showResultsWhileTyping:40,selectFirst:11,flyToSelected:41,markerOnSelected:42,types:43,exhaustiveReverseGeocoding:44,excludeTypes:45,zoom:46,apiUrl:47,fetchParameters:48,iconsBaseUrl:12,adjustUrlQuery:49,focus:50,blur:51,setQuery:52,clearList:53,clearMap:54},null,[-1,-1,-1])}get ZOOM_DEFAULTS(){return this.$$.ctx[25]}get focus(){return this.$$.ctx[50]}get blur(){return this.$$.ctx[51]}get setQuery(){return this.$$.ctx[52]}get clearList(){return this.$$.ctx[53]}get clearMap(){return this.$$.ctx[54]}};function Ze(n,e,t={}){const i={type:"Feature"};return(t.id===0||t.id)&&(i.id=t.id),t.bbox&&(i.bbox=t.bbox),i.properties=e||{},i.geometry=n,i}function pt(n,e,t={}){for(const r of n){if(r.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");if(r[r.length-1].length!==r[0].length)throw new Error("First and last Position are not equivalent.");for(let s=0;s<r[r.length-1].length;s++)if(r[r.length-1][s]!==r[0][s])throw new Error("First and last Position are not equivalent.")}return Ze({type:"Polygon",coordinates:n},e,t)}function He(n,e={}){const t={type:"FeatureCollection"};return e.id&&(t.id=e.id),e.bbox&&(t.bbox=e.bbox),t.features=n,t}function hi(n,e,t={}){return Ze({type:"MultiPolygon",coordinates:n},e,t)}/**
 * splaytree v3.1.2
 * Fast Splay tree for Node and browser
 *
 * @author Alexander Milevski <info@w8r.name>
 * @license MIT
 * @preserve
 *//*! *****************************************************************************
	Copyright (c) Microsoft Corporation. All rights reserved.
	Licensed under the Apache License, Version 2.0 (the "License"); you may not use
	this file except in compliance with the License. You may obtain a copy of the
	License at http://www.apache.org/licenses/LICENSE-2.0

	THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
	KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
	WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
	MERCHANTABLITY OR NON-INFRINGEMENT.

	See the Apache Version 2.0 License for specific language governing permissions
	and limitations under the License.
	***************************************************************************** */function Jn(n,e){var t={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},i,r,s,u;return u={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function o(l){return function(d){return c([l,d])}}function c(l){if(i)throw new TypeError("Generator is already executing.");for(;t;)try{if(i=1,r&&(s=l[0]&2?r.return:l[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,l[1])).done)return s;switch(r=0,s&&(l=[l[0]&2,s.value]),l[0]){case 0:case 1:s=l;break;case 4:return t.label++,{value:l[1],done:!1};case 5:t.label++,r=l[1],l=[0];continue;case 7:l=t.ops.pop(),t.trys.pop();continue;default:if(s=t.trys,!(s=s.length>0&&s[s.length-1])&&(l[0]===6||l[0]===2)){t=0;continue}if(l[0]===3&&(!s||l[1]>s[0]&&l[1]<s[3])){t.label=l[1];break}if(l[0]===6&&t.label<s[1]){t.label=s[1],s=l;break}if(s&&t.label<s[2]){t.label=s[2],t.ops.push(l);break}s[2]&&t.ops.pop(),t.trys.pop();continue}l=e.call(n,t)}catch(d){l=[6,d],r=0}finally{i=s=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}var Se=function(){function n(e,t){this.next=null,this.key=e,this.data=t,this.left=null,this.right=null}return n}();function $n(n,e){return n>e?1:n<e?-1:0}function xe(n,e,t){for(var i=new Se(null,null),r=i,s=i;;){var u=t(n,e.key);if(u<0){if(e.left===null)break;if(t(n,e.left.key)<0){var o=e.left;if(e.left=o.right,o.right=e,e=o,e.left===null)break}s.left=e,s=e,e=e.left}else if(u>0){if(e.right===null)break;if(t(n,e.right.key)>0){var o=e.right;if(e.right=o.left,o.left=e,e=o,e.right===null)break}r.right=e,r=e,e=e.right}else break}return r.right=e.left,s.left=e.right,e.left=i.right,e.right=i.left,e}function bt(n,e,t,i){var r=new Se(n,e);if(t===null)return r.left=r.right=null,r;t=xe(n,t,i);var s=i(n,t.key);return s<0?(r.left=t.left,r.right=t,t.left=null):s>=0&&(r.right=t.right,r.left=t,t.right=null),r}function gi(n,e,t){var i=null,r=null;if(e){e=xe(n,e,t);var s=t(e.key,n);s===0?(i=e.left,r=e.right):s<0?(r=e.right,e.right=null,i=e):(i=e.left,e.left=null,r=e)}return{left:i,right:r}}function er(n,e,t){return e===null?n:(n===null||(e=xe(n.key,e,t),e.left=n),e)}function Et(n,e,t,i,r){if(n){i(""+e+(t?"└── ":"├── ")+r(n)+`
`);var s=e+(t?"    ":"│   ");n.left&&Et(n.left,s,!1,i,r),n.right&&Et(n.right,s,!0,i,r)}}var _t=function(){function n(e){e===void 0&&(e=$n),this._root=null,this._size=0,this._comparator=e}return n.prototype.insert=function(e,t){return this._size++,this._root=bt(e,t,this._root,this._comparator)},n.prototype.add=function(e,t){var i=new Se(e,t);this._root===null&&(i.left=i.right=null,this._size++,this._root=i);var r=this._comparator,s=xe(e,this._root,r),u=r(e,s.key);return u===0?this._root=s:(u<0?(i.left=s.left,i.right=s,s.left=null):u>0&&(i.right=s.right,i.left=s,s.right=null),this._size++,this._root=i),this._root},n.prototype.remove=function(e){this._root=this._remove(e,this._root,this._comparator)},n.prototype._remove=function(e,t,i){var r;if(t===null)return null;t=xe(e,t,i);var s=i(e,t.key);return s===0?(t.left===null?r=t.right:(r=xe(e,t.left,i),r.right=t.right),this._size--,r):t},n.prototype.pop=function(){var e=this._root;if(e){for(;e.left;)e=e.left;return this._root=xe(e.key,this._root,this._comparator),this._root=this._remove(e.key,this._root,this._comparator),{key:e.key,data:e.data}}return null},n.prototype.findStatic=function(e){for(var t=this._root,i=this._comparator;t;){var r=i(e,t.key);if(r===0)return t;r<0?t=t.left:t=t.right}return null},n.prototype.find=function(e){return this._root&&(this._root=xe(e,this._root,this._comparator),this._comparator(e,this._root.key)!==0)?null:this._root},n.prototype.contains=function(e){for(var t=this._root,i=this._comparator;t;){var r=i(e,t.key);if(r===0)return!0;r<0?t=t.left:t=t.right}return!1},n.prototype.forEach=function(e,t){for(var i=this._root,r=[],s=!1;!s;)i!==null?(r.push(i),i=i.left):r.length!==0?(i=r.pop(),e.call(t,i),i=i.right):s=!0;return this},n.prototype.range=function(e,t,i,r){for(var s=[],u=this._comparator,o=this._root,c;s.length!==0||o;)if(o)s.push(o),o=o.left;else{if(o=s.pop(),c=u(o.key,t),c>0)break;if(u(o.key,e)>=0&&i.call(r,o))return this;o=o.right}return this},n.prototype.keys=function(){var e=[];return this.forEach(function(t){var i=t.key;return e.push(i)}),e},n.prototype.values=function(){var e=[];return this.forEach(function(t){var i=t.data;return e.push(i)}),e},n.prototype.min=function(){return this._root?this.minNode(this._root).key:null},n.prototype.max=function(){return this._root?this.maxNode(this._root).key:null},n.prototype.minNode=function(e){if(e===void 0&&(e=this._root),e)for(;e.left;)e=e.left;return e},n.prototype.maxNode=function(e){if(e===void 0&&(e=this._root),e)for(;e.right;)e=e.right;return e},n.prototype.at=function(e){for(var t=this._root,i=!1,r=0,s=[];!i;)if(t)s.push(t),t=t.left;else if(s.length>0){if(t=s.pop(),r===e)return t;r++,t=t.right}else i=!0;return null},n.prototype.next=function(e){var t=this._root,i=null;if(e.right){for(i=e.right;i.left;)i=i.left;return i}for(var r=this._comparator;t;){var s=r(e.key,t.key);if(s===0)break;s<0?(i=t,t=t.left):t=t.right}return i},n.prototype.prev=function(e){var t=this._root,i=null;if(e.left!==null){for(i=e.left;i.right;)i=i.right;return i}for(var r=this._comparator;t;){var s=r(e.key,t.key);if(s===0)break;s<0?t=t.left:(i=t,t=t.right)}return i},n.prototype.clear=function(){return this._root=null,this._size=0,this},n.prototype.toList=function(){return ir(this._root)},n.prototype.load=function(e,t,i){t===void 0&&(t=[]),i===void 0&&(i=!1);var r=e.length,s=this._comparator;if(i&&St(e,t,0,r-1,s),this._root===null)this._root=wt(e,t,0,r),this._size=r;else{var u=nr(this.toList(),tr(e,t),s);r=this._size+r,this._root=Lt({head:u},0,r)}return this},n.prototype.isEmpty=function(){return this._root===null},Object.defineProperty(n.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"root",{get:function(){return this._root},enumerable:!0,configurable:!0}),n.prototype.toString=function(e){e===void 0&&(e=function(i){return String(i.key)});var t=[];return Et(this._root,"",!0,function(i){return t.push(i)},e),t.join("")},n.prototype.update=function(e,t,i){var r=this._comparator,s=gi(e,this._root,r),u=s.left,o=s.right;r(e,t)<0?o=bt(t,i,o,r):u=bt(t,i,u,r),this._root=er(u,o,r)},n.prototype.split=function(e){return gi(e,this._root,this._comparator)},n.prototype[Symbol.iterator]=function(){var e,t,i;return Jn(this,function(r){switch(r.label){case 0:e=this._root,t=[],i=!1,r.label=1;case 1:return i?[3,6]:e===null?[3,2]:(t.push(e),e=e.left,[3,5]);case 2:return t.length===0?[3,4]:(e=t.pop(),[4,e]);case 3:return r.sent(),e=e.right,[3,5];case 4:i=!0,r.label=5;case 5:return[3,1];case 6:return[2]}})},n}();function wt(n,e,t,i){var r=i-t;if(r>0){var s=t+Math.floor(r/2),u=n[s],o=e[s],c=new Se(u,o);return c.left=wt(n,e,t,s),c.right=wt(n,e,s+1,i),c}return null}function tr(n,e){for(var t=new Se(null,null),i=t,r=0;r<n.length;r++)i=i.next=new Se(n[r],e[r]);return i.next=null,t.next}function ir(n){for(var e=n,t=[],i=!1,r=new Se(null,null),s=r;!i;)e?(t.push(e),e=e.left):t.length>0?(e=s=s.next=t.pop(),e=e.right):i=!0;return s.next=null,r.next}function Lt(n,e,t){var i=t-e;if(i>0){var r=e+Math.floor(i/2),s=Lt(n,e,r),u=n.head;return u.left=s,n.head=n.head.next,u.right=Lt(n,r+1,t),u}return null}function nr(n,e,t){for(var i=new Se(null,null),r=i,s=n,u=e;s!==null&&u!==null;)t(s.key,u.key)<0?(r.next=s,s=s.next):(r.next=u,u=u.next),r=r.next;return s!==null?r.next=s:u!==null&&(r.next=u),i.next}function St(n,e,t,i,r){if(!(t>=i)){for(var s=n[t+i>>1],u=t-1,o=i+1;;){do u++;while(r(n[u],s)<0);do o--;while(r(n[o],s)>0);if(u>=o)break;var c=n[u];n[u]=n[o],n[o]=c,c=e[u],e[u]=e[o],e[o]=c}St(n,e,t,o,r),St(n,e,o+1,i,r)}}const ye=11102230246251565e-32,$=134217729,rr=(3+8*ye)*ye;function xt(n,e,t,i,r){let s,u,o,c,l=e[0],d=i[0],a=0,f=0;d>l==d>-l?(s=l,l=e[++a]):(s=d,d=i[++f]);let g=0;if(a<n&&f<t)for(d>l==d>-l?(u=l+s,o=s-(u-l),l=e[++a]):(u=d+s,o=s-(u-d),d=i[++f]),s=u,o!==0&&(r[g++]=o);a<n&&f<t;)d>l==d>-l?(u=s+l,c=u-s,o=s-(u-c)+(l-c),l=e[++a]):(u=s+d,c=u-s,o=s-(u-c)+(d-c),d=i[++f]),s=u,o!==0&&(r[g++]=o);for(;a<n;)u=s+l,c=u-s,o=s-(u-c)+(l-c),l=e[++a],s=u,o!==0&&(r[g++]=o);for(;f<t;)u=s+d,c=u-s,o=s-(u-c)+(d-c),d=i[++f],s=u,o!==0&&(r[g++]=o);return(s!==0||g===0)&&(r[g++]=s),g}function sr(n,e){let t=e[0];for(let i=1;i<n;i++)t+=e[i];return t}function Ve(n){return new Float64Array(n)}const or=(3+16*ye)*ye,lr=(2+12*ye)*ye,ur=(9+64*ye)*ye*ye,We=Ve(4),mi=Ve(8),vi=Ve(12),yi=Ve(16),te=Ve(4);function ar(n,e,t,i,r,s,u){let o,c,l,d,a,f,g,y,w,h,v,p,E,S,M,C,_,L;const k=n-r,A=t-r,Q=e-s,N=i-s;S=k*N,f=$*k,g=f-(f-k),y=k-g,f=$*N,w=f-(f-N),h=N-w,M=y*h-(S-g*w-y*w-g*h),C=Q*A,f=$*Q,g=f-(f-Q),y=Q-g,f=$*A,w=f-(f-A),h=A-w,_=y*h-(C-g*w-y*w-g*h),v=M-_,a=M-v,We[0]=M-(v+a)+(a-_),p=S+v,a=p-S,E=S-(p-a)+(v-a),v=E-C,a=E-v,We[1]=E-(v+a)+(a-C),L=p+v,a=L-p,We[2]=p-(L-a)+(v-a),We[3]=L;let ie=sr(4,We),x=lr*u;if(ie>=x||-ie>=x||(a=n-k,o=n-(k+a)+(a-r),a=t-A,l=t-(A+a)+(a-r),a=e-Q,c=e-(Q+a)+(a-s),a=i-N,d=i-(N+a)+(a-s),o===0&&c===0&&l===0&&d===0)||(x=ur*u+rr*Math.abs(ie),ie+=k*d+N*o-(Q*l+A*c),ie>=x||-ie>=x))return ie;S=o*N,f=$*o,g=f-(f-o),y=o-g,f=$*N,w=f-(f-N),h=N-w,M=y*h-(S-g*w-y*w-g*h),C=c*A,f=$*c,g=f-(f-c),y=c-g,f=$*A,w=f-(f-A),h=A-w,_=y*h-(C-g*w-y*w-g*h),v=M-_,a=M-v,te[0]=M-(v+a)+(a-_),p=S+v,a=p-S,E=S-(p-a)+(v-a),v=E-C,a=E-v,te[1]=E-(v+a)+(a-C),L=p+v,a=L-p,te[2]=p-(L-a)+(v-a),te[3]=L;const U=xt(4,We,4,te,mi);S=k*d,f=$*k,g=f-(f-k),y=k-g,f=$*d,w=f-(f-d),h=d-w,M=y*h-(S-g*w-y*w-g*h),C=Q*l,f=$*Q,g=f-(f-Q),y=Q-g,f=$*l,w=f-(f-l),h=l-w,_=y*h-(C-g*w-y*w-g*h),v=M-_,a=M-v,te[0]=M-(v+a)+(a-_),p=S+v,a=p-S,E=S-(p-a)+(v-a),v=E-C,a=E-v,te[1]=E-(v+a)+(a-C),L=p+v,a=L-p,te[2]=p-(L-a)+(v-a),te[3]=L;const ce=xt(U,mi,4,te,vi);S=o*d,f=$*o,g=f-(f-o),y=o-g,f=$*d,w=f-(f-d),h=d-w,M=y*h-(S-g*w-y*w-g*h),C=c*l,f=$*c,g=f-(f-c),y=c-g,f=$*l,w=f-(f-l),h=l-w,_=y*h-(C-g*w-y*w-g*h),v=M-_,a=M-v,te[0]=M-(v+a)+(a-_),p=S+v,a=p-S,E=S-(p-a)+(v-a),v=E-C,a=E-v,te[1]=E-(v+a)+(a-C),L=p+v,a=L-p,te[2]=p-(L-a)+(v-a),te[3]=L;const pe=xt(ce,vi,4,te,yi);return yi[pe-1]}function cr(n,e,t,i,r,s){const u=(e-s)*(t-r),o=(n-r)*(i-s),c=u-o,l=Math.abs(u+o);return Math.abs(c)>=or*l?c:-ar(n,e,t,i,r,s,l)}const Ye=(n,e)=>n.ll.x<=e.x&&e.x<=n.ur.x&&n.ll.y<=e.y&&e.y<=n.ur.y,Mt=(n,e)=>{if(e.ur.x<n.ll.x||n.ur.x<e.ll.x||e.ur.y<n.ll.y||n.ur.y<e.ll.y)return null;const t=n.ll.x<e.ll.x?e.ll.x:n.ll.x,i=n.ur.x<e.ur.x?n.ur.x:e.ur.x,r=n.ll.y<e.ll.y?e.ll.y:n.ll.y,s=n.ur.y<e.ur.y?n.ur.y:e.ur.y;return{ll:{x:t,y:r},ur:{x:i,y:s}}};let Me=Number.EPSILON;Me===void 0&&(Me=Math.pow(2,-52));const fr=Me*Me,pi=(n,e)=>{if(-Me<n&&n<Me&&-Me<e&&e<Me)return 0;const t=n-e;return t*t<fr*n*e?0:n<e?-1:1};class dr{constructor(){this.reset()}reset(){this.xRounder=new bi,this.yRounder=new bi}round(e,t){return{x:this.xRounder.round(e),y:this.yRounder.round(t)}}}class bi{constructor(){this.tree=new _t,this.round(0)}round(e){const t=this.tree.add(e),i=this.tree.prev(t);if(i!==null&&pi(t.key,i.key)===0)return this.tree.remove(e),i.key;const r=this.tree.next(t);return r!==null&&pi(t.key,r.key)===0?(this.tree.remove(e),r.key):e}}const Ke=new dr,nt=(n,e)=>n.x*e.y-n.y*e.x,Ei=(n,e)=>n.x*e.x+n.y*e.y,_i=(n,e,t)=>{const i=cr(n.x,n.y,e.x,e.y,t.x,t.y);return i>0?-1:i<0?1:0},rt=n=>Math.sqrt(Ei(n,n)),hr=(n,e,t)=>{const i={x:e.x-n.x,y:e.y-n.y},r={x:t.x-n.x,y:t.y-n.y};return nt(r,i)/rt(r)/rt(i)},gr=(n,e,t)=>{const i={x:e.x-n.x,y:e.y-n.y},r={x:t.x-n.x,y:t.y-n.y};return Ei(r,i)/rt(r)/rt(i)},wi=(n,e,t)=>e.y===0?null:{x:n.x+e.x/e.y*(t-n.y),y:t},Li=(n,e,t)=>e.x===0?null:{x:t,y:n.y+e.y/e.x*(t-n.x)},mr=(n,e,t,i)=>{if(e.x===0)return Li(t,i,n.x);if(i.x===0)return Li(n,e,t.x);if(e.y===0)return wi(t,i,n.y);if(i.y===0)return wi(n,e,t.y);const r=nt(e,i);if(r==0)return null;const s={x:t.x-n.x,y:t.y-n.y},u=nt(s,e)/r,o=nt(s,i)/r,c=n.x+o*e.x,l=t.x+u*i.x,d=n.y+o*e.y,a=t.y+u*i.y,f=(c+l)/2,g=(d+a)/2;return{x:f,y:g}};class le{static compare(e,t){const i=le.comparePoints(e.point,t.point);return i!==0?i:(e.point!==t.point&&e.link(t),e.isLeft!==t.isLeft?e.isLeft?1:-1:Ce.compare(e.segment,t.segment))}static comparePoints(e,t){return e.x<t.x?-1:e.x>t.x?1:e.y<t.y?-1:e.y>t.y?1:0}constructor(e,t){e.events===void 0?e.events=[this]:e.events.push(this),this.point=e,this.isLeft=t}link(e){if(e.point===this.point)throw new Error("Tried to link already linked events");const t=e.point.events;for(let i=0,r=t.length;i<r;i++){const s=t[i];this.point.events.push(s),s.point=this.point}this.checkForConsuming()}checkForConsuming(){const e=this.point.events.length;for(let t=0;t<e;t++){const i=this.point.events[t];if(i.segment.consumedBy===void 0)for(let r=t+1;r<e;r++){const s=this.point.events[r];s.consumedBy===void 0&&i.otherSE.point.events===s.otherSE.point.events&&i.segment.consume(s.segment)}}}getAvailableLinkedEvents(){const e=[];for(let t=0,i=this.point.events.length;t<i;t++){const r=this.point.events[t];r!==this&&!r.segment.ringOut&&r.segment.isInResult()&&e.push(r)}return e}getLeftmostComparator(e){const t=new Map,i=r=>{const s=r.otherSE;t.set(r,{sine:hr(this.point,e.point,s.point),cosine:gr(this.point,e.point,s.point)})};return(r,s)=>{t.has(r)||i(r),t.has(s)||i(s);const{sine:u,cosine:o}=t.get(r),{sine:c,cosine:l}=t.get(s);return u>=0&&c>=0?o<l?1:o>l?-1:0:u<0&&c<0?o<l?-1:o>l?1:0:c<u?-1:c>u?1:0}}}let vr=0;class Ce{static compare(e,t){const i=e.leftSE.point.x,r=t.leftSE.point.x,s=e.rightSE.point.x,u=t.rightSE.point.x;if(u<i)return 1;if(s<r)return-1;const o=e.leftSE.point.y,c=t.leftSE.point.y,l=e.rightSE.point.y,d=t.rightSE.point.y;if(i<r){if(c<o&&c<l)return 1;if(c>o&&c>l)return-1;const a=e.comparePoint(t.leftSE.point);if(a<0)return 1;if(a>0)return-1;const f=t.comparePoint(e.rightSE.point);return f!==0?f:-1}if(i>r){if(o<c&&o<d)return-1;if(o>c&&o>d)return 1;const a=t.comparePoint(e.leftSE.point);if(a!==0)return a;const f=e.comparePoint(t.rightSE.point);return f<0?1:f>0?-1:1}if(o<c)return-1;if(o>c)return 1;if(s<u){const a=t.comparePoint(e.rightSE.point);if(a!==0)return a}if(s>u){const a=e.comparePoint(t.rightSE.point);if(a<0)return 1;if(a>0)return-1}if(s!==u){const a=l-o,f=s-i,g=d-c,y=u-r;if(a>f&&g<y)return 1;if(a<f&&g>y)return-1}return s>u?1:s<u||l<d?-1:l>d?1:e.id<t.id?-1:e.id>t.id?1:0}constructor(e,t,i,r){this.id=++vr,this.leftSE=e,e.segment=this,e.otherSE=t,this.rightSE=t,t.segment=this,t.otherSE=e,this.rings=i,this.windings=r}static fromRing(e,t,i){let r,s,u;const o=le.comparePoints(e,t);if(o<0)r=e,s=t,u=1;else if(o>0)r=t,s=e,u=-1;else throw new Error(`Tried to create degenerate segment at [${e.x}, ${e.y}]`);const c=new le(r,!0),l=new le(s,!1);return new Ce(c,l,[i],[u])}replaceRightSE(e){this.rightSE=e,this.rightSE.segment=this,this.rightSE.otherSE=this.leftSE,this.leftSE.otherSE=this.rightSE}bbox(){const e=this.leftSE.point.y,t=this.rightSE.point.y;return{ll:{x:this.leftSE.point.x,y:e<t?e:t},ur:{x:this.rightSE.point.x,y:e>t?e:t}}}vector(){return{x:this.rightSE.point.x-this.leftSE.point.x,y:this.rightSE.point.y-this.leftSE.point.y}}isAnEndpoint(e){return e.x===this.leftSE.point.x&&e.y===this.leftSE.point.y||e.x===this.rightSE.point.x&&e.y===this.rightSE.point.y}comparePoint(e){if(this.isAnEndpoint(e))return 0;const t=this.leftSE.point,i=this.rightSE.point,r=this.vector();if(t.x===i.x)return e.x===t.x?0:e.x<t.x?1:-1;const s=(e.y-t.y)/r.y,u=t.x+s*r.x;if(e.x===u)return 0;const o=(e.x-t.x)/r.x,c=t.y+o*r.y;return e.y===c?0:e.y<c?-1:1}getIntersection(e){const t=this.bbox(),i=e.bbox(),r=Mt(t,i);if(r===null)return null;const s=this.leftSE.point,u=this.rightSE.point,o=e.leftSE.point,c=e.rightSE.point,l=Ye(t,o)&&this.comparePoint(o)===0,d=Ye(i,s)&&e.comparePoint(s)===0,a=Ye(t,c)&&this.comparePoint(c)===0,f=Ye(i,u)&&e.comparePoint(u)===0;if(d&&l)return f&&!a?u:!f&&a?c:null;if(d)return a&&s.x===c.x&&s.y===c.y?null:s;if(l)return f&&u.x===o.x&&u.y===o.y?null:o;if(f&&a)return null;if(f)return u;if(a)return c;const g=mr(s,this.vector(),o,e.vector());return g===null||!Ye(r,g)?null:Ke.round(g.x,g.y)}split(e){const t=[],i=e.events!==void 0,r=new le(e,!0),s=new le(e,!1),u=this.rightSE;this.replaceRightSE(s),t.push(s),t.push(r);const o=new Ce(r,u,this.rings.slice(),this.windings.slice());return le.comparePoints(o.leftSE.point,o.rightSE.point)>0&&o.swapEvents(),le.comparePoints(this.leftSE.point,this.rightSE.point)>0&&this.swapEvents(),i&&(r.checkForConsuming(),s.checkForConsuming()),t}swapEvents(){const e=this.rightSE;this.rightSE=this.leftSE,this.leftSE=e,this.leftSE.isLeft=!0,this.rightSE.isLeft=!1;for(let t=0,i=this.windings.length;t<i;t++)this.windings[t]*=-1}consume(e){let t=this,i=e;for(;t.consumedBy;)t=t.consumedBy;for(;i.consumedBy;)i=i.consumedBy;const r=Ce.compare(t,i);if(r!==0){if(r>0){const s=t;t=i,i=s}if(t.prev===i){const s=t;t=i,i=s}for(let s=0,u=i.rings.length;s<u;s++){const o=i.rings[s],c=i.windings[s],l=t.rings.indexOf(o);l===-1?(t.rings.push(o),t.windings.push(c)):t.windings[l]+=c}i.rings=null,i.windings=null,i.consumedBy=t,i.leftSE.consumedBy=t.leftSE,i.rightSE.consumedBy=t.rightSE}}prevInResult(){return this._prevInResult!==void 0?this._prevInResult:(this.prev?this.prev.isInResult()?this._prevInResult=this.prev:this._prevInResult=this.prev.prevInResult():this._prevInResult=null,this._prevInResult)}beforeState(){if(this._beforeState!==void 0)return this._beforeState;if(!this.prev)this._beforeState={rings:[],windings:[],multiPolys:[]};else{const e=this.prev.consumedBy||this.prev;this._beforeState=e.afterState()}return this._beforeState}afterState(){if(this._afterState!==void 0)return this._afterState;const e=this.beforeState();this._afterState={rings:e.rings.slice(0),windings:e.windings.slice(0),multiPolys:[]};const t=this._afterState.rings,i=this._afterState.windings,r=this._afterState.multiPolys;for(let o=0,c=this.rings.length;o<c;o++){const l=this.rings[o],d=this.windings[o],a=t.indexOf(l);a===-1?(t.push(l),i.push(d)):i[a]+=d}const s=[],u=[];for(let o=0,c=t.length;o<c;o++){if(i[o]===0)continue;const l=t[o],d=l.poly;if(u.indexOf(d)===-1)if(l.isExterior)s.push(d);else{u.indexOf(d)===-1&&u.push(d);const a=s.indexOf(l.poly);a!==-1&&s.splice(a,1)}}for(let o=0,c=s.length;o<c;o++){const l=s[o].multiPoly;r.indexOf(l)===-1&&r.push(l)}return this._afterState}isInResult(){if(this.consumedBy)return!1;if(this._isInResult!==void 0)return this._isInResult;const e=this.beforeState().multiPolys,t=this.afterState().multiPolys;switch(ae.type){case"union":{const i=e.length===0,r=t.length===0;this._isInResult=i!==r;break}case"intersection":{let i,r;e.length<t.length?(i=e.length,r=t.length):(i=t.length,r=e.length),this._isInResult=r===ae.numMultiPolys&&i<r;break}case"xor":{const i=Math.abs(e.length-t.length);this._isInResult=i%2===1;break}case"difference":{const i=r=>r.length===1&&r[0].isSubject;this._isInResult=i(e)!==i(t);break}default:throw new Error(`Unrecognized operation type found ${ae.type}`)}return this._isInResult}}class Si{constructor(e,t,i){if(!Array.isArray(e)||e.length===0)throw new Error("Input geometry is not a valid Polygon or MultiPolygon");if(this.poly=t,this.isExterior=i,this.segments=[],typeof e[0][0]!="number"||typeof e[0][1]!="number")throw new Error("Input geometry is not a valid Polygon or MultiPolygon");const r=Ke.round(e[0][0],e[0][1]);this.bbox={ll:{x:r.x,y:r.y},ur:{x:r.x,y:r.y}};let s=r;for(let u=1,o=e.length;u<o;u++){if(typeof e[u][0]!="number"||typeof e[u][1]!="number")throw new Error("Input geometry is not a valid Polygon or MultiPolygon");let c=Ke.round(e[u][0],e[u][1]);c.x===s.x&&c.y===s.y||(this.segments.push(Ce.fromRing(s,c,this)),c.x<this.bbox.ll.x&&(this.bbox.ll.x=c.x),c.y<this.bbox.ll.y&&(this.bbox.ll.y=c.y),c.x>this.bbox.ur.x&&(this.bbox.ur.x=c.x),c.y>this.bbox.ur.y&&(this.bbox.ur.y=c.y),s=c)}(r.x!==s.x||r.y!==s.y)&&this.segments.push(Ce.fromRing(s,r,this))}getSweepEvents(){const e=[];for(let t=0,i=this.segments.length;t<i;t++){const r=this.segments[t];e.push(r.leftSE),e.push(r.rightSE)}return e}}class yr{constructor(e,t){if(!Array.isArray(e))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");this.exteriorRing=new Si(e[0],this,!0),this.bbox={ll:{x:this.exteriorRing.bbox.ll.x,y:this.exteriorRing.bbox.ll.y},ur:{x:this.exteriorRing.bbox.ur.x,y:this.exteriorRing.bbox.ur.y}},this.interiorRings=[];for(let i=1,r=e.length;i<r;i++){const s=new Si(e[i],this,!1);s.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=s.bbox.ll.x),s.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=s.bbox.ll.y),s.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=s.bbox.ur.x),s.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=s.bbox.ur.y),this.interiorRings.push(s)}this.multiPoly=t}getSweepEvents(){const e=this.exteriorRing.getSweepEvents();for(let t=0,i=this.interiorRings.length;t<i;t++){const r=this.interiorRings[t].getSweepEvents();for(let s=0,u=r.length;s<u;s++)e.push(r[s])}return e}}class xi{constructor(e,t){if(!Array.isArray(e))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");try{typeof e[0][0][0]=="number"&&(e=[e])}catch{}this.polys=[],this.bbox={ll:{x:Number.POSITIVE_INFINITY,y:Number.POSITIVE_INFINITY},ur:{x:Number.NEGATIVE_INFINITY,y:Number.NEGATIVE_INFINITY}};for(let i=0,r=e.length;i<r;i++){const s=new yr(e[i],this);s.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=s.bbox.ll.x),s.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=s.bbox.ll.y),s.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=s.bbox.ur.x),s.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=s.bbox.ur.y),this.polys.push(s)}this.isSubject=t}getSweepEvents(){const e=[];for(let t=0,i=this.polys.length;t<i;t++){const r=this.polys[t].getSweepEvents();for(let s=0,u=r.length;s<u;s++)e.push(r[s])}return e}}class st{static factory(e){const t=[];for(let i=0,r=e.length;i<r;i++){const s=e[i];if(!s.isInResult()||s.ringOut)continue;let u=null,o=s.leftSE,c=s.rightSE;const l=[o],d=o.point,a=[];for(;u=o,o=c,l.push(o),o.point!==d;)for(;;){const f=o.getAvailableLinkedEvents();if(f.length===0){const w=l[0].point,h=l[l.length-1].point;throw new Error(`Unable to complete output ring starting at [${w.x}, ${w.y}]. Last matching segment found ends at [${h.x}, ${h.y}].`)}if(f.length===1){c=f[0].otherSE;break}let g=null;for(let w=0,h=a.length;w<h;w++)if(a[w].point===o.point){g=w;break}if(g!==null){const w=a.splice(g)[0],h=l.splice(w.index);h.unshift(h[0].otherSE),t.push(new st(h.reverse()));continue}a.push({index:l.length,point:o.point});const y=o.getLeftmostComparator(u);c=f.sort(y)[0].otherSE;break}t.push(new st(l))}return t}constructor(e){this.events=e;for(let t=0,i=e.length;t<i;t++)e[t].segment.ringOut=this;this.poly=null}getGeom(){let e=this.events[0].point;const t=[e];for(let l=1,d=this.events.length-1;l<d;l++){const a=this.events[l].point,f=this.events[l+1].point;_i(a,e,f)!==0&&(t.push(a),e=a)}if(t.length===1)return null;const i=t[0],r=t[1];_i(i,e,r)===0&&t.shift(),t.push(t[0]);const s=this.isExteriorRing()?1:-1,u=this.isExteriorRing()?0:t.length-1,o=this.isExteriorRing()?t.length:-1,c=[];for(let l=u;l!=o;l+=s)c.push([t[l].x,t[l].y]);return c}isExteriorRing(){if(this._isExteriorRing===void 0){const e=this.enclosingRing();this._isExteriorRing=e?!e.isExteriorRing():!0}return this._isExteriorRing}enclosingRing(){return this._enclosingRing===void 0&&(this._enclosingRing=this._calcEnclosingRing()),this._enclosingRing}_calcEnclosingRing(){let e=this.events[0];for(let r=1,s=this.events.length;r<s;r++){const u=this.events[r];le.compare(e,u)>0&&(e=u)}let t=e.segment.prevInResult(),i=t?t.prevInResult():null;for(;;){if(!t)return null;if(!i)return t.ringOut;if(i.ringOut!==t.ringOut)return i.ringOut.enclosingRing()!==t.ringOut?t.ringOut:t.ringOut.enclosingRing();t=i.prevInResult(),i=t?t.prevInResult():null}}}class Mi{constructor(e){this.exteriorRing=e,e.poly=this,this.interiorRings=[]}addInterior(e){this.interiorRings.push(e),e.poly=this}getGeom(){const e=[this.exteriorRing.getGeom()];if(e[0]===null)return null;for(let t=0,i=this.interiorRings.length;t<i;t++){const r=this.interiorRings[t].getGeom();r!==null&&e.push(r)}return e}}class pr{constructor(e){this.rings=e,this.polys=this._composePolys(e)}getGeom(){const e=[];for(let t=0,i=this.polys.length;t<i;t++){const r=this.polys[t].getGeom();r!==null&&e.push(r)}return e}_composePolys(e){const t=[];for(let i=0,r=e.length;i<r;i++){const s=e[i];if(!s.poly)if(s.isExteriorRing())t.push(new Mi(s));else{const u=s.enclosingRing();u.poly||t.push(new Mi(u)),u.poly.addInterior(s)}}return t}}class br{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ce.compare;this.queue=e,this.tree=new _t(t),this.segments=[]}process(e){const t=e.segment,i=[];if(e.consumedBy)return e.isLeft?this.queue.remove(e.otherSE):this.tree.remove(t),i;const r=e.isLeft?this.tree.add(t):this.tree.find(t);if(!r)throw new Error(`Unable to find segment #${t.id} [${t.leftSE.point.x}, ${t.leftSE.point.y}] -> [${t.rightSE.point.x}, ${t.rightSE.point.y}] in SweepLine tree.`);let s=r,u=r,o,c;for(;o===void 0;)s=this.tree.prev(s),s===null?o=null:s.key.consumedBy===void 0&&(o=s.key);for(;c===void 0;)u=this.tree.next(u),u===null?c=null:u.key.consumedBy===void 0&&(c=u.key);if(e.isLeft){let l=null;if(o){const a=o.getIntersection(t);if(a!==null&&(t.isAnEndpoint(a)||(l=a),!o.isAnEndpoint(a))){const f=this._splitSafely(o,a);for(let g=0,y=f.length;g<y;g++)i.push(f[g])}}let d=null;if(c){const a=c.getIntersection(t);if(a!==null&&(t.isAnEndpoint(a)||(d=a),!c.isAnEndpoint(a))){const f=this._splitSafely(c,a);for(let g=0,y=f.length;g<y;g++)i.push(f[g])}}if(l!==null||d!==null){let a=null;l===null?a=d:d===null?a=l:a=le.comparePoints(l,d)<=0?l:d,this.queue.remove(t.rightSE),i.push(t.rightSE);const f=t.split(a);for(let g=0,y=f.length;g<y;g++)i.push(f[g])}i.length>0?(this.tree.remove(t),i.push(e)):(this.segments.push(t),t.prev=o)}else{if(o&&c){const l=o.getIntersection(c);if(l!==null){if(!o.isAnEndpoint(l)){const d=this._splitSafely(o,l);for(let a=0,f=d.length;a<f;a++)i.push(d[a])}if(!c.isAnEndpoint(l)){const d=this._splitSafely(c,l);for(let a=0,f=d.length;a<f;a++)i.push(d[a])}}}this.tree.remove(t)}return i}_splitSafely(e,t){this.tree.remove(e);const i=e.rightSE;this.queue.remove(i);const r=e.split(t);return r.push(i),e.consumedBy===void 0&&this.tree.add(e),r}}const Ci=typeof process<"u"&&process.env.POLYGON_CLIPPING_MAX_QUEUE_SIZE||1e6,Er=typeof process<"u"&&process.env.POLYGON_CLIPPING_MAX_SWEEPLINE_SEGMENTS||1e6;class _r{run(e,t,i){ae.type=e,Ke.reset();const r=[new xi(t,!0)];for(let a=0,f=i.length;a<f;a++)r.push(new xi(i[a],!1));if(ae.numMultiPolys=r.length,ae.type==="difference"){const a=r[0];let f=1;for(;f<r.length;)Mt(r[f].bbox,a.bbox)!==null?f++:r.splice(f,1)}if(ae.type==="intersection")for(let a=0,f=r.length;a<f;a++){const g=r[a];for(let y=a+1,w=r.length;y<w;y++)if(Mt(g.bbox,r[y].bbox)===null)return[]}const s=new _t(le.compare);for(let a=0,f=r.length;a<f;a++){const g=r[a].getSweepEvents();for(let y=0,w=g.length;y<w;y++)if(s.insert(g[y]),s.size>Ci)throw new Error("Infinite loop when putting segment endpoints in a priority queue (queue size too big).")}const u=new br(s);let o=s.size,c=s.pop();for(;c;){const a=c.key;if(s.size===o){const g=a.segment;throw new Error(`Unable to pop() ${a.isLeft?"left":"right"} SweepEvent [${a.point.x}, ${a.point.y}] from segment #${g.id} [${g.leftSE.point.x}, ${g.leftSE.point.y}] -> [${g.rightSE.point.x}, ${g.rightSE.point.y}] from queue.`)}if(s.size>Ci)throw new Error("Infinite loop when passing sweep line over endpoints (queue size too big).");if(u.segments.length>Er)throw new Error("Infinite loop when passing sweep line over endpoints (too many sweep line segments).");const f=u.process(a);for(let g=0,y=f.length;g<y;g++){const w=f[g];w.consumedBy===void 0&&s.insert(w)}o=s.size,c=s.pop()}Ke.reset();const l=st.factory(u.segments);return new pr(l).getGeom()}}const ae=new _r;var ki={union:function(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),i=1;i<e;i++)t[i-1]=arguments[i];return ae.run("union",n,t)},intersection:function(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),i=1;i<e;i++)t[i-1]=arguments[i];return ae.run("intersection",n,t)},xor:function(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),i=1;i<e;i++)t[i-1]=arguments[i];return ae.run("xor",n,t)},difference:function(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),i=1;i<e;i++)t[i-1]=arguments[i];return ae.run("difference",n,t)}};function Ni(n,e,t){if(n!==null)for(var i,r,s,u,o,c,l,d=0,a=0,f,g=n.type,y=g==="FeatureCollection",w=g==="Feature",h=y?n.features.length:1,v=0;v<h;v++){l=y?n.features[v].geometry:w?n.geometry:n,f=l?l.type==="GeometryCollection":!1,o=f?l.geometries.length:1;for(var p=0;p<o;p++){var E=0,S=0;if(u=f?l.geometries[p]:l,u!==null){c=u.coordinates;var M=u.type;switch(d=0,M){case null:break;case"Point":if(e(c,a,v,E,S)===!1)return!1;a++,E++;break;case"LineString":case"MultiPoint":for(i=0;i<c.length;i++){if(e(c[i],a,v,E,S)===!1)return!1;a++,M==="MultiPoint"&&E++}M==="LineString"&&E++;break;case"Polygon":case"MultiLineString":for(i=0;i<c.length;i++){for(r=0;r<c[i].length-d;r++){if(e(c[i][r],a,v,E,S)===!1)return!1;a++}M==="MultiLineString"&&E++,M==="Polygon"&&S++}M==="Polygon"&&E++;break;case"MultiPolygon":for(i=0;i<c.length;i++){for(S=0,r=0;r<c[i].length;r++){for(s=0;s<c[i][r].length-d;s++){if(e(c[i][r][s],a,v,E,S)===!1)return!1;a++}S++}E++}break;case"GeometryCollection":for(i=0;i<u.geometries.length;i++)if(Ni(u.geometries[i],e)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function Ct(n,e){var t,i,r,s,u,o,c,l,d,a,f=0,g=n.type==="FeatureCollection",y=n.type==="Feature",w=g?n.features.length:1;for(t=0;t<w;t++){for(o=g?n.features[t].geometry:y?n.geometry:n,l=g?n.features[t].properties:y?n.properties:{},d=g?n.features[t].bbox:y?n.bbox:void 0,a=g?n.features[t].id:y?n.id:void 0,c=o?o.type==="GeometryCollection":!1,u=c?o.geometries.length:1,r=0;r<u;r++){if(s=c?o.geometries[r]:o,s===null){if(e(null,f,l,d,a)===!1)return!1;continue}switch(s.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(e(s,f,l,d,a)===!1)return!1;break}case"GeometryCollection":{for(i=0;i<s.geometries.length;i++)if(e(s.geometries[i],f,l,d,a)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}f++}}function wr(n,e){Ct(n,function(t,i,r,s,u){var o=t===null?null:t.type;switch(o){case null:case"Point":case"LineString":case"Polygon":return e(Ze(t,r,{bbox:s,id:u}),i,0)===!1?!1:void 0}var c;switch(o){case"MultiPoint":c="Point";break;case"MultiLineString":c="LineString";break;case"MultiPolygon":c="Polygon";break}for(var l=0;l<t.coordinates.length;l++){var d=t.coordinates[l],a={type:c,coordinates:d};if(e(Ze(a,r),i,l)===!1)return!1}})}function Lr(n,e={}){const t=[];if(Ct(n,r=>{t.push(r.coordinates)}),t.length<2)throw new Error("Must have at least 2 geometries");const i=ki.union(t[0],...t.slice(1));return i.length===0?null:i.length===1?pt(i[0],e.properties):hi(i,e.properties)}var Ti=Lr;function Sr(n,e={}){if(n.bbox!=null&&e.recompute!==!0)return n.bbox;const t=[1/0,1/0,-1/0,-1/0];return Ni(n,i=>{t[0]>i[0]&&(t[0]=i[0]),t[1]>i[1]&&(t[1]=i[1]),t[2]<i[0]&&(t[2]=i[0]),t[3]<i[1]&&(t[3]=i[1])}),t}var Ri=Sr;function xr(n){const e=[];if(Ct(n,r=>{e.push(r.coordinates)}),e.length<2)throw new Error("Must have at least two features");const t=n.features[0].properties||{},i=ki.difference(e[0],...e.slice(1));return i.length===0?null:i.length===1?pt(i[0],t):hi(i,t)}var Mr=xr;function Cr(n){if(!n)throw new Error("geojson is required");var e=[];return wr(n,function(t){e.push(t)}),He(e)}var kr=Cr;function Pi(n,e){const t=Mr(He([pt([[[180,90],[-180,90],[-180,-90],[180,-90],[180,90]]]),n]));if(!t)return;t.properties={isMask:!0};const i=it(Ri(n)),r=(i[2]-i[0])/360/1e3,s=i[0]<-180,u=i[2]>180,o=kr(n);if(o.features.length>1&&(s||u))for(const c of o.features){const l=it(Ri(c));if(u&&l[0]<-180+r)for(const d of c.geometry.coordinates)for(const a of d)a[0]+=360-r;if(s&&l[2]>180-r)for(const d of c.geometry.coordinates)for(const a of d)a[0]-=360-r}e(He([o.features.length<2?n:Ti(o)??n,t]))}const Ii={fill:{paint:{"fill-color":"#000","fill-opacity":.1},filter:["all",["==",["geometry-type"],"Polygon"],["has","isMask"]]},line:{layout:{"line-cap":"square"},paint:{"line-width":["case",["==",["geometry-type"],"Polygon"],2,3],"line-dasharray":[1,1],"line-color":"#3170fe"},filter:["!",["has","isMask"]]}},ot="mtlr-gc-full-geom",Oi="mtlr-gc-full-geom-fill",Ai="mtlr-gc-full-geom-line";function Wi(n,e,t=!0,i=!0,r={},s={},u=Ii){let o;const c=[];let l,d,a;function f(){if(!n.loaded){n.once("load",f);return}const h=u?u===!0?Ii:u:void 0;if(!(h!=null&&h.fill)&&!(h!=null&&h.line))return;const v=n.getSource(ot);if(v)v.setData(a??He([]));else if(a)n.addSource(ot,{type:"geojson",data:a});else return;!n.getLayer(Oi)&&(h!=null&&h.fill)&&n.addLayer({...h==null?void 0:h.fill,id:Oi,type:"fill",source:ot}),!n.getLayer(Ai)&&(h!=null&&h.line)&&n.addLayer({...h==null?void 0:h.line,id:Ai,type:"line",source:ot})}function g(h){a=h,f()}n.on("styledata",()=>{setTimeout(()=>{a&&f()})});const y=h=>{o==null||o({type:"mapClick",coordinates:[h.lngLat.lng,h.lngLat.lat]})};function w(h=!1){if(!e)throw new Error;const v=document.createElement("div");return h&&v.classList.add("marker-interactive"),new Cn({props:{displayIn:"maplibre"},target:v}),new e.Marker({element:v,offset:[1,-13]})}return{setEventHandler(h){h?(o=h,n.on("click",y)):(o=void 0,n.off("click",y))},flyTo(h,v){n.flyTo({center:h,...v?{zoom:v}:{},...r})},fitBounds(h,v,p){n.fitBounds([[h[0],h[1]],[h[2],h[3]]],{padding:v,...p?{maxZoom:p}:{},...s})},indicateReverse(h){n.getCanvasContainer().style.cursor=h?"crosshair":""},setReverseMarker(h){!e||!t||(d?h?d.setLngLat(h):(d.remove(),d=void 0):h&&(t instanceof Function?d=t(n)??void 0:(d=(typeof t=="object"?new e.Marker(t):w()).setLngLat(h).addTo(n),d.getElement().classList.add("marker-reverse"))))},setFeatures(h,v,p){for(const E of c)E.remove();if(c.length=0,g(void 0),!!e){if(v){let E=!1;if(v.geometry.type==="GeometryCollection"){const S=v.geometry.geometries.filter(M=>M.type==="Polygon"||M.type==="MultiPolygon");e:if(S.length>0){const M=Ti(He(S.map(C=>Ze(C))));if(!M)break e;Pi({...v,geometry:M.geometry},g),E=!0}else{const M=v.geometry.geometries.filter(C=>C.type==="LineString"||C.type==="MultiLineString");M.length>0&&(g({...v,geometry:{type:"GeometryCollection",geometries:M}}),E=!0)}}if(!E){if(v.geometry.type==="Polygon"||v.geometry.type==="MultiPolygon")Pi(v,g);else if(v.geometry.type==="LineString"||v.geometry.type==="MultiLineString"){g(v);return}}if(!p&&v.geometry.type!=="Point")return;if(t instanceof Function){const S=t(n,v);S&&c.push(S)}else t&&c.push(typeof t=="object"?new e.Marker(t):w().setLngLat(v.center).addTo(n))}if(i)for(const E of h??[]){if(E===v)continue;let S;if(i instanceof Function){if(S=i(n,E),!S)continue}else S=(typeof i=="object"?new e.Marker(i):w(!0)).setLngLat(E.center).setPopup(new e.Popup({offset:[1,-27],closeButton:!1,closeOnMove:!0,className:"maptiler-gc-popup"}).setText(E.place_type[0]==="reverse"?E.place_name:E.place_name.replace(/,.*/,""))).addTo(n);const M=S.getElement();M.addEventListener("click",C=>{C.stopPropagation(),o==null||o({type:"markerClick",id:E.id})}),M.addEventListener("mouseenter",()=>{o==null||o({type:"markerMouseEnter",id:E.id}),S.togglePopup()}),M.addEventListener("mouseleave",()=>{o==null||o({type:"markerMouseLeave",id:E.id}),S.togglePopup()}),c.push(S)}}},setSelectedMarker(h){l&&l.getElement().classList.toggle("marker-selected",!1),l=h>-1?c[h]:void 0,l==null||l.getElement().classList.toggle("marker-selected",!0)},getCenterAndZoom(){const h=n.getCenter();return[n.getZoom(),h.lng,h.lat]}}}function Nr(n,e,t){var y,w;class i{constructor(v,p){ne(this,"type");ne(this,"target");this.type=p,this.target=v}}class r extends i{constructor(p,E){super(p,"select");ne(this,"feature");Object.assign(this,E)}}class s extends i{constructor(p,E){super(p,"featureslisted");ne(this,"features");this.features=E}}class u extends i{constructor(p,E){super(p,"featuresmarked");ne(this,"features");this.features=E}}class o extends i{constructor(p,E){super(p,"optionsvisibilitychange");ne(this,"optionsVisible");this.optionsVisible=E}}class c extends i{constructor(p,E){super(p,"pick");ne(this,"feature");this.feature=E}}class l extends i{constructor(p,E){super(p,"querychange");ne(this,"query");this.query=E}}class d extends i{constructor(p,E,S){super(p,"response");ne(this,"url");ne(this,"featureCollection");this.url=E,this.featureCollection=S}}class a extends i{constructor(p,E){super(p,"reversetoggle");ne(this,"reverse");this.reverse=E}}class f extends n{constructor(p={}){super();Ut(this,y);Ut(this,w);Ft(this,w,p)}onAddInt(p){const E=document.createElement("div");E.className="mapboxgl-ctrl-geocoder mapboxgl-ctrl maplibregl-ctrl-geocoder maplibregl-ctrl mapboxgl-ctrl-group";const{marker:S,showResultMarkers:M,flyTo:C,fullGeometryStyle:_,...L}=V(this,w),k=typeof C=="boolean"?{}:C,Q={mapController:Wi(p,e,S,M,k,k,_),flyTo:C===void 0?!0:!!C,apiKey:"",...t==null?void 0:t(p,E),...L};if(!Q.apiKey)throw new Error("no apiKey provided");return Ft(this,y,new Xn({target:E,props:Q})),V(this,y).$on("select",N=>{this.fire(new r(this,N.detail))}),V(this,y).$on("pick",N=>{this.fire(new c(this,N.detail.feature))}),V(this,y).$on("featureslisted",N=>{this.fire(new s(this,N.detail.features))}),V(this,y).$on("featuresmarked",N=>{this.fire(new u(this,N.detail.features))}),V(this,y).$on("response",N=>{this.fire(new d(this,N.detail.url,N.detail.featureCollection))}),V(this,y).$on("optionsvisibilitychange",N=>{this.fire(new o(this,N.detail.optionsVisible))}),V(this,y).$on("reversetoggle",N=>{this.fire(new a(this,N.detail.reverse))}),V(this,y).$on("querychange",N=>{this.fire(new l(this,N.detail.query))}),E}on(p,E){return super.on(p,E)}once(p,E){return super.once(p,E)}off(p,E){return super.off(p,E)}listens(p){return super.listens(p)}setOptions(p){var L;Object.assign(V(this,w),p);const{marker:E,showResultMarkers:S,flyTo:M,fullGeometryStyle:C,..._}=V(this,w);(L=V(this,y))==null||L.$set(_)}setQuery(p,E=!0){var S;(S=V(this,y))==null||S.setQuery(p,E)}clearMap(){var p;(p=V(this,y))==null||p.clearMap()}clearList(){var p;(p=V(this,y))==null||p.clearList()}setReverseMode(p){var E;(E=V(this,y))==null||E.$set({reverseActive:p})}focus(){var p;(p=V(this,y))==null||p.focus()}blur(){var p;(p=V(this,y))==null||p.blur()}onRemove(){var p;(p=V(this,y))==null||p.$destroy()}}return y=new WeakMap,w=new WeakMap,{MapLibreBasedGeocodingControl:f,events:{SelectEvent:r,FeaturesListedEvent:s,FeaturesMarkedEvent:u,OptionsVisibilityChangeEvent:o,PickEvent:c,QueryChangeEvent:l,ResponseEvent:d,ReverseToggleEvent:a}}}const{MapLibreBasedGeocodingControl:Tr,events:ke}=Nr(Ue.Evented,Ue);class Rr extends Tr{onAdd(e){return super.onAddInt(e)}}const Pr=ke.SelectEvent,Ir=ke.FeaturesListedEvent,Or=ke.FeaturesMarkedEvent,Ar=ke.OptionsVisibilityChangeEvent,Wr=ke.PickEvent,zr=ke.QueryChangeEvent,Br=ke.ResponseEvent,Dr=ke.ReverseToggleEvent;T.FeaturesListedEvent=Ir,T.FeaturesMarkedEvent=Or,T.GeocodingControl=Rr,T.OptionsVisibilityChangeEvent=Ar,T.PickEvent=Wr,T.QueryChangeEvent=zr,T.ResponseEvent=Br,T.ReverseToggleEvent=Dr,T.SelectEvent=Pr,T.createMapLibreGlMapController=Wi,Object.defineProperty(T,Symbol.toStringTag,{value:"Module"})});
//# sourceMappingURL=maplibregl.umd.js.map
