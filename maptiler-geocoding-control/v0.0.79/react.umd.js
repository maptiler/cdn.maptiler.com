(function(ne,K){typeof exports=="object"&&typeof module<"u"?K(exports,require("react")):typeof define=="function"&&define.amd?define(["exports","react"],K):(ne=typeof globalThis<"u"?globalThis:ne||self,K(ne.MaptilerGeocoder={},ne.React))})(this,function(ne,K){"use strict";function b(){}function ft(t,e){for(const n in e)t[n]=e[n];return t}function qe(t){return t()}function He(){return Object.create(null)}function Y(t){t.forEach(qe)}function Ke(t){return typeof t=="function"}function ue(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function at(t){return Object.keys(t).length===0}function dt(t,e,n,l){if(t){const c=Qe(t,e,n,l);return t[0](c)}}function Qe(t,e,n,l){return t[1]&&l?ft(n.ctx.slice(),t[1](l(e))):n.ctx}function ht(t,e,n,l){if(t[2]&&l){const c=t[2](l(n));if(e.dirty===void 0)return c;if(typeof c=="object"){const u=[],i=Math.max(e.dirty.length,c.length);for(let m=0;m<i;m+=1)u[m]=e.dirty[m]|c[m];return u}return e.dirty|c}return e.dirty}function mt(t,e,n,l,c,u){if(c){const i=Qe(e,n,l,u);t.p(i,c)}}function _t(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let l=0;l<n;l++)e[l]=-1;return e}return-1}function Ue(t){return t??""}function _(t,e){t.appendChild(e)}function F(t,e,n){t.insertBefore(e,n||null)}function G(t){t.parentNode&&t.parentNode.removeChild(t)}function gt(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function B(t){return document.createElement(t)}function $(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function le(t){return document.createTextNode(t)}function U(){return le(" ")}function V(t,e,n,l){return t.addEventListener(e,n,l),()=>t.removeEventListener(e,n,l)}function yt(t){return function(e){return e.preventDefault(),t.call(this,e)}}function o(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function bt(t){return Array.from(t.childNodes)}function we(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function We(t,e){t.value=e??""}function Q(t,e,n){t.classList[n?"add":"remove"](e)}function wt(t,e,{bubbles:n=!1,cancelable:l=!1}={}){const c=document.createEvent("CustomEvent");return c.initCustomEvent(t,n,l,e),c}let ke;function ve(t){ke=t}function Ze(){if(!ke)throw new Error("Function called outside component initialization");return ke}function kt(t){Ze().$$.on_destroy.push(t)}function vt(){const t=Ze();return(e,n,{cancelable:l=!1}={})=>{const c=t.$$.callbacks[e];if(c){const u=wt(e,n,{cancelable:l});return c.slice().forEach(i=>{i.call(t,u)}),!u.defaultPrevented}return!0}}const fe=[],Pe=[];let ae=[];const Je=[],pt=Promise.resolve();let Ae=!1;function zt(){Ae||(Ae=!0,pt.then(Xe))}function Ne(t){ae.push(t)}const je=new Set;let de=0;function Xe(){if(de!==0)return;const t=ke;do{try{for(;de<fe.length;){const e=fe[de];de++,ve(e),Mt(e.$$)}}catch(e){throw fe.length=0,de=0,e}for(ve(null),fe.length=0,de=0;Pe.length;)Pe.pop()();for(let e=0;e<ae.length;e+=1){const n=ae[e];je.has(n)||(je.add(n),n())}ae.length=0}while(fe.length);for(;Je.length;)Je.pop()();Ae=!1,je.clear(),ve(t)}function Mt(t){if(t.fragment!==null){t.update(),Y(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Ne)}}function Tt(t){const e=[],n=[];ae.forEach(l=>t.indexOf(l)===-1?e.push(l):n.push(l)),n.forEach(l=>l()),ae=e}const Te=new Set;let re;function Re(){re={r:0,c:[],p:re}}function Ce(){re.r||Y(re.c),re=re.p}function S(t,e){t&&t.i&&(Te.delete(t),t.i(e))}function O(t,e,n,l){if(t&&t.o){if(Te.has(t))return;Te.add(t),re.c.push(()=>{Te.delete(t),l&&(n&&t.d(1),l())}),t.o(e)}else l&&l()}function pe(t){t&&t.c()}function he(t,e,n,l){const{fragment:c,after_update:u}=t.$$;c&&c.m(e,n),l||Ne(()=>{const i=t.$$.on_mount.map(qe).filter(Ke);t.$$.on_destroy?t.$$.on_destroy.push(...i):Y(i),t.$$.on_mount=[]}),u.forEach(Ne)}function me(t,e){const n=t.$$;n.fragment!==null&&(Tt(n.after_update),Y(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Rt(t,e){t.$$.dirty[0]===-1&&(fe.push(t),zt(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function _e(t,e,n,l,c,u,i,m=[-1]){const f=ke;ve(t);const a=t.$$={fragment:null,ctx:[],props:u,update:b,not_equal:c,bound:He(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(f?f.$$.context:[])),callbacks:He(),dirty:m,skip_bound:!1,root:e.target||f.$$.root};i&&i(a.root);let h=!1;if(a.ctx=n?n(t,e.props||{},(v,I,...N)=>{const D=N.length?N[0]:I;return a.ctx&&c(a.ctx[v],a.ctx[v]=D)&&(!a.skip_bound&&a.bound[v]&&a.bound[v](D),h&&Rt(t,v)),I}):[],a.update(),h=!0,Y(a.before_update),a.fragment=l?l(a.ctx):!1,e.target){if(e.hydrate){const v=bt(e.target);a.fragment&&a.fragment.l(v),v.forEach(G)}else a.fragment&&a.fragment.c();e.intro&&S(t.$$.fragment),he(t,e.target,e.anchor,e.customElement),Xe()}ve(f)}class ge{$destroy(){me(this,1),this.$destroy=b}$on(e,n){if(!Ke(n))return b;const l=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return l.push(n),()=>{const c=l.indexOf(n);c!==-1&&l.splice(c,1)}}$set(e){this.$$set&&!at(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const dn="";function Ct(t){let e,n;return{c(){e=$("svg"),n=$("path"),o(n,"d","M30.003-26.765C13.46-26.765 0-14.158 0 1.337c0 23.286 24.535 42.952 28.39 46.04.24.192.402.316.471.376.323.282.732.424 1.142.424.41 0 .82-.142 1.142-.424.068-.06.231-.183.471-.376 3.856-3.09 28.39-22.754 28.39-46.04 0-15.495-13.46-28.102-30.003-28.102Zm1.757 12.469c4.38 0 7.858 1.052 10.431 3.158 2.595 2.105 3.89 4.913 3.89 8.422 0 2.34-.53 4.362-1.593 6.063-1.063 1.702-3.086 3.616-6.063 5.742-2.042 1.51-3.337 2.659-3.89 3.446-.532.787-.8 1.82-.8 3.096v1.914h-8.449V15.18c0-2.041.434-3.815 1.306-5.325.872-1.51 2.467-3.118 4.785-4.82 2.233-1.594 3.7-2.89 4.402-3.889a5.582 5.582 0 0 0 1.087-3.35c0-1.382-.51-2.435-1.531-3.158-1.02-.723-2.45-1.087-4.28-1.087-3.19 0-6.826 1.047-10.91 3.131l-3.472-6.986c4.742-2.659 9.77-3.992 15.087-3.992Zm-1.88 37.324c1.765 0 3.124.472 4.08 1.408.98.936 1.47 2.276 1.47 4.02 0 1.68-.49 3.007-1.47 3.985-.977.957-2.336 1.435-4.08 1.435-1.787 0-3.171-.465-4.15-1.4-.978-.958-1.47-2.298-1.47-4.02 0-1.787.48-3.14 1.436-4.054.957-.915 2.355-1.374 4.184-1.374Z"),o(e,"viewBox","0 0 60.006 21.412"),o(e,"width","14"),o(e,"height","20"),o(e,"class","svelte-en2qvf")},m(l,c){F(l,e,c),_(e,n)},p:b,i:b,o:b,d(l){l&&G(e)}}}class Et extends ge{constructor(e){super(),_e(this,e,null,Ct,ue,{})}}const hn="";function Bt(t){let e,n;return{c(){e=$("svg"),n=$("path"),o(n,"d","M3.8 2.5c-.6 0-1.3.7-1.3 1.3 0 .3.2.7.5.8L7.2 9 3 13.2c-.3.3-.5.7-.5 1 0 .6.7 1.3 1.3 1.3.3 0 .7-.2 1-.5L9 10.8l4.2 4.2c.2.3.7.3 1 .3.6 0 1.3-.7 1.3-1.3 0-.3-.2-.7-.3-1l-4.4-4L15 4.6c.3-.2.5-.5.5-.8 0-.7-.7-1.3-1.3-1.3-.3 0-.7.2-1 .3L9 7.1 4.8 2.8c-.3-.1-.7-.3-1-.3z"),o(e,"viewBox","0 0 18 18"),o(e,"width","16"),o(e,"height","16"),o(e,"class","svelte-en2qvf")},m(l,c){F(l,e,c),_(e,n)},p:b,i:b,o:b,d(l){l&&G(e)}}}class St extends ge{constructor(e){super(),_e(this,e,null,Bt,ue,{})}}const mn="";function Lt(t){let e;return{c(){e=B("div"),e.innerHTML='<svg viewBox="0 0 18 18" width="24" height="24" class="svelte-7cmwmc"><path fill="#333" d="M4.4 4.4l.8.8c2.1-2.1 5.5-2.1 7.6 0l.8-.8c-2.5-2.5-6.7-2.5-9.2 0z"></path><path opacity=".1" d="M12.8 12.9c-2.1 2.1-5.5 2.1-7.6 0-2.1-2.1-2.1-5.5 0-7.7l-.8-.8c-2.5 2.5-2.5 6.7 0 9.2s6.6 2.5 9.2 0 2.5-6.6 0-9.2l-.8.8c2.2 2.1 2.2 5.6 0 7.7z"></path></svg>',o(e,"class","svelte-7cmwmc")},m(n,l){F(n,e,l)},p:b,i:b,o:b,d(n){n&&G(e)}}}class It extends ge{constructor(e){super(),_e(this,e,null,Lt,ue,{})}}const _n="";function Pt(t){let e,n,l;return{c(){e=$("svg"),n=$("path"),o(n,"stroke-width","4"),o(n,"fill-rule","evenodd"),o(n,"clip-rule","evenodd"),o(n,"d","M 5,33.103579 C 5,17.607779 18.457,5 35,5 C 51.543,5 65,17.607779 65,33.103579 C 65,56.388679 40.4668,76.048179 36.6112,79.137779 C 36.3714,79.329879 36.2116,79.457979 36.1427,79.518879 C 35.8203,79.800879 35.4102,79.942779 35,79.942779 C 34.5899,79.942779 34.1797,79.800879 33.8575,79.518879 C 33.7886,79.457979 33.6289,79.330079 33.3893,79.138079 C 29.5346,76.049279 5,56.389379 5,33.103579 Z M 35.0001,49.386379 C 43.1917,49.386379 49.8323,42.646079 49.8323,34.331379 C 49.8323,26.016779 43.1917,19.276479 35.0001,19.276479 C 26.8085,19.276479 20.1679,26.016779 20.1679,34.331379 C 20.1679,42.646079 26.8085,49.386379 35.0001,49.386379 Z"),o(n,"class","svelte-1k1cmht"),o(e,"width",l=t[0]!=="list"?void 0:"20"),o(e,"viewBox","0 0 70 85"),o(e,"fill","none"),o(e,"class","svelte-1k1cmht"),Q(e,"in-map",t[0]!=="list"),Q(e,"list-icon",t[0]==="list")},m(c,u){F(c,e,u),_(e,n)},p(c,[u]){u&1&&l!==(l=c[0]!=="list"?void 0:"20")&&o(e,"width",l),u&1&&Q(e,"in-map",c[0]!=="list"),u&1&&Q(e,"list-icon",c[0]==="list")},i:b,o:b,d(c){c&&G(e)}}}function At(t,e,n){let{displayIn:l}=e;return t.$$set=c=>{"displayIn"in c&&n(0,l=c.displayIn)},[l]}class Nt extends ge{constructor(e){super(),_e(this,e,At,Pt,ue,{displayIn:0})}}const gn="";function jt(t){let e,n;return{c(){e=$("svg"),n=$("path"),o(n,"d","M7.4 2.5c-2.7 0-4.9 2.2-4.9 4.9s2.2 4.9 4.9 4.9c1 0 1.8-.2 2.5-.8l3.7 3.7c.2.2.4.3.8.3.7 0 1.1-.4 1.1-1.1 0-.3-.1-.5-.3-.8L11.4 10c.4-.8.8-1.6.8-2.5.1-2.8-2.1-5-4.8-5zm0 1.6c1.8 0 3.2 1.4 3.2 3.2s-1.4 3.2-3.2 3.2-3.3-1.3-3.3-3.1 1.4-3.3 3.3-3.3z"),o(e,"viewBox","0 0 18 18"),o(e,"xml:space","preserve"),o(e,"width","20"),o(e,"class","svelte-en2qvf")},m(l,c){F(l,e,c),_(e,n)},p:b,i:b,o:b,d(l){l&&G(e)}}}class xt extends ge{constructor(e){super(),_e(this,e,null,jt,ue,{})}}const yn="";function Ye(t,e,n){const l=t.slice();return l[69]=e[n],l[71]=n,l}function $e(t){let e,n;return e=new It({}),{c(){pe(e.$$.fragment)},m(l,c){he(e,l,c),n=!0},i(l){n||(S(e.$$.fragment,l),n=!0)},o(l){O(e.$$.fragment,l),n=!1},d(l){me(e,l)}}}function et(t){let e,n,l,c,u;return n=new Et({}),{c(){e=B("button"),pe(n.$$.fragment),o(e,"type","button"),o(e,"title",t[9]),o(e,"class","svelte-z0d4ta"),Q(e,"active",t[0])},m(i,m){F(i,e,m),he(n,e,null),l=!0,c||(u=V(e,"click",t[56]),c=!0)},p(i,m){(!l||m[0]&512)&&o(e,"title",i[9]),(!l||m[0]&1)&&Q(e,"active",i[0])},i(i){l||(S(n.$$.fragment,i),l=!0)},o(i){O(n.$$.fragment,i),l=!1},d(i){i&&G(e),me(n),c=!1,u()}}}function Gt(t){let e,n,l,c,u=t[12],i=[];for(let f=0;f<u.length;f+=1)i[f]=nt(Ye(t,u,f));const m=f=>O(i[f],1,1,()=>{i[f]=null});return{c(){e=B("ul");for(let f=0;f<i.length;f+=1)i[f].c();o(e,"class","svelte-z0d4ta")},m(f,a){F(f,e,a);for(let h=0;h<i.length;h+=1)i[h]&&i[h].m(e,null);n=!0,l||(c=[V(e,"mouseleave",t[59]),V(e,"blur",t[60])],l=!0)},p(f,a){if(a[0]&2110464){u=f[12];let h;for(h=0;h<u.length;h+=1){const v=Ye(f,u,h);i[h]?(i[h].p(v,a),S(i[h],1)):(i[h]=nt(v),i[h].c(),S(i[h],1),i[h].m(e,null))}for(Re(),h=u.length;h<i.length;h+=1)m(h);Ce()}},i(f){if(!n){for(let a=0;a<u.length;a+=1)S(i[a]);n=!0}},o(f){i=i.filter(Boolean);for(let a=0;a<i.length;a+=1)O(i[a]);n=!1},d(f){f&&G(e),gt(i,f),l=!1,Y(c)}}}function Ot(t){let e,n;return{c(){e=B("div"),n=le(t[7]),o(e,"class","no-results svelte-z0d4ta")},m(l,c){F(l,e,c),_(e,n)},p(l,c){c[0]&128&&we(n,l[7])},i:b,o:b,d(l){l&&G(e)}}}function Dt(t){let e="",n;return{c(){n=le(e)},m(l,c){F(l,n,c)},p:b,i:b,o:b,d(l){l&&G(n)}}}function Ft(t){let e,n;return{c(){e=B("div"),n=le(t[6]),o(e,"class","error svelte-z0d4ta")},m(l,c){F(l,e,c),_(e,n)},p(l,c){c[0]&64&&we(n,l[6])},i:b,o:b,d(l){l&&G(e)}}}function tt(t){var c,u;let e,n=(((u=(c=t[69].properties)==null?void 0:c.place_type_name)==null?void 0:u[0])??t[69].place_type[0])+"",l;return{c(){e=B("span"),l=le(n),o(e,"class","svelte-z0d4ta")},m(i,m){F(i,e,m),_(e,l)},p(i,m){var f,a;m[0]&4096&&n!==(n=(((a=(f=i[69].properties)==null?void 0:f.place_type_name)==null?void 0:a[0])??i[69].place_type[0])+"")&&we(l,n)},d(i){i&&G(e)}}}function nt(t){let e,n,l,c,u,i,m=t[69].place_name.replace(/,.*/,"")+"",f,a,h,v,I,N=t[69].place_name.replace(/[^,]*,?\s*/,"")+"",D,p,k,L,R,q;n=new Nt({props:{displayIn:"list"}});let z=t[10]&&tt(t);function d(){return t[57](t[71])}function w(){return t[58](t[69])}return{c(){e=B("li"),pe(n.$$.fragment),l=U(),c=B("span"),u=B("span"),i=B("span"),f=le(m),a=U(),z&&z.c(),h=U(),v=B("span"),I=B("span"),D=le(N),p=U(),o(i,"class","svelte-z0d4ta"),o(u,"class","svelte-z0d4ta"),o(c,"class","svelte-z0d4ta"),o(I,"class","svelte-z0d4ta"),o(v,"class","svelte-z0d4ta"),o(e,"tabindex","0"),o(e,"data-selected",k=t[13]===t[71]),o(e,"class","svelte-z0d4ta"),Q(e,"selected",t[13]===t[71])},m(A,M){F(A,e,M),he(n,e,null),_(e,l),_(e,c),_(c,u),_(u,i),_(i,f),_(u,a),z&&z.m(u,null),_(e,h),_(e,v),_(v,I),_(I,D),_(e,p),L=!0,R||(q=[V(e,"mouseenter",d),V(e,"focus",w)],R=!0)},p(A,M){t=A,(!L||M[0]&4096)&&m!==(m=t[69].place_name.replace(/,.*/,"")+"")&&we(f,m),t[10]?z?z.p(t,M):(z=tt(t),z.c(),z.m(u,null)):z&&(z.d(1),z=null),(!L||M[0]&4096)&&N!==(N=t[69].place_name.replace(/[^,]*,?\s*/,"")+"")&&we(D,N),(!L||M[0]&8192&&k!==(k=t[13]===t[71]))&&o(e,"data-selected",k),(!L||M[0]&8192)&&Q(e,"selected",t[13]===t[71])},i(A){L||(S(n.$$.fragment,A),L=!0)},o(A){O(n.$$.fragment,A),L=!1},d(A){A&&G(e),me(n),z&&z.d(),R=!1,Y(q)}}}function Vt(t){let e,n,l,c,u,i,m,f,a,h,v,I,N,D,p,k,L,R,q,z;c=new xt({}),h=new St({});let d=t[17]&&$e(),w=t[5]===!0&&et(t);const A=t[48].default,M=dt(A,t,t[47],null),J=[Ft,Dt,Ot,Gt],P=[];function ze(s,T){var X,ie;return s[16]?0:s[14]?((X=s[12])==null?void 0:X.length)===0?2:s[14]&&((ie=s[12])!=null&&ie.length)?3:-1:1}return~(p=ze(t))&&(k=P[p]=J[p](t)),{c(){e=B("form"),n=B("div"),l=B("button"),pe(c.$$.fragment),u=U(),i=B("input"),m=U(),f=B("div"),a=B("button"),pe(h.$$.fragment),v=U(),d&&d.c(),I=U(),w&&w.c(),N=U(),M&&M.c(),D=U(),k&&k.c(),o(l,"type","button"),o(l,"class","svelte-z0d4ta"),o(i,"placeholder",t[8]),o(i,"aria-label",t[8]),o(i,"class","svelte-z0d4ta"),o(a,"type","button"),o(a,"title",t[3]),o(a,"class","svelte-z0d4ta"),Q(a,"displayable",t[1]!==""),o(f,"class","clear-button-container svelte-z0d4ta"),o(n,"class","input-group svelte-z0d4ta"),o(e,"tabindex","0"),o(e,"class",L=Ue(t[2])+" svelte-z0d4ta"),Q(e,"can-collapse",t[4]&&t[1]==="")},m(s,T){F(s,e,T),_(e,n),_(n,l),he(c,l,null),_(n,u),_(n,i),t[50](i),We(i,t[1]),_(n,m),_(n,f),_(f,a),he(h,a,null),_(f,v),d&&d.m(f,null),_(n,I),w&&w.m(n,null),_(n,N),M&&M.m(n,null),_(e,D),~p&&P[p].m(e,null),R=!0,q||(z=[V(l,"click",t[49]),V(i,"input",t[51]),V(i,"focus",t[52]),V(i,"blur",t[53]),V(i,"keydown",t[19]),V(i,"input",t[54]),V(a,"click",t[55]),V(e,"submit",yt(t[18]))],q=!0)},p(s,T){(!R||T[0]&256)&&o(i,"placeholder",s[8]),(!R||T[0]&256)&&o(i,"aria-label",s[8]),T[0]&2&&i.value!==s[1]&&We(i,s[1]),(!R||T[0]&8)&&o(a,"title",s[3]),(!R||T[0]&2)&&Q(a,"displayable",s[1]!==""),s[17]?d?T[0]&131072&&S(d,1):(d=$e(),d.c(),S(d,1),d.m(f,null)):d&&(Re(),O(d,1,1,()=>{d=null}),Ce()),s[5]===!0?w?(w.p(s,T),T[0]&32&&S(w,1)):(w=et(s),w.c(),S(w,1),w.m(n,N)):w&&(Re(),O(w,1,1,()=>{w=null}),Ce()),M&&M.p&&(!R||T[1]&65536)&&mt(M,A,s,s[47],R?ht(A,s[47],T,null):_t(s[47]),null);let X=p;p=ze(s),p===X?~p&&P[p].p(s,T):(k&&(Re(),O(P[X],1,1,()=>{P[X]=null}),Ce()),~p?(k=P[p],k?k.p(s,T):(k=P[p]=J[p](s),k.c()),S(k,1),k.m(e,null)):k=null),(!R||T[0]&4&&L!==(L=Ue(s[2])+" svelte-z0d4ta"))&&o(e,"class",L),(!R||T[0]&22)&&Q(e,"can-collapse",s[4]&&s[1]==="")},i(s){R||(S(c.$$.fragment,s),S(h.$$.fragment,s),S(d),S(w),S(M,s),S(k),R=!0)},o(s){O(c.$$.fragment,s),O(h.$$.fragment,s),O(d),O(w),O(M,s),O(k),R=!1},d(s){s&&G(e),me(c),t[50](null),me(h),d&&d.d(),w&&w.d(),M&&M.d(s),~p&&P[p].d(),q=!1,Y(z)}}}function qt(t,e,n){const l=e[1],c=e[0],u=l-c;return t===l&&n?t:((t-c)%u+u)%u+c}function lt(t){let e=[...t];return e[2]<e[0]&&(e[2]+=360),e}function Ht(t,e,n){let l,{$$slots:c={},$$scope:u}=e,{class:i=void 0}=e,{apiKey:m}=e,{bbox:f=void 0}=e,{clearButtonTitle:a="clear"}=e,{clearOnBlur:h=!1}=e,{collapsed:v=!1}=e,{country:I=void 0}=e,{debounceSearch:N=200}=e,{enableReverse:D=!1}=e,{errorMessage:p="Searching failed"}=e,{filter:k=()=>!0}=e,{flyTo:L=!0}=e,{fuzzyMatch:R=!0}=e,{language:q=void 0}=e,{limit:z=void 0}=e,{mapController:d=void 0}=e,{minLength:w=2}=e,{noResultsMessage:A="No results found"}=e,{placeholder:M="Search"}=e,{proximity:J=void 0}=e,{reverseActive:P=D==="always"}=e,{reverseButtonTitle:ze="toggle reverse geocoding"}=e,{searchValue:s=""}=e,{showFullGeometry:T=!0}=e,{showPlaceType:X=!1}=e,{showResultsWhileTyping:ie=!0}=e,{trackProximity:Ee=!0}=e,{types:Be=void 0}=e,{zoom:Se=16}=e,{fetchParameters:xe={}}=e;function Wt(){W.focus()}function Zt(){W.blur()}function ct(r,E=!0){n(1,s=r),E?(n(13,C=-1),st()):(Oe(),setTimeout(()=>{W.focus(),W.select()}))}let ye=!1,g,j,y,ot="",W,C=-1,ee,Le=[],ce,be,Ie;const te=vt();kt(()=>{d&&(d.setEventHandler(void 0),d.indicateReverse(!1),d.setSelectedMarker(-1),d.setMarkers(void 0,void 0))});function st(r){if(be&&(clearTimeout(be),be=void 0),C>-1&&g)n(45,y=g[C]),n(1,s=y.place_name.replace(/,.*/,"")),n(16,ee=void 0),n(44,j=void 0),n(13,C=-1);else if(s){const E=r||!ut();Ge(s,{exact:!0}).then(()=>{n(44,j=g),n(45,y=void 0),E&&Jt()}).catch(Z=>n(16,ee=Z))}}function ut(){return/^-?\d+(\.\d+)?,-?\d+(\.\d+)?$/.test(s)}async function Ge(r,{byId:E=!1,exact:Z=!1}={}){n(16,ee=void 0);const Me=ut(),H=new URLSearchParams;q!=null&&H.set("language",Array.isArray(q)?q.join(","):q),Be&&H.set("types",Be.join(",")),Me||(f&&H.set("bbox",f.map(se=>se.toFixed(6)).join(",")),I&&H.set("country",Array.isArray(I)?I.join(","):I)),E||(J&&H.set("proximity",J.map(se=>se.toFixed(6)).join(",")),(Z||!ie)&&H.set("autocomplete","false"),H.set("fuzzyMatch",String(R))),z!==void 0&&H.set("limit",String(z)),H.set("key",m);const oe="https://api.maptiler.com/geocoding/"+encodeURIComponent(r)+".json?"+H.toString();if(oe===ot){E?(n(12,g=void 0),n(45,y=Le[0])):n(12,g=Le);return}ot=oe,ce==null||ce.abort();const x=new AbortController;n(17,ce=x);let Fe;try{Fe=await fetch(oe,{signal:x.signal,...xe}).finally(()=>{x===ce&&n(17,ce=void 0)})}catch(se){if(se&&typeof se=="object"&&se.name==="AbortError")return;throw new Error}if(!Fe.ok)throw new Error;const Ve=await Fe.json();te("response",{url:oe,featureCollection:Ve}),E?(n(12,g=void 0),n(45,y=Ve.features[0]),Le=[y]):(n(12,g=Ve.features.filter(k)),Le=g,Me&&W.focus())}function Jt(){var Z,Me,H,oe;if(!(j!=null&&j.length)||!L)return;const r=[180,90,-180,-90],E=!j.some(x=>!x.matching_text);for(const x of j)(E||!x.matching_text)&&(r[0]=Math.min(r[0],((Z=x.bbox)==null?void 0:Z[0])??x.center[0]),r[1]=Math.min(r[1],((Me=x.bbox)==null?void 0:Me[1])??x.center[1]),r[2]=Math.max(r[2],((H=x.bbox)==null?void 0:H[2])??x.center[0]),r[3]=Math.max(r[3],((oe=x.bbox)==null?void 0:oe[3])??x.center[1]));d&&j.length>0&&(y&&r[0]===r[2]&&r[1]===r[3]?d.flyTo(y.center,Se):d.fitBounds(lt(r),50))}function Xt(r){n(0,P=D==="always"),ct(qt(r[0],[-180,180],!0).toFixed(6)+","+r[1].toFixed(6))}function Yt(r){if(!g)return;let E=r.key==="ArrowDown"?1:r.key==="ArrowUp"?-1:0;E?(C===-1&&E===-1&&n(13,C=g.length),n(13,C+=E),C>=g.length&&n(13,C=-1),r.preventDefault()):["ArrowLeft","ArrowRight","Home","End"].includes(r.key)&&n(13,C=-1)}function Oe(r=!0){if(ie&&s.length>w){be&&clearTimeout(be);const E=s;be=window.setTimeout(()=>{Ge(E).catch(Z=>n(16,ee=Z))},r?N:0)}else n(12,g=void 0),n(16,ee=void 0)}function De(r){n(45,y=r),n(1,s=r.place_name),n(13,C=-1)}const $t=()=>W.focus();function en(r){Pe[r?"unshift":"push"](()=>{W=r,n(15,W)})}function tn(){s=this.value,n(1,s),n(11,ye),n(25,h)}const nn=()=>n(11,ye=!0),ln=()=>n(11,ye=!1),rn=()=>Oe(),cn=()=>{n(1,s=""),W.focus()},on=()=>n(0,P=!P),sn=r=>n(13,C=r),un=r=>De(r),fn=()=>n(13,C=-1),an=()=>{};return t.$$set=r=>{"class"in r&&n(2,i=r.class),"apiKey"in r&&n(23,m=r.apiKey),"bbox"in r&&n(24,f=r.bbox),"clearButtonTitle"in r&&n(3,a=r.clearButtonTitle),"clearOnBlur"in r&&n(25,h=r.clearOnBlur),"collapsed"in r&&n(4,v=r.collapsed),"country"in r&&n(26,I=r.country),"debounceSearch"in r&&n(27,N=r.debounceSearch),"enableReverse"in r&&n(5,D=r.enableReverse),"errorMessage"in r&&n(6,p=r.errorMessage),"filter"in r&&n(28,k=r.filter),"flyTo"in r&&n(29,L=r.flyTo),"fuzzyMatch"in r&&n(30,R=r.fuzzyMatch),"language"in r&&n(31,q=r.language),"limit"in r&&n(32,z=r.limit),"mapController"in r&&n(33,d=r.mapController),"minLength"in r&&n(34,w=r.minLength),"noResultsMessage"in r&&n(7,A=r.noResultsMessage),"placeholder"in r&&n(8,M=r.placeholder),"proximity"in r&&n(22,J=r.proximity),"reverseActive"in r&&n(0,P=r.reverseActive),"reverseButtonTitle"in r&&n(9,ze=r.reverseButtonTitle),"searchValue"in r&&n(1,s=r.searchValue),"showFullGeometry"in r&&n(35,T=r.showFullGeometry),"showPlaceType"in r&&n(10,X=r.showPlaceType),"showResultsWhileTyping"in r&&n(36,ie=r.showResultsWhileTyping),"trackProximity"in r&&n(37,Ee=r.trackProximity),"types"in r&&n(38,Be=r.types),"zoom"in r&&n(39,Se=r.zoom),"fetchParameters"in r&&n(40,xe=r.fetchParameters),"$$scope"in r&&n(47,u=r.$$scope)},t.$$.update=()=>{if(t.$$.dirty[1]&64&&(Ee||n(22,J=void 0)),t.$$.dirty[0]&33556480&&setTimeout(()=>{n(14,Ie=ye),h&&!ye&&n(1,s="")}),t.$$.dirty[0]&4098&&(s||(n(45,y=void 0),n(12,g=void 0),n(16,ee=void 0),n(44,j=g))),t.$$.dirty[1]&16400&&T&&y&&!y.address&&y.geometry.type==="Point"&&Ge(y.id,{byId:!0}).catch(r=>n(16,ee=r)),t.$$.dirty[0]&536870912|t.$$.dirty[1]&16644&&d&&y&&L&&(!y.bbox||y.bbox[0]===y.bbox[2]&&y.bbox[1]===y.bbox[3]?d.flyTo(y.center,Se):d.fitBounds(lt(y.bbox),50),n(12,g=void 0),n(44,j=void 0),n(13,C=-1)),t.$$.dirty[0]&4096|t.$$.dirty[1]&8192&&j!==g&&n(44,j=void 0),t.$$.dirty[1]&24580&&d&&d.setMarkers(j,y),t.$$.dirty[0]&2&&n(13,C=-1),t.$$.dirty[0]&20481|t.$$.dirty[1]&68&&d&&d.setEventHandler(r=>{switch(r.type){case"mapClick":P&&Xt(r.coordinates);break;case"proximityChange":n(22,J=Ee?r.proximity:void 0);break;case"markerClick":{const E=g==null?void 0:g.find(Z=>Z.id===r.id);E&&De(E)}break;case"markerMouseEnter":n(13,C=Ie?(g==null?void 0:g.findIndex(E=>E.id===r.id))??-1:-1);break;case"markerMouseLeave":n(13,C=-1);break}}),t.$$.dirty[0]&8192|t.$$.dirty[1]&4&&(d==null||d.setSelectedMarker(C)),t.$$.dirty[0]&12288&&n(46,l=g==null?void 0:g[C]),t.$$.dirty[0]&2|t.$$.dirty[1]&4){const r=/^(-?\d+(?:\.\d*)?),(-?\d+(?:\.\d*)?)$/.exec(s);d==null||d.setReverseMarker(r?[Number(r[1]),Number(r[2])]:void 0)}t.$$.dirty[1]&32768&&te("select",l),t.$$.dirty[1]&16384&&te("pick",y),t.$$.dirty[0]&20480&&te("optionsVisibilityChange",Ie&&!!g),t.$$.dirty[0]&4096&&te("featuresListed",g),t.$$.dirty[1]&8192&&te("featuresMarked",j),t.$$.dirty[0]&1&&te("reverseToggle",P),t.$$.dirty[0]&2&&te("queryChange",s),t.$$.dirty[0]&1|t.$$.dirty[1]&4&&d&&d.indicateReverse(P)},[P,s,i,a,v,D,p,A,M,ze,X,ye,g,C,Ie,W,ee,ce,st,Yt,Oe,De,J,m,f,h,I,N,k,L,R,q,z,d,w,T,ie,Ee,Be,Se,xe,Wt,Zt,ct,j,y,l,u,c,$t,en,tn,nn,ln,rn,cn,on,sn,un,fn,an]}class Kt extends ge{constructor(e){super(),_e(this,e,Ht,Vt,ue,{class:2,apiKey:23,bbox:24,clearButtonTitle:3,clearOnBlur:25,collapsed:4,country:26,debounceSearch:27,enableReverse:5,errorMessage:6,filter:28,flyTo:29,fuzzyMatch:30,language:31,limit:32,mapController:33,minLength:34,noResultsMessage:7,placeholder:8,proximity:22,reverseActive:0,reverseButtonTitle:9,searchValue:1,showFullGeometry:35,showPlaceType:10,showResultsWhileTyping:36,trackProximity:37,types:38,zoom:39,fetchParameters:40,focus:41,blur:42,setQuery:43},null,[-1,-1,-1])}get focus(){return this.$$.ctx[41]}get blur(){return this.$$.ctx[42]}get setQuery(){return this.$$.ctx[43]}}const rt=["featuresListed","featuresMarked","optionsVisibilityChange","pick","querychange","response","reversetoggle","select"],Qt=["apiKey","bbox","clearButtonTitle","clearOnBlur","collapsed","country","debounceSearch","enableReverse","errorMessage","filter","fuzzyMatch","language","limit","minLength","noResultsMessage","placeholder","proximity","reverseButtonTitle","showFullGeometry","showPlaceType","showResultsWhileTyping","trackProximity","types","zoom","mapController"];function it(t){return"on"+t[0].toUpperCase()+t.slice(1)}const Ut=K.forwardRef(function(e,n){const l=K.useRef(),c=K.useRef(),u={...e};for(const i of rt)delete u[it(i)];K.useEffect(()=>{if(!l.current)throw new Error;const i=new Kt({target:l.current,props:u});return c.current=i,()=>i.$destroy()},[]);for(const i of Qt)K.useEffect(()=>{c.current&&e[i]!==void 0&&c.current.$set({[i]:e[i]})},[e[i]]);for(const i of rt){const m=e[it(i)];K.useEffect(()=>{var f;(f=c.current)==null||f.$on(i,m?a=>{m(a.detail)}:void 0)},[m])}return K.useImperativeHandle(n,()=>({setQuery:(i,m=!0)=>{var f;return(f=c.current)==null?void 0:f.setQuery(i,m)},focus:()=>{var i;return(i=c.current)==null?void 0:i.focus()},blur:()=>{var i;return(i=c.current)==null?void 0:i.blur()}})),K.createElement("div",{ref:l})});ne.GeocodingControl=Ut,Object.defineProperty(ne,Symbol.toStringTag,{value:"Module"})});
