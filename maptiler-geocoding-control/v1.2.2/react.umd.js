(function(J,H){typeof exports=="object"&&typeof module<"u"?H(exports,require("react")):typeof define=="function"&&define.amd?define(["exports","react"],H):(J=typeof globalThis<"u"?globalThis:J||self,H(J.reactMaptilerGeocoder={},J.React))})(this,function(J,H){"use strict";var cr=Object.defineProperty;var ur=(J,H,I)=>H in J?cr(J,H,{enumerable:!0,configurable:!0,writable:!0,value:I}):J[H]=I;var rt=(J,H,I)=>(ur(J,typeof H!="symbol"?H+"":H,I),I);function I(){}function Ut(i,e){for(const t in e)i[t]=e[t];return i}function nt(i){return i()}function ot(){return Object.create(null)}function re(i){i.forEach(nt)}function st(i){return typeof i=="function"}function de(i,e){return i!=i?e==e:i!==e||i&&typeof i=="object"||typeof i=="function"}let We;function q(i,e){return i===e?!0:(We||(We=document.createElement("a")),We.href=e,i===We.href)}function Bt(i){return Object.keys(i).length===0}function Dt(i,e,t,r){if(i){const n=lt(i,e,t,r);return i[0](n)}}function lt(i,e,t,r){return i[1]&&r?Ut(t.ctx.slice(),i[1](r(e))):t.ctx}function At(i,e,t,r){if(i[2]&&r){const n=i[2](r(t));if(e.dirty===void 0)return n;if(typeof n=="object"){const c=[],o=Math.max(e.dirty.length,n.length);for(let l=0;l<o;l+=1)c[l]=e.dirty[l]|n[l];return c}return e.dirty|n}return e.dirty}function Pt(i,e,t,r,n,c){if(n){const o=lt(e,t,r,c);i.p(o,n)}}function Ft(i){if(i.ctx.length>32){const e=[],t=i.ctx.length/32;for(let r=0;r<t;r++)e[r]=-1;return e}return-1}function at(i){return i??""}function N(i,e){i.appendChild(e)}function D(i,e,t){i.insertBefore(e,t||null)}function U(i){i.parentNode&&i.parentNode.removeChild(i)}function z(i){return document.createElement(i)}function ne(i){return document.createElementNS("http://www.w3.org/2000/svg",i)}function le(i){return document.createTextNode(i)}function X(){return le(" ")}function jt(){return le("")}function K(i,e,t,r){return i.addEventListener(e,t,r),()=>i.removeEventListener(e,t,r)}function Ht(i){return function(e){return e.preventDefault(),i.call(this,e)}}function a(i,e,t){t==null?i.removeAttribute(e):i.getAttribute(e)!==t&&i.setAttribute(e,t)}function Zt(i){return Array.from(i.childNodes)}function Se(i,e){e=""+e,i.data!==e&&(i.data=e)}function ct(i,e){i.value=e??""}function Re(i,e,t,r){t==null?i.style.removeProperty(e):i.style.setProperty(e,t,r?"important":"")}function ae(i,e,t){i.classList.toggle(e,!!t)}function Gt(i,e,{bubbles:t=!1,cancelable:r=!1}={}){return new CustomEvent(i,{detail:e,bubbles:t,cancelable:r})}let Ne;function Te(i){Ne=i}function ut(){if(!Ne)throw new Error("Function called outside component initialization");return Ne}function Qt(i){ut().$$.on_destroy.push(i)}function qt(){const i=ut();return(e,t,{cancelable:r=!1}={})=>{const n=i.$$.callbacks[e];if(n){const c=Gt(e,t,{cancelable:r});return n.slice().forEach(o=>{o.call(i,c)}),!c.defaultPrevented}return!0}}function dt(i,e){const t=i.$$.callbacks[e.type];t&&t.slice().forEach(r=>r.call(this,e))}const ve=[],He=[];let _e=[];const ft=[],Kt=Promise.resolve();let Ze=!1;function Vt(){Ze||(Ze=!0,Kt.then(mt))}function Ge(i){_e.push(i)}const Qe=new Set;let Le=0;function mt(){if(Le!==0)return;const i=Ne;do{try{for(;Le<ve.length;){const e=ve[Le];Le++,Te(e),Jt(e.$$)}}catch(e){throw ve.length=0,Le=0,e}for(Te(null),ve.length=0,Le=0;He.length;)He.pop()();for(let e=0;e<_e.length;e+=1){const t=_e[e];Qe.has(t)||(Qe.add(t),t())}_e.length=0}while(ve.length);for(;ft.length;)ft.pop()();Ze=!1,Qe.clear(),Te(i)}function Jt(i){if(i.fragment!==null){i.update(),re(i.before_update);const e=i.dirty;i.dirty=[-1],i.fragment&&i.fragment.p(i.ctx,e),i.after_update.forEach(Ge)}}function Xt(i){const e=[],t=[];_e.forEach(r=>i.indexOf(r)===-1?e.push(r):t.push(r)),t.forEach(r=>r()),_e=e}const Ie=new Set;let fe;function Oe(){fe={r:0,c:[],p:fe}}function ze(){fe.r||re(fe.c),fe=fe.p}function P(i,e){i&&i.i&&(Ie.delete(i),i.i(e))}function Q(i,e,t,r){if(i&&i.o){if(Ie.has(i))return;Ie.add(i),fe.c.push(()=>{Ie.delete(i),r&&(t&&i.d(1),r())}),i.o(e)}else r&&r()}function ht(i){return(i==null?void 0:i.length)!==void 0?i:Array.from(i)}function Yt(i,e){Q(i,1,1,()=>{e.delete(i.key)})}function xt(i,e,t,r,n,c,o,l,d,u,f,b){let g=i.length,k=c.length,W=g;const F={};for(;W--;)F[i[W].key]=W;const y=[],w=new Map,j=new Map,R=[];for(W=k;W--;){const v=b(n,c,W),S=t(v);let m=o.get(S);m?r&&R.push(()=>m.p(v,e)):(m=u(S,v),m.c()),w.set(S,y[W]=m),S in F&&j.set(S,Math.abs(W-F[S]))}const E=new Set,h=new Set;function O(v){P(v,1),v.m(l,f),o.set(v.key,v),f=v.first,k--}for(;g&&k;){const v=y[k-1],S=i[g-1],m=v.key,L=S.key;v===S?(f=v.first,g--,k--):w.has(L)?!o.has(m)||E.has(m)?O(v):h.has(L)?g--:j.get(m)>j.get(L)?(h.add(m),O(v)):(E.add(L),g--):(d(S,o),g--)}for(;g--;){const v=i[g];w.has(v.key)||d(v,o)}for(;k;)O(y[k-1]);return re(R),y}function ce(i){i&&i.c()}function oe(i,e,t){const{fragment:r,after_update:n}=i.$$;r&&r.m(e,t),Ge(()=>{const c=i.$$.on_mount.map(nt).filter(st);i.$$.on_destroy?i.$$.on_destroy.push(...c):re(c),i.$$.on_mount=[]}),n.forEach(Ge)}function se(i,e){const t=i.$$;t.fragment!==null&&(Xt(t.after_update),re(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function $t(i,e){i.$$.dirty[0]===-1&&(ve.push(i),Vt(),i.$$.dirty.fill(0)),i.$$.dirty[e/31|0]|=1<<e%31}function me(i,e,t,r,n,c,o=null,l=[-1]){const d=Ne;Te(i);const u=i.$$={fragment:null,ctx:[],props:c,update:I,not_equal:n,bound:ot(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(d?d.$$.context:[])),callbacks:ot(),dirty:l,skip_bound:!1,root:e.target||d.$$.root};o&&o(u.root);let f=!1;if(u.ctx=t?t(i,e.props||{},(b,g,...k)=>{const W=k.length?k[0]:g;return u.ctx&&n(u.ctx[b],u.ctx[b]=W)&&(!u.skip_bound&&u.bound[b]&&u.bound[b](W),f&&$t(i,b)),g}):[],u.update(),f=!0,re(u.before_update),u.fragment=r?r(u.ctx):!1,e.target){if(e.hydrate){const b=Zt(e.target);u.fragment&&u.fragment.l(b),b.forEach(U)}else u.fragment&&u.fragment.c();e.intro&&P(i.$$.fragment),oe(i,e.target,e.anchor),mt()}Te(d)}class he{constructor(){rt(this,"$$");rt(this,"$$set")}$destroy(){se(this,1),this.$destroy=I}$on(e,t){if(!st(t))return I;const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(t),()=>{const n=r.indexOf(t);n!==-1&&r.splice(n,1)}}$set(e){this.$$set&&!Bt(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const ei="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(ei);function ti(i){let e,t;return{c(){e=ne("svg"),t=ne("path"),a(t,"d","M13.12.706a.982.982 0 0 0-1.391 0L6.907 5.517 2.087.696a.982.982 0 1 0-1.391 1.39l4.821 4.821L.696 11.73a.982.982 0 1 0 1.39 1.39l4.821-4.821 4.822 4.821a.982.982 0 1 0 1.39-1.39L8.298 6.908l4.821-4.822a.988.988 0 0 0 0-1.38Z"),a(e,"viewBox","0 0 14 14"),a(e,"width","13"),a(e,"height","13"),a(e,"class","svelte-en2qvf")},m(r,n){D(r,e,n),N(e,t)},p:I,i:I,o:I,d(r){r&&U(e)}}}class gt extends he{constructor(e){super(),me(this,e,null,ti,de,{})}}function ii(i){let e,t;return{c(){e=ne("svg"),t=ne("path"),a(t,"d","M15 0C6.705 0 0 6.705 0 15C0 23.295 6.705 30 15 30C23.295 30 30 23.295 30 15C30 6.705 23.295 0 15 0ZM22.5 20.385L20.385 22.5L15 17.115L9.615 22.5L7.5 20.385L12.885 15L7.5 9.615L9.615 7.5L15 12.885L20.385 7.5L22.5 9.615L17.115 15L22.5 20.385Z"),a(e,"viewBox","0 0 30 30"),a(e,"fill","none"),a(e,"xmlns","http://www.w3.org/2000/svg"),a(e,"class","svelte-d2loi5")},m(r,n){D(r,e,n),N(e,t)},p:I,i:I,o:I,d(r){r&&U(e)}}}class bt extends he{constructor(e){super(),me(this,e,null,ii,de,{})}}function ri(i){let e,t;return{c(){e=z("img"),q(e.src,t=i[3]+"area.svg")||a(e,"src",t),a(e,"alt",i[6]),a(e,"class","svelte-ltkwvy")},m(r,n){D(r,e,n)},p(r,n){n&8&&!q(e.src,t=r[3]+"area.svg")&&a(e,"src",t),n&64&&a(e,"alt",r[6])},d(r){r&&U(e)}}}function ni(i){let e,t;return{c(){e=z("img"),q(e.src,t=i[3]+"reverse.svg")||a(e,"src",t),a(e,"alt",i[6]),a(e,"class","svelte-ltkwvy")},m(r,n){D(r,e,n)},p(r,n){n&8&&!q(e.src,t=r[3]+"reverse.svg")&&a(e,"src",t),n&64&&a(e,"alt",r[6])},d(r){r&&U(e)}}}function oi(i){let e,t;return{c(){e=z("img"),q(e.src,t=i[3]+"poi.svg")||a(e,"src",t),a(e,"alt",i[6]),a(e,"class","svelte-ltkwvy")},m(r,n){D(r,e,n)},p(r,n){n&8&&!q(e.src,t=r[3]+"poi.svg")&&a(e,"src",t),n&64&&a(e,"alt",r[6])},d(r){r&&U(e)}}}function si(i){let e,t;return{c(){e=z("img"),q(e.src,t=i[3]+"postal_code.svg")||a(e,"src",t),a(e,"alt",i[6]),a(e,"class","svelte-ltkwvy")},m(r,n){D(r,e,n)},p(r,n){n&8&&!q(e.src,t=r[3]+"postal_code.svg")&&a(e,"src",t),n&64&&a(e,"alt",r[6])},d(r){r&&U(e)}}}function li(i){let e,t;return{c(){e=z("img"),q(e.src,t=i[3]+"street.svg")||a(e,"src",t),a(e,"alt",i[6]),a(e,"class","svelte-ltkwvy")},m(r,n){D(r,e,n)},p(r,n){n&8&&!q(e.src,t=r[3]+"street.svg")&&a(e,"src",t),n&64&&a(e,"alt",r[6])},d(r){r&&U(e)}}}function ai(i){let e,t;return{c(){e=z("img"),q(e.src,t=i[3]+"road.svg")||a(e,"src",t),a(e,"alt",i[6]),a(e,"class","svelte-ltkwvy")},m(r,n){D(r,e,n)},p(r,n){n&8&&!q(e.src,t=r[3]+"road.svg")&&a(e,"src",t),n&64&&a(e,"alt",r[6])},d(r){r&&U(e)}}}function ci(i){let e,t;return{c(){e=z("img"),q(e.src,t=i[3]+"housenumber.svg")||a(e,"src",t),a(e,"alt",i[6]),a(e,"class","svelte-ltkwvy")},m(r,n){D(r,e,n)},p(r,n){n&8&&!q(e.src,t=r[3]+"housenumber.svg")&&a(e,"src",t),n&64&&a(e,"alt",r[6])},d(r){r&&U(e)}}}function ui(i){let e,t,r,n;return{c(){e=z("img"),q(e.src,t=i[5])||a(e,"src",t),a(e,"alt",i[4]),a(e,"class","svelte-ltkwvy")},m(c,o){D(c,e,o),r||(n=K(e,"error",i[14]),r=!0)},p(c,o){o&32&&!q(e.src,t=c[5])&&a(e,"src",t),o&16&&a(e,"alt",c[4])},d(c){c&&U(e),r=!1,n()}}}function vt(i){let e,t;return{c(){e=z("span"),t=le(i[6]),a(e,"class","secondary svelte-ltkwvy")},m(r,n){D(r,e,n),N(e,t)},p(r,n){n&64&&Se(t,r[6])},d(r){r&&U(e)}}}function di(i){var v,S;let e,t,r,n,c,o,l,d,u=(i[7]?i[0].place_name:i[0].place_name.replace(/,.*/,""))+"",f,b,g=i[2]==="always"||i[2]&&!i[0].address&&((v=i[0].properties)==null?void 0:v.kind)!=="road"&&((S=i[0].properties)==null?void 0:S.kind)!=="road_relation"&&!i[0].id.startsWith("address.")&&!i[0].id.startsWith("postal_code.")&&(!i[0].id.startsWith("poi.")||!i[5])&&!i[7],k,W,F=(i[7]?"":i[0].place_name.replace(/[^,]*,?\s*/,""))+"",y,w,j;function R(m,L){var x,M;return L&1&&(t=null),L&1&&(r=null),L&1&&(n=null),m[5]?ui:m[0].address?ci:((x=m[0].properties)==null?void 0:x.kind)==="road"||((M=m[0].properties)==null?void 0:M.kind)==="road_relation"?ai:(t==null&&(t=!!m[0].id.startsWith("address.")),t?li:(r==null&&(r=!!m[0].id.startsWith("postal_code.")),r?si:(n==null&&(n=!!m[0].id.startsWith("poi.")),n?oi:m[7]?ni:ri)))}let E=R(i,-1),h=E(i),O=g&&vt(i);return{c(){e=z("li"),h.c(),c=X(),o=z("span"),l=z("span"),d=z("span"),f=le(u),b=X(),O&&O.c(),k=X(),W=z("span"),y=le(F),a(d,"class","primary svelte-ltkwvy"),a(l,"class","svelte-ltkwvy"),a(W,"class","line2 svelte-ltkwvy"),a(o,"class","texts svelte-ltkwvy"),a(e,"tabindex","0"),a(e,"data-selected",i[1]),a(e,"class","svelte-ltkwvy"),ae(e,"selected",i[1])},m(m,L){D(m,e,L),h.m(e,null),N(e,c),N(e,o),N(o,l),N(l,d),N(d,f),N(l,b),O&&O.m(l,null),N(o,k),N(o,W),N(W,y),w||(j=[K(e,"mouseenter",i[12]),K(e,"focus",i[13])],w=!0)},p(m,[L]){var x,M;E===(E=R(m,L))&&h?h.p(m,L):(h.d(1),h=E(m),h&&(h.c(),h.m(e,c))),L&1&&u!==(u=(m[7]?m[0].place_name:m[0].place_name.replace(/,.*/,""))+"")&&Se(f,u),L&37&&(g=m[2]==="always"||m[2]&&!m[0].address&&((x=m[0].properties)==null?void 0:x.kind)!=="road"&&((M=m[0].properties)==null?void 0:M.kind)!=="road_relation"&&!m[0].id.startsWith("address.")&&!m[0].id.startsWith("postal_code.")&&(!m[0].id.startsWith("poi.")||!m[5])&&!m[7]),g?O?O.p(m,L):(O=vt(m),O.c(),O.m(l,null)):O&&(O.d(1),O=null),L&1&&F!==(F=(m[7]?"":m[0].place_name.replace(/[^,]*,?\s*/,""))+"")&&Se(y,F),L&2&&a(e,"data-selected",m[1]),L&2&&ae(e,"selected",m[1])},i:I,o:I,d(m){m&&U(e),h.d(),O&&O.d(),w=!1,re(j)}}}function fi(i,e,t){var R;let r,n,{feature:c}=e,{selected:o=!1}=e,{showPlaceType:l}=e,{missingIconsCache:d}=e,{iconsBaseUrl:u}=e;const f=(R=c.properties)==null?void 0:R.categories;let b,g,k=0,W=c.place_type[0]==="reverse";function F(E){g&&d.add(g),t(10,k++,k)}function y(E){dt.call(this,i,E)}function w(E){dt.call(this,i,E)}const j=E=>F(E.currentTarget);return i.$$set=E=>{"feature"in E&&t(0,c=E.feature),"selected"in E&&t(1,o=E.selected),"showPlaceType"in E&&t(2,l=E.showPlaceType),"missingIconsCache"in E&&t(9,d=E.missingIconsCache),"iconsBaseUrl"in E&&t(3,u=E.iconsBaseUrl)},i.$$.update=()=>{var E,h,O,v;if(i.$$.dirty&3640)do t(11,r--,r),t(4,b=f==null?void 0:f[r]),t(5,g=b?u+b.replace(/ /g,"_")+".svg":void 0);while(r>-1&&(!g||d.has(g)));i.$$.dirty&1&&t(6,n=c.id.startsWith("poi.")?(h=(E=c.properties)==null?void 0:E.categories)==null?void 0:h.join(", "):((v=(O=c.properties)==null?void 0:O.place_type_name)==null?void 0:v[0])??c.place_type[0])},t(11,r=(f==null?void 0:f.length)??0),[c,o,l,u,b,g,n,W,F,d,k,r,y,w,j]}class mi extends he{constructor(e){super(),me(this,e,fi,di,de,{feature:0,selected:1,showPlaceType:2,missingIconsCache:9,iconsBaseUrl:3})}}function hi(i){let e;return{c(){e=z("div"),e.innerHTML='<svg viewBox="0 0 18 18" width="24" height="24" class="svelte-7cmwmc"><path fill="#333" d="M4.4 4.4l.8.8c2.1-2.1 5.5-2.1 7.6 0l.8-.8c-2.5-2.5-6.7-2.5-9.2 0z"></path><path opacity=".1" d="M12.8 12.9c-2.1 2.1-5.5 2.1-7.6 0-2.1-2.1-2.1-5.5 0-7.7l-.8-.8c-2.5 2.5-2.5 6.7 0 9.2s6.6 2.5 9.2 0 2.5-6.6 0-9.2l-.8.8c2.2 2.1 2.2 5.6 0 7.7z"></path></svg>',a(e,"class","svelte-7cmwmc")},m(t,r){D(t,e,r)},p:I,i:I,o:I,d(t){t&&U(e)}}}class gi extends he{constructor(e){super(),me(this,e,null,hi,de,{})}}function bi(i){let e,t;return{c(){e=ne("svg"),t=ne("path"),a(t,"d","M30.003-26.765C13.46-26.765 0-14.158 0 1.337c0 23.286 24.535 42.952 28.39 46.04.24.192.402.316.471.376.323.282.732.424 1.142.424.41 0 .82-.142 1.142-.424.068-.06.231-.183.471-.376 3.856-3.09 28.39-22.754 28.39-46.04 0-15.495-13.46-28.102-30.003-28.102Zm1.757 12.469c4.38 0 7.858 1.052 10.431 3.158 2.595 2.105 3.89 4.913 3.89 8.422 0 2.34-.53 4.362-1.593 6.063-1.063 1.702-3.086 3.616-6.063 5.742-2.042 1.51-3.337 2.659-3.89 3.446-.532.787-.8 1.82-.8 3.096v1.914h-8.449V15.18c0-2.041.434-3.815 1.306-5.325.872-1.51 2.467-3.118 4.785-4.82 2.233-1.594 3.7-2.89 4.402-3.889a5.582 5.582 0 0 0 1.087-3.35c0-1.382-.51-2.435-1.531-3.158-1.02-.723-2.45-1.087-4.28-1.087-3.19 0-6.826 1.047-10.91 3.131l-3.472-6.986c4.742-2.659 9.77-3.992 15.087-3.992Zm-1.88 37.324c1.765 0 3.124.472 4.08 1.408.98.936 1.47 2.276 1.47 4.02 0 1.68-.49 3.007-1.47 3.985-.977.957-2.336 1.435-4.08 1.435-1.787 0-3.171-.465-4.15-1.4-.978-.958-1.47-2.298-1.47-4.02 0-1.787.48-3.14 1.436-4.054.957-.915 2.355-1.374 4.184-1.374Z"),a(e,"viewBox","0 0 60.006 21.412"),a(e,"width","14"),a(e,"height","20"),a(e,"class","svelte-en2qvf")},m(r,n){D(r,e,n),N(e,t)},p:I,i:I,o:I,d(r){r&&U(e)}}}class vi extends he{constructor(e){super(),me(this,e,null,bi,de,{})}}function _i(i){let e,t,r;return{c(){e=ne("svg"),t=ne("circle"),r=ne("path"),a(t,"cx","4.789"),a(t,"cy","4.787"),a(t,"r","3.85"),Re(t,"stroke-width","1.875"),Re(t,"fill","none"),a(r,"d","M12.063 12.063 7.635 7.635"),Re(r,"stroke-width","1.875"),Re(r,"stroke-linecap","round"),a(e,"xmlns","http://www.w3.org/2000/svg"),a(e,"width","13"),a(e,"height","13"),a(e,"viewBox","0 0 13 13"),a(e,"class","svelte-1bpbt60")},m(n,c){D(n,e,c),N(e,t),N(e,r)},p:I,i:I,o:I,d(n){n&&U(e)}}}class Li extends he{constructor(e){super(),me(this,e,null,_i,de,{})}}function yi(i,e,t){const r=e[1],n=e[0],c=r-n;return i===r&&t?i:((i-n)%c+c)%c+n}function _t(i){const e=[...i];return e[2]<e[0]&&(e[2]+=360),e}let Ce;async function wi(i,e,t){const r=i==null?void 0:i.getCenterAndZoom();for(const n of e??[])if(!(r&&(n.minZoom!=null&&n.minZoom>r[0]||n.maxZoom!=null&&n.maxZoom<r[0]))){if(n.type==="fixed")return n.coordinates.join(",");e:if(n.type==="client-geolocation"){if(Ce&&n.cachedLocationExpiry&&Ce.time+n.cachedLocationExpiry>Date.now()){if(!Ce.coords)break e;return Ce.coords}let c;try{return c=await new Promise((o,l)=>{t.signal.addEventListener("abort",()=>{l(Error("aborted"))}),navigator.geolocation.getCurrentPosition(d=>{o([d.coords.longitude,d.coords.latitude].map(u=>u.toFixed(6)).join(","))},d=>{l(d)},n)}),c}catch{}finally{n.cachedLocationExpiry&&(Ce={time:Date.now(),coords:c})}if(t.signal.aborted)return}if(n.type==="server-geolocation")return"ip";if(r&&n.type==="map-center")return r[1].toFixed(6)+","+r[2].toFixed(6)}}const Lt=/(NORTH|SOUTH|[NS])?[\s]*([+-]?[0-8]?[0-9](?:[\.,]\d{3,}))[\s]*([•º°]?)[\s]*(NORTH|SOUTH|[NS])?[\s]*[,/;]?[\s]*(EAST|WEST|[EW])?[\s]*([+-]?[0-1]?[0-9]?[0-9](?:[\.,]\d{3,}))[\s]*([•º°]?)[\s]*(EAST|WEST|[EW])?/i,yt=/(NORTH|SOUTH|[NS])?\s*([+-]?[0-8]?[0-9])\s*(\.)\s*([0-5]?[0-9])\s*(\.)\s*((?:[0-5]?[0-9])(?:[\.,]\d{1,3})?)?\s*(NORTH|SOUTH|[NS])?(?:\s*[,/;]\s*|\s*)(EAST|WEST|[EW])?\s*([+-]?[0-1]?[0-9]?[0-9])\s*(\.)\s*([0-5]?[0-9])\s*(\.)\s*((?:[0-5]?[0-9])(?:[\.,]\d{1,3})?)?\s*(EAST|WEST|[EW])?/i,wt=/(NORTH|SOUTH|[NS])?\s*([+-]?[0-8]?[0-9])\s*(D(?:EG)?(?:REES)?)\s*([0-5]?[0-9])\s*(M(?:IN)?(?:UTES)?)\s*((?:[0-5]?[0-9])(?:[\.,]\d{1,3})?)?\s*(S(?:EC)?(?:ONDS)?)?\s*(NORTH|SOUTH|[NS])?(?:\s*[,/;]\s*|\s*)(EAST|WEST|[EW])?\s*([+-]?[0-1]?[0-9]?[0-9])\s*(D(?:EG)?(?:REES)?)\s*([0-5]?[0-9])\s*(M(?:IN)?(?:UTES)?)\s*((?:[0-5]?[0-9])(?:[\.,]\d{1,3})?)?\s*(S(?:EC)?(?:ONDS)?)\s*(EAST|WEST|[EW])?/i,Et=/(NORTH|SOUTH|[NS])?\s*([+-]?[0-8]?[0-9])\s*([•º°\.:]|D(?:EG)?(?:REES)?)?\s*,?([0-5]?[0-9](?:[\.,]\d{1,})?)?\s*(['′´’\.:]|M(?:IN)?(?:UTES)?)?\s*,?((?:[0-5]?[0-9])(?:[\.,]\d{1,3})?)?\s*(''|′′|’’|´´|["″”\.])?\s*(NORTH|SOUTH|[NS])?(?:\s*[,/;]\s*|\s*)(EAST|WEST|[EW])?\s*([+-]?[0-1]?[0-9]?[0-9])\s*([•º°\.:]|D(?:EG)?(?:REES)?)?\s*,?([0-5]?[0-9](?:[\.,]\d{1,})?)?\s*(['′´’\.:]|M(?:IN)?(?:UTES)?)?\s*,?((?:[0-5]?[0-9])(?:[\.,]\d{1,3})?)?\s*(''|′′|´´|’’|["″”\.])?\s*(EAST|WEST|[EW])?/i;function Ei(i){if(!["DMS","DM","DD"].includes(i))throw new Error("invalid format specified");if(this.decimalCoordinates&&this.decimalCoordinates.trim()){if(i=="DD")return this.decimalCoordinates;const e=this.decimalCoordinates.split(",").map(o=>Number(o.trim()));let t=pt(e[0],i),r=pt(e[1],i);t.endsWith('.0"')&&r.endsWith('.0"')&&(t=t.replace(/\.0"$/,'"'),r=r.replace(/\.0"$/,'"'));const n=e[0]>=0?" N":" S",c=e[1]>=0?" E":" W";return`${t+n}, ${r+c}`}else throw new Error("no decimal coordinates to convert")}function pt(i,e){const t=Math.abs(i),r=Math.floor(t),n=(t-r)*60;if(e=="DM"){let l=pi(n,3).toFixed(3).padStart(6,"0");return`${r}° ${l}'`}let c=Math.floor(n),o=((n-c)*60).toFixed(1).padStart(4,"0");return c=c.toString().padStart(2,"0"),`${r}° ${c}' ${o}"`}function pi(i,e){const t=Math.pow(10,e);return Math.round((i+Number.EPSILON)*t)/t}function qe(i,e){e||(e=5),i=i.replace(/\s+/g," ").trim();let t=null,r=null,n="",c="",o=[],l=!1;if(Lt.test(i))if(o=Lt.exec(i),l=Ue(o),l){if(t=o[2],r=o[6],t.includes(",")&&(t=t.replace(",",".")),r.includes(",")&&(r=r.replace(",",".")),Number(Math.round(t))==Number(t))throw new Error("integer only coordinate provided");if(Number(Math.round(r))==Number(r))throw new Error("integer only coordinate provided");o[1]?(n=o[1],c=o[5]):o[4]&&(n=o[4],c=o[8])}else throw new Error("invalid decimal coordinate format");else if(yt.test(i))if(o=yt.exec(i),l=Ue(o),l)t=Math.abs(parseInt(o[2])),o[4]&&(t+=o[4]/60),o[6]&&(t+=o[6].replace(",",".")/3600),parseInt(o[2])<0&&(t=-1*t),r=Math.abs(parseInt(o[9])),o[11]&&(r+=o[11]/60),o[13]&&(r+=o[13].replace(",",".")/3600),parseInt(o[9])<0&&(r=-1*r),o[1]?(n=o[1],c=o[8]):o[7]&&(n=o[7],c=o[14]);else throw new Error("invalid DMS coordinates format");else if(wt.test(i))if(o=wt.exec(i),l=Ue(o),l)t=Math.abs(parseInt(o[2])),o[4]&&(t+=o[4]/60),o[6]&&(t+=o[6]/3600),parseInt(o[2])<0&&(t=-1*t),r=Math.abs(parseInt(o[10])),o[12]&&(r+=o[12]/60),o[14]&&(r+=o[14]/3600),parseInt(o[10])<0&&(r=-1*r),o[1]?(n=o[1],c=o[9]):o[8]&&(n=o[8],c=o[16]);else throw new Error("invalid DMS coordinates format");else if(Et.test(i))if(o=Et.exec(i),l=Ue(o),l)t=Math.abs(parseInt(o[2])),o[4]&&(t+=o[4]/60),o[6]&&(t+=o[6]/3600),parseInt(o[2])<0&&(t=-1*t),r=Math.abs(parseInt(o[10])),o[12]&&(r+=o[12]/60),o[14]&&(r+=o[14]/3600),parseInt(o[10])<0&&(r=-1*r),o[1]?(n=o[1],c=o[9]):o[8]&&(n=o[8],c=o[16]);else throw new Error("invalid coordinates format");if(l){if(Math.abs(r)>=180)throw new Error("invalid longitude value");if(Math.abs(t)>=90)throw new Error("invalid latitude value");if((n||c)&&(!n||!c))throw new Error("invalid coordinates format");if(n&&n==c)throw new Error("invalid coordinates format");let d=/S|SOUTH/i;d.test(n)&&t>0&&(t=-1*t),d=/W|WEST/i,d.test(c)&&r>0&&(r=-1*r);const u=o[0].trim();let f,b;const g=/[,/;\u0020]/g,k=u.match(g);if(k==null){const y=Math.floor(i.length/2);f=u.substring(0,y).trim(),b=u.substring(y).trim()}else{let y;k.length%2==1?y=Math.floor(k.length/2):y=k.length/2-1;let w=0;if(y==0)w=u.indexOf(k[0]),f=u.substring(0,w).trim(),b=u.substring(w+1).trim();else{let j=0,R=0;for(;j<=y;)w=u.indexOf(k[j],R),R=w+1,j++;f=u.substring(0,w).trim(),b=u.substring(w+1).trim()}}const W=f.split(".");if(W.length==2&&W[1]==0&&W[1].length!=2)throw new Error("invalid coordinates format");const F=b.split(".");if(F.length==2&&F[1]==0&&F[1].length!=2)throw new Error("invalid coordinates format");if(/^\d+$/.test(f)||/^\d+$/.test(b))throw new Error("degree only coordinate/s provided");return isNaN(t)&&t.includes(",")&&(t=t.replace(",",".")),t=Number(Number(t).toFixed(e)),isNaN(r)&&r.includes(",")&&(r=r.replace(",",".")),r=Number(Number(r).toFixed(e)),Object.freeze({verbatimCoordinates:u,verbatimLatitude:f,verbatimLongitude:b,decimalLatitude:t,decimalLongitude:r,decimalCoordinates:`${t},${r}`,closeEnough:ki,toCoordinateFormat:Ei})}else throw new Error("coordinates pattern match failed")}function Ue(i){if(!isNaN(i[0]))return!1;const e=[...i];if(e.shift(),e.length%2>0)return!1;const t=/^[-+]?\d+([\.,]\d+)?$/,r=/[eastsouthnorthwest]+/i,n=e.length/2;for(let c=0;c<n;c++){const o=e[c],l=e[c+n],d=t.test(o)&&t.test(l),u=r.test(o)&&r.test(l),f=o==l;if(!(o==null&&l==null)){if(o==null||l==null)return!1;if(d||u||f)continue;return!1}}return!0}function kt(i,e){const t=Math.abs(i-e);return Number(t.toFixed(6))<=1e-5}function ki(i){if(i.includes(",")){const e=i.split(",");if(Number(e[0])==NaN||Number(e[1])==NaN)throw new Error("coords are not valid decimals");return kt(this.decimalLatitude,Number(e[0]))&&kt(this.decimalLongitude,e[1])}else throw new Error("coords being tested must be separated by a comma")}const Si=Object.freeze({DMS:"DMS",DM:"DM",DD:"DD"});qe.to=Si;const Ni=[{verbatimCoordinates:"40.123, -74.123",verbatimLatitude:"40.123",verbatimLongitude:"-74.123"},{verbatimCoordinates:"40.123° N 74.123° W",verbatimLatitude:"40.123° N",verbatimLongitude:"74.123° W"},{verbatimCoordinates:"40.123° N 74.123° W",verbatimLatitude:"40.123° N",verbatimLongitude:"74.123° W"},{verbatimCoordinates:'40° 7´ 22.8" N 74° 7´ 22.8" W',verbatimLatitude:'40° 7´ 22.8" N',verbatimLongitude:'74° 7´ 22.8" W'},{verbatimCoordinates:"40° 7.38’ , -74° 7.38’",verbatimLatitude:"40° 7.38’",verbatimLongitude:"-74° 7.38’"},{verbatimCoordinates:"N40°7’22.8’’, W74°7’22.8’’",verbatimLatitude:"N40°7’22.8’’",verbatimLongitude:"W74°7’22.8’’"},{verbatimCoordinates:'40°7’22.8"N, 74°7’22.8"W',verbatimLatitude:'40°7’22.8"N',verbatimLongitude:'74°7’22.8"W'},{verbatimCoordinates:`40°7'22.8"N, 74°7'22.8"W`,verbatimLatitude:`40°7'22.8"N`,verbatimLongitude:`74°7'22.8"W`},{verbatimCoordinates:"40 7 22.8, -74 7 22.8",verbatimLatitude:"40 7 22.8",verbatimLongitude:"-74 7 22.8"},{verbatimCoordinates:"40.123 -74.123",verbatimLatitude:"40.123",verbatimLongitude:"-74.123"},{verbatimCoordinates:"40.123°,-74.123°",verbatimLatitude:"40.123°",verbatimLongitude:"-74.123°"},{verbatimCoordinates:"40.123N74.123W",verbatimLatitude:"40.123N",verbatimLongitude:"74.123W"},{verbatimCoordinates:"4007.38N7407.38W",verbatimLatitude:"4007.38N",verbatimLongitude:"7407.38W"},{verbatimCoordinates:'40°7’22.8"N, 74°7’22.8"W',verbatimLatitude:'40°7’22.8"N',verbatimLongitude:'74°7’22.8"W'},{verbatimCoordinates:"400722.8N740722.8W",verbatimLatitude:"400722.8N",verbatimLongitude:"740722.8W"},{verbatimCoordinates:"N 40 7.38 W 74 7.38",verbatimLatitude:"N 40 7.38",verbatimLongitude:"W 74 7.38"},{verbatimCoordinates:"40:7:22.8N 74:7:22.8W",verbatimLatitude:"40:7:22.8N",verbatimLongitude:"74:7:22.8W"},{verbatimCoordinates:"40:7:23N,74:7:23W",verbatimLatitude:"40:7:23N",verbatimLongitude:"74:7:23W",decimalLatitude:40.1230555555,decimalLongitude:-74.1230555555},{verbatimCoordinates:'40°7’23"N 74°7’23"W',verbatimLatitude:'40°7’23"N',verbatimLongitude:'74°7’23"W',decimalLatitude:40.1230555555,decimalLongitude:-74.12305555555555},{verbatimCoordinates:'40°7’23"S 74°7’23"E',verbatimLatitude:'40°7’23"S',verbatimLongitude:'74°7’23"E',decimalLatitude:-40.1230555555,decimalLongitude:74.12305555555555},{verbatimCoordinates:'40°7’23" -74°7’23"',verbatimLatitude:'40°7’23"',verbatimLongitude:'-74°7’23"',decimalLatitude:40.1230555555,decimalLongitude:-74.123055555},{verbatimCoordinates:'40d 7’ 23" N 74d 7’ 23" W',verbatimLatitude:'40d 7’ 23" N',verbatimLongitude:'74d 7’ 23" W',decimalLatitude:40.1230555555,decimalLongitude:-74.123055555},{verbatimCoordinates:"40.123N 74.123W",verbatimLatitude:"40.123N",verbatimLongitude:"74.123W"},{verbatimCoordinates:"40° 7.38, -74° 7.38",verbatimLatitude:"40° 7.38",verbatimLongitude:"-74° 7.38"},{verbatimCoordinates:"40° 7.38, -74° 7.38",verbatimLatitude:"40° 7.38",verbatimLongitude:"-74° 7.38"},{verbatimCoordinates:"40 7 22.8; -74 7 22.8",verbatimLatitude:"40 7 22.8",verbatimLongitude:"-74 7 22.8"}],Ti={decimalLatitude:40.123,decimalLongitude:-74.123},Ci=[{verbatimCoordinates:`50°4'17.698"south, 14°24'2.826"east`,verbatimLatitude:`50°4'17.698"south`,verbatimLongitude:`14°24'2.826"east`,decimalLatitude:-50.07158277777778,decimalLongitude:14.400785},{verbatimCoordinates:"50d4m17.698S 14d24m2.826E",verbatimLatitude:"50d4m17.698S",verbatimLongitude:"14d24m2.826E",decimalLatitude:-50.07158277777778,decimalLongitude:14.400785},{verbatimCoordinates:"40:26:46N,79:56:55W",verbatimLatitude:"40:26:46N",verbatimLongitude:"79:56:55W",decimalLatitude:40.44611111111111,decimalLongitude:-79.9486111111111},{verbatimCoordinates:"40:26:46.302N 79:56:55.903W",verbatimLatitude:"40:26:46.302N",verbatimLongitude:"79:56:55.903W",decimalLatitude:40.446195,decimalLongitude:-79.94886194444445},{verbatimCoordinates:"40°26′47″N 79°58′36″W",verbatimLatitude:"40°26′47″N",verbatimLongitude:"79°58′36″W",decimalLatitude:40.44638888888889,decimalLongitude:-79.97666666666667},{verbatimCoordinates:"40d 26′ 47″ N 79d 58′ 36″ W",verbatimLatitude:"40d 26′ 47″ N",verbatimLongitude:"79d 58′ 36″ W",decimalLatitude:40.44638888888889,decimalLongitude:-79.97666666666667},{verbatimCoordinates:"40.446195N 79.948862W",verbatimLatitude:"40.446195N",verbatimLongitude:"79.948862W",decimalLatitude:40.446195,decimalLongitude:-79.948862},{verbatimCoordinates:"40,446195° 79,948862°",verbatimLatitude:"40,446195°",verbatimLongitude:"79,948862°",decimalLatitude:40.446195,decimalLongitude:79.948862},{verbatimCoordinates:"40° 26.7717, -79° 56.93172",verbatimLatitude:"40° 26.7717",verbatimLongitude:"-79° 56.93172",decimalLatitude:40.446195,decimalLongitude:-79.948862},{verbatimCoordinates:"40.446195, -79.948862",verbatimLatitude:"40.446195",verbatimLongitude:"-79.948862",decimalLatitude:40.446195,decimalLongitude:-79.948862},{verbatimCoordinates:"40.123256; -74.123256",verbatimLatitude:"40.123256",verbatimLongitude:"-74.123256",decimalLatitude:40.123256,decimalLongitude:-74.123256},{verbatimCoordinates:"18°24S 22°45E",verbatimLatitude:"18°24S",verbatimLongitude:"22°45E",decimalLatitude:-18.4,decimalLongitude:22.75}],Mi=[{verbatimCoordinates:"10.432342S 10.6345345E",verbatimLatitude:"10.432342S",verbatimLongitude:"10.6345345E",decimalLatitude:-10.432342,decimalLongitude:10.6345345},{verbatimCoordinates:"10.00S 10.00E",verbatimLatitude:"10.00S",verbatimLongitude:"10.00E",decimalLatitude:-10,decimalLongitude:10},{verbatimCoordinates:"00.00S 01.00E",verbatimLatitude:"00.00S",verbatimLongitude:"01.00E",decimalLatitude:0,decimalLongitude:1},{verbatimCoordinates:"18.24S 22.45E",verbatimLatitude:"18.24S",verbatimLongitude:"22.45E",decimalLatitude:-18.4,decimalLongitude:22.75},{verbatimCoordinates:"27deg 15min 45.2sec S 18deg 32min 53.7sec E",verbatimLatitude:"27deg 15min 45.2sec S",verbatimLongitude:"18deg 32min 53.7sec E",decimalLatitude:-27.262555555555554,decimalLongitude:18.54825},{verbatimCoordinates:"-23.3245° S / 28.2344° E",verbatimLatitude:"-23.3245° S",verbatimLongitude:"28.2344° E",decimalLatitude:-23.3245,decimalLongitude:28.2344},{verbatimCoordinates:"40° 26.7717 -79° 56.93172",verbatimLatitude:"40° 26.7717",verbatimLongitude:"-79° 56.93172",decimalLatitude:40.446195,decimalLongitude:-79.948862},{verbatimCoordinates:"27.15.45S 18.32.53E",verbatimLatitude:"27.15.45S",verbatimLongitude:"18.32.53E",decimalLatitude:-27.2625,decimalLongitude:18.548055},{verbatimCoordinates:"-27.15.45 18.32.53",verbatimLatitude:"-27.15.45",verbatimLongitude:"18.32.53",decimalLatitude:-27.2625,decimalLongitude:18.548055},{verbatimCoordinates:"27.15.45.2S 18.32.53.4E",verbatimLatitude:"27.15.45.2S",verbatimLongitude:"18.32.53.4E",decimalLatitude:-27.262556,decimalLongitude:18.548167},{verbatimCoordinates:"27.15.45,2S 18.32.53,4E",verbatimLatitude:"27.15.45,2S",verbatimLongitude:"18.32.53,4E",decimalLatitude:-27.262556,decimalLongitude:18.548167},{verbatimCoordinates:"S23.43563 °  E22.45634 °",verbatimLatitude:"S23.43563 °",verbatimLongitude:"E22.45634 °",decimalLatitude:-23.43563,decimalLongitude:22.45634},{verbatimCoordinates:"27,71372° S 23,07771° E",verbatimLatitude:"27,71372° S",verbatimLongitude:"23,07771° E",decimalLatitude:-27.71372,decimalLongitude:23.07771},{verbatimCoordinates:"27.45.34 S 23.23.23 E",verbatimLatitude:"27.45.34 S",verbatimLongitude:"23.23.23 E",decimalLatitude:-27.759444,decimalLongitude:23.38972222},{verbatimCoordinates:"S 27.45.34 E 23.23.23",verbatimLatitude:"S 27.45.34",verbatimLongitude:"E 23.23.23",decimalLatitude:-27.759444,decimalLongitude:23.38972222}];function Wi(){const i=[];return Ni.forEach(e=>{e.decimalLatitude?i.push(e):i.push({...e,...Ti})}),[...i,...Ci,...Mi]}const Ri=Wi();qe.formats=Ri.map(i=>i.verbatimCoordinates);const Ii=qe;function St(i,e,t){const r=i.slice();return r[81]=e[t],r[83]=t,r}function Nt(i){let e,t;return e=new gi({}),{c(){ce(e.$$.fragment)},m(r,n){oe(e,r,n),t=!0},i(r){t||(P(e.$$.fragment,r),t=!0)},o(r){Q(e.$$.fragment,r),t=!1},d(r){se(e,r)}}}function Tt(i){let e,t,r,n,c;return t=new vi({}),{c(){e=z("button"),ce(t.$$.fragment),a(e,"type","button"),a(e,"title",i[9]),a(e,"class","svelte-zh3kmv"),ae(e,"active",i[0])},m(o,l){D(o,e,l),oe(t,e,null),r=!0,n||(c=K(e,"click",i[67]),n=!0)},p(o,l){(!r||l[0]&512)&&a(e,"title",o[9]),(!r||l[0]&1)&&ae(e,"active",o[0])},i(o){r||(P(t.$$.fragment,o),r=!0)},o(o){Q(t.$$.fragment,o),r=!1},d(o){o&&U(e),se(t),n=!1,c()}}}function Oi(i){let e,t=[],r=new Map,n,c,o,l=ht(i[14]);const d=u=>u[81].id+(u[81].address?","+u[81].address:"");for(let u=0;u<l.length;u+=1){let f=St(i,l,u),b=d(f);r.set(b,t[u]=Ct(b,f))}return{c(){e=z("ul");for(let u=0;u<t.length;u+=1)t[u].c();a(e,"class","svelte-zh3kmv")},m(u,f){D(u,e,f);for(let b=0;b<t.length;b+=1)t[b]&&t[b].m(e,null);n=!0,c||(o=[K(e,"mouseleave",i[71]),K(e,"blur",i[72])],c=!0)},p(u,f){f[0]&17880064&&(l=ht(u[14]),Oe(),t=xt(t,f,d,1,u,l,r,e,Yt,Ct,null,St),ze())},i(u){if(!n){for(let f=0;f<l.length;f+=1)P(t[f]);n=!0}},o(u){for(let f=0;f<t.length;f+=1)Q(t[f]);n=!1},d(u){u&&U(e);for(let f=0;f<t.length;f+=1)t[f].d();c=!1,re(o)}}}function zi(i){let e,t,r,n,c,o;return t=new bt({}),{c(){e=z("div"),ce(t.$$.fragment),r=X(),n=z("div"),c=le(i[7]),a(n,"class","svelte-zh3kmv"),a(e,"class","no-results svelte-zh3kmv")},m(l,d){D(l,e,d),oe(t,e,null),N(e,r),N(e,n),N(n,c),o=!0},p(l,d){(!o||d[0]&128)&&Se(c,l[7])},i(l){o||(P(t.$$.fragment,l),o=!0)},o(l){Q(t.$$.fragment,l),o=!1},d(l){l&&U(e),se(t)}}}function Ui(i){let e="",t;return{c(){t=le(e)},m(r,n){D(r,t,n)},p:I,i:I,o:I,d(r){r&&U(t)}}}function Bi(i){let e,t,r,n,c,o,l,d,u,f,b;return t=new bt({}),d=new gt({}),{c(){e=z("div"),ce(t.$$.fragment),r=X(),n=z("div"),c=le(i[6]),o=X(),l=z("button"),ce(d.$$.fragment),a(n,"class","svelte-zh3kmv"),a(l,"class","svelte-zh3kmv"),a(e,"class","error svelte-zh3kmv")},m(g,k){D(g,e,k),oe(t,e,null),N(e,r),N(e,n),N(n,c),N(e,o),N(e,l),oe(d,l,null),u=!0,f||(b=K(l,"click",i[68]),f=!0)},p(g,k){(!u||k[0]&64)&&Se(c,g[6])},i(g){u||(P(t.$$.fragment,g),P(d.$$.fragment,g),u=!0)},o(g){Q(t.$$.fragment,g),Q(d.$$.fragment,g),u=!1},d(g){g&&U(e),se(t),se(d),f=!1,b()}}}function Ct(i,e){let t,r,n;function c(){return e[69](e[83])}function o(){return e[70](e[81])}return r=new mi({props:{feature:e[81],showPlaceType:e[10],selected:e[15]===e[83],missingIconsCache:e[20],iconsBaseUrl:e[12]}}),r.$on("mouseenter",c),r.$on("focus",o),{key:i,first:null,c(){t=jt(),ce(r.$$.fragment),this.first=t},m(l,d){D(l,t,d),oe(r,l,d),n=!0},p(l,d){e=l;const u={};d[0]&16384&&(u.feature=e[81]),d[0]&1024&&(u.showPlaceType=e[10]),d[0]&49152&&(u.selected=e[15]===e[83]),d[0]&4096&&(u.iconsBaseUrl=e[12]),r.$set(u)},i(l){n||(P(r.$$.fragment,l),n=!0)},o(l){Q(r.$$.fragment,l),n=!1},d(l){l&&U(t),se(r,l)}}}function Di(i){let e,t,r,n,c,o,l,d,u,f,b,g,k,W,F,y,w,j,R,E,h,O=!1;c=new Li({}),b=new gt({});let v=i[19]&&Nt(),S=i[5]===!0&&Tt(i);const m=i[59].default,L=Dt(m,i,i[58],null),x=[Bi,Ui,zi,Oi],M=[];function ye(_,A){var V,we;return _[18]?0:_[16]?((V=_[14])==null?void 0:V.length)===0?2:_[16]&&((we=_[14])!=null&&we.length)?3:-1:1}return~(y=ye(i))&&(w=M[y]=x[y](i)),{c(){e=X(),t=z("form"),r=z("div"),n=z("button"),ce(c.$$.fragment),o=X(),l=z("input"),d=X(),u=z("div"),f=z("button"),ce(b.$$.fragment),g=X(),v&&v.c(),k=X(),S&&S.c(),W=X(),L&&L.c(),F=X(),w&&w.c(),a(n,"class","search-button svelte-zh3kmv"),a(n,"type","button"),a(l,"placeholder",i[8]),a(l,"aria-label",i[8]),a(l,"class","svelte-zh3kmv"),a(f,"type","button"),a(f,"title",i[3]),a(f,"class","svelte-zh3kmv"),a(u,"class","clear-button-container svelte-zh3kmv"),ae(u,"displayable",i[1]!==""),a(r,"class","input-group svelte-zh3kmv"),a(t,"tabindex","0"),a(t,"class",j=at(i[2])+" svelte-zh3kmv"),ae(t,"can-collapse",i[4]&&i[1]==="")},m(_,A){D(_,e,A),D(_,t,A),N(t,r),N(r,n),oe(c,n,null),N(r,o),N(r,l),i[61](l),ct(l,i[1]),N(r,d),N(r,u),N(u,f),oe(b,f,null),N(u,g),v&&v.m(u,null),N(r,k),S&&S.m(r,null),N(r,W),L&&L.m(r,null),N(t,F),~y&&M[y].m(t,null),R=!0,E||(h=[K(n,"click",i[60]),K(l,"input",i[62]),K(l,"focus",i[63]),K(l,"blur",i[64]),K(l,"keydown",i[22]),K(l,"input",i[65]),K(f,"click",i[66]),K(t,"submit",Ht(i[21]))],E=!0)},p(_,A){(!R||A[0]&256)&&a(l,"placeholder",_[8]),(!R||A[0]&256)&&a(l,"aria-label",_[8]),A[0]&2&&l.value!==_[1]&&ct(l,_[1]),(!R||A[0]&8)&&a(f,"title",_[3]),_[19]?v?A[0]&524288&&P(v,1):(v=Nt(),v.c(),P(v,1),v.m(u,null)):v&&(Oe(),Q(v,1,1,()=>{v=null}),ze()),(!R||A[0]&2)&&ae(u,"displayable",_[1]!==""),_[5]===!0?S?(S.p(_,A),A[0]&32&&P(S,1)):(S=Tt(_),S.c(),P(S,1),S.m(r,W)):S&&(Oe(),Q(S,1,1,()=>{S=null}),ze()),L&&L.p&&(!R||A[1]&134217728)&&Pt(L,m,_,_[58],R?At(m,_[58],A,null):Ft(_[58]),null);let V=y;y=ye(_),y===V?~y&&M[y].p(_,A):(w&&(Oe(),Q(M[V],1,1,()=>{M[V]=null}),ze()),~y?(w=M[y],w?w.p(_,A):(w=M[y]=x[y](_),w.c()),P(w,1),w.m(t,null)):w=null),(!R||A[0]&4&&j!==(j=at(_[2])+" svelte-zh3kmv"))&&a(t,"class",j),(!R||A[0]&22)&&ae(t,"can-collapse",_[4]&&_[1]==="")},i(_){R||(P(O),P(c.$$.fragment,_),P(b.$$.fragment,_),P(v),P(S),P(L,_),P(w),R=!0)},o(_){Q(O),Q(c.$$.fragment,_),Q(b.$$.fragment,_),Q(v),Q(S),Q(L,_),Q(w),R=!1},d(_){_&&(U(e),U(t)),se(c),i[61](null),se(b),v&&v.d(),S&&S.d(),L&&L.d(_),~y&&M[y].d(),E=!1,re(h)}}}function Ai(i,e,t){let r,{$$slots:n={},$$scope:c}=e,{class:o=void 0}=e,{apiKey:l}=e,{bbox:d=void 0}=e,{clearButtonTitle:u="clear"}=e,{clearOnBlur:f=!1}=e,{collapsed:b=!1}=e,{country:g=void 0}=e,{debounceSearch:k=200}=e,{enableReverse:W=!1}=e,{errorMessage:F="Something went wrong…"}=e,{filter:y=()=>!0}=e,{flyTo:w=!0}=e,{fuzzyMatch:j=!0}=e,{language:R=void 0}=e,{limit:E=void 0}=e,{mapController:h=void 0}=e,{minLength:O=2}=e,{noResultsMessage:v="Oops! Looks like you're trying to predict something that's not quite right. We can't seem to find what you're looking for. Maybe try double-checking your spelling or try a different search term. Keep on typing - we'll do our best to get you where you need to go!"}=e,{placeholder:S="Search"}=e,{proximity:m=[{type:"server-geolocation"}]}=e,{reverseActive:L=W==="always"}=e,{reverseButtonTitle:x="toggle reverse geocoding"}=e,{searchValue:M=""}=e,{showFullGeometry:ye=!0}=e,{showPlaceType:_="ifNeeded"}=e,{showResultsWhileTyping:A=!0}=e,{selectFirst:V=!0}=e,{flyToSelected:we=!1}=e,{markerOnSelected:Be=!0}=e,{types:ge=void 0}=e,{excludeTypes:De=!1}=e,{zoom:Me=16}=e,{maxZoom:Ee=18}=e,{apiUrl:Ke="https://api.maptiler.com/geocoding"}=e,{fetchParameters:Ve={}}=e,{iconsBaseUrl:Rt="https://cdn.maptiler.com/maptiler-geocoding-control/v1.2.2/icons/"}=e,{adjustUrlQuery:Je=s=>{}}=e;function Hi(){$.focus()}function Zi(){$.blur()}function It(s,G=!0){t(1,M=s),G?(t(15,B=-1),zt()):($e(),setTimeout(()=>{$.focus(),$.select()}))}function Gi(){t(14,T=void 0),t(55,p=void 0),t(15,B=-1)}function Qi(){t(54,Z=[]),t(55,p=void 0)}let pe=!1,T,Z,p,Ot="",$,B=-1,ee,Ae=[],be,ke,Pe,Xe;const qi=new Set,ue=qt();Qt(()=>{h&&(h.setEventHandler(void 0),h.indicateReverse(!1),h.setSelectedMarker(-1),h.setMarkers(void 0,void 0))});function zt(s){if(ke&&(clearTimeout(ke),ke=void 0),B>-1&&T)t(55,p=T[B]),t(1,M=p.place_type[0]==="reverse"?p.place_name:p.place_name.replace(/,.*/,"")),t(18,ee=void 0),t(54,Z=void 0),t(15,B=-1);else if(M){const G=s||!Ye(M);xe(M,{exact:!0}).then(()=>{t(54,Z=T),t(55,p=void 0),G&&Ki()}).catch(te=>t(18,ee=te))}}function Ye(s){try{return Ii(s,6)}catch{return!1}}async function xe(s,{byId:G=!1,exact:te=!1}={}){t(18,ee=void 0),be==null||be.abort();const ie=new AbortController;t(19,be=ie);try{const C=Ye(s),Y=new URLSearchParams;if(R!==void 0&&Y.set("language",Array.isArray(R)?R.join(","):R??""),ge&&Y.set("types",ge.join(",")),De&&Y.set("excludeTypes",String(De)),d&&Y.set("bbox",d.map(je=>je.toFixed(6)).join(",")),g&&Y.set("country",Array.isArray(g)?g.join(","):g),!G&&!C){const je=await wi(h,m,ie);je&&Y.set("proximity",je),(te||!A)&&Y.set("autocomplete","false"),Y.set("fuzzyMatch",String(j))}E!==void 0&&(!C||(ge==null?void 0:ge.length)===1)&&Y.set("limit",String(E)),Y.set("key",l),Je(Y);const Fe=Ke+"/"+encodeURIComponent(C?C.decimalLongitude+","+C.decimalLatitude:s)+".json?"+Y.toString();if(Fe===Ot){G?(t(14,T=void 0),t(55,p=Ae[0])):t(14,T=Ae);return}Ot=Fe;const tt=await fetch(Fe,{signal:ie.signal,...Ve});if(!tt.ok)throw new Error(await tt.text());const it=await tt.json();ue("response",{url:Fe,featureCollection:it}),G?(t(14,T=void 0),t(55,p=it.features[0]),Ae=[p]):(t(14,T=it.features.filter(y)),C&&T.unshift({type:"Feature",properties:{},id:"reverse_"+C.decimalLongitude+"_"+C.decimalLatitude,text:C.decimalLatitude+", "+C.decimalLongitude,place_name:C.decimalLatitude+", "+C.decimalLongitude,place_type:["reverse"],center:[C.decimalLongitude,C.decimalLatitude],bbox:[C.decimalLongitude,C.decimalLatitude,C.decimalLongitude,C.decimalLatitude],geometry:{type:"Point",coordinates:[C.decimalLongitude,C.decimalLatitude]}}),Ae=T,C&&$.focus())}catch(C){if(C&&typeof C=="object"&&"name"in C&&C.name==="AbortError")return;throw C}finally{ie===be&&t(19,be=void 0)}}function Ki(){var te;if(!(Z!=null&&Z.length)||!w)return;const s=[180,90,-180,-90],G=!Z.some(ie=>!ie.matching_text);for(const ie of Z)if(G||!ie.matching_text)for(const C of[0,1,2,3])s[C]=Math[C<2?"min":"max"](s[C],((te=ie.bbox)==null?void 0:te[C])??ie.center[C%2]);h&&Z.length>0&&(p&&s[0]===s[2]&&s[1]===s[3]?h.flyTo(p.center,Me):h.fitBounds(_t(s),50,Ee))}function Vi(s){t(0,L=W==="always"),t(14,T=void 0),t(55,p=void 0),t(15,B=-1),It(s[1].toFixed(6)+", "+yi(s[0],[-180,180],!0).toFixed(6),!1)}function Ji(s){if(!T)return;let G=s.key==="ArrowDown"?1:s.key==="ArrowUp"?-1:0;G&&(B===(V?0:-1)&&G===-1&&t(15,B=T.length),t(15,B+=G),B>=T.length&&t(15,B=-1),B<0&&V&&t(15,B=0),s.preventDefault())}function $e(s=!0){if(t(18,ee=void 0),A){if(ke&&clearTimeout(ke),M.length<O)return;const G=M;ke=window.setTimeout(()=>{xe(G).catch(te=>t(18,ee=te))},s?k:0)}else t(14,T=void 0),t(18,ee=void 0)}function et(s){t(55,p=s),t(1,M=s.place_name),t(15,B=-1)}const Xi=()=>$.focus();function Yi(s){He[s?"unshift":"push"](()=>{$=s,t(17,$)})}function xi(){M=this.value,t(1,M),t(13,pe),t(27,f)}const $i=()=>t(13,pe=!0),er=()=>t(13,pe=!1),tr=()=>$e(),ir=()=>{t(1,M=""),$.focus()},rr=()=>t(0,L=!L),nr=()=>t(18,ee=void 0),or=s=>t(15,B=s),sr=s=>et(s),lr=()=>{V||t(15,B=-1)},ar=()=>{};return i.$$set=s=>{"class"in s&&t(2,o=s.class),"apiKey"in s&&t(25,l=s.apiKey),"bbox"in s&&t(26,d=s.bbox),"clearButtonTitle"in s&&t(3,u=s.clearButtonTitle),"clearOnBlur"in s&&t(27,f=s.clearOnBlur),"collapsed"in s&&t(4,b=s.collapsed),"country"in s&&t(28,g=s.country),"debounceSearch"in s&&t(29,k=s.debounceSearch),"enableReverse"in s&&t(5,W=s.enableReverse),"errorMessage"in s&&t(6,F=s.errorMessage),"filter"in s&&t(30,y=s.filter),"flyTo"in s&&t(31,w=s.flyTo),"fuzzyMatch"in s&&t(32,j=s.fuzzyMatch),"language"in s&&t(33,R=s.language),"limit"in s&&t(34,E=s.limit),"mapController"in s&&t(35,h=s.mapController),"minLength"in s&&t(36,O=s.minLength),"noResultsMessage"in s&&t(7,v=s.noResultsMessage),"placeholder"in s&&t(8,S=s.placeholder),"proximity"in s&&t(37,m=s.proximity),"reverseActive"in s&&t(0,L=s.reverseActive),"reverseButtonTitle"in s&&t(9,x=s.reverseButtonTitle),"searchValue"in s&&t(1,M=s.searchValue),"showFullGeometry"in s&&t(38,ye=s.showFullGeometry),"showPlaceType"in s&&t(10,_=s.showPlaceType),"showResultsWhileTyping"in s&&t(39,A=s.showResultsWhileTyping),"selectFirst"in s&&t(11,V=s.selectFirst),"flyToSelected"in s&&t(40,we=s.flyToSelected),"markerOnSelected"in s&&t(41,Be=s.markerOnSelected),"types"in s&&t(42,ge=s.types),"excludeTypes"in s&&t(43,De=s.excludeTypes),"zoom"in s&&t(44,Me=s.zoom),"maxZoom"in s&&t(45,Ee=s.maxZoom),"apiUrl"in s&&t(46,Ke=s.apiUrl),"fetchParameters"in s&&t(47,Ve=s.fetchParameters),"iconsBaseUrl"in s&&t(12,Rt=s.iconsBaseUrl),"adjustUrlQuery"in s&&t(48,Je=s.adjustUrlQuery),"$$scope"in s&&t(58,c=s.$$scope)},i.$$.update=()=>{if(i.$$.dirty[0]&134225920&&setTimeout(()=>{t(16,Pe=pe),f&&!pe&&t(1,M="")}),i.$$.dirty[0]&16386|i.$$.dirty[1]&32&&M.length<O&&(t(55,p=void 0),t(14,T=void 0),t(18,ee=void 0),t(54,Z=T)),i.$$.dirty[1]&16777344&&ye&&p&&!p.address&&p.geometry.type==="Point"&&p.place_type[0]!=="reverse"&&xe(p.id,{byId:!0}).catch(s=>t(18,ee=s)),i.$$.dirty[1]&50356241&&(h&&p&&p.id!==Xe&&w&&(!p.bbox||p.bbox[0]===p.bbox[2]&&p.bbox[1]===p.bbox[3]?h.flyTo(p.center,p.id.startsWith("poi.")||p.id.startsWith("address.")?Ee:Me):h.fitBounds(_t(p.bbox),50,Ee),t(14,T=void 0),t(54,Z=void 0),t(15,B=-1)),t(56,Xe=p==null?void 0:p.id)),i.$$.dirty[0]&18432&&V&&T!=null&&T.length&&t(15,B=0),i.$$.dirty[0]&2050&&(V||t(15,B=-1)),i.$$.dirty[0]&16384|i.$$.dirty[1]&8388608&&Z!==T&&t(54,Z=void 0),i.$$.dirty[0]&81921|i.$$.dirty[1]&8388624&&h&&h.setEventHandler(s=>{switch(s.type){case"mapClick":L&&Vi(s.coordinates);break;case"markerClick":{const G=T==null?void 0:T.find(te=>te.id===s.id);G&&et(G)}break;case"markerMouseEnter":Z&&t(15,B=Pe?(T==null?void 0:T.findIndex(G=>G.id===s.id))??-1:-1);break;case"markerMouseLeave":Z&&t(15,B=-1);break}}),i.$$.dirty[0]&49152&&t(57,r=T==null?void 0:T[B]),i.$$.dirty[1]&67133969&&h&&r&&w&&we&&h.flyTo(r.center,r.id.startsWith("poi.")||r.id.startsWith("address.")?Ee:Me),i.$$.dirty[1]&1040&&(Be||h==null||h.setMarkers(void 0,void 0)),i.$$.dirty[1]&75498512&&h&&Be&&!Z&&(h.setMarkers(r?[r]:void 0,void 0),h.setSelectedMarker(r?0:-1)),i.$$.dirty[1]&25165840&&h&&h.setMarkers(Z,p),i.$$.dirty[0]&32768|i.$$.dirty[1]&8388624&&Z&&h&&h.setSelectedMarker(B),i.$$.dirty[0]&2|i.$$.dirty[1]&16&&h){const s=Ye(M);h.setReverseMarker(s?[s.decimalLongitude,s.decimalLatitude]:void 0)}i.$$.dirty[1]&67108864&&ue("select",r),i.$$.dirty[1]&16777216&&ue("pick",p),i.$$.dirty[0]&81920&&ue("optionsVisibilityChange",Pe&&!!T),i.$$.dirty[0]&16384&&ue("featuresListed",T),i.$$.dirty[1]&8388608&&ue("featuresMarked",Z),i.$$.dirty[0]&1&&ue("reverseToggle",L),i.$$.dirty[0]&2&&ue("queryChange",M),i.$$.dirty[0]&1|i.$$.dirty[1]&16&&h&&h.indicateReverse(L)},[L,M,o,u,b,W,F,v,S,x,_,V,Rt,pe,T,B,Pe,$,ee,be,qi,zt,Ji,$e,et,l,d,f,g,k,y,w,j,R,E,h,O,m,ye,A,we,Be,ge,De,Me,Ee,Ke,Ve,Je,Hi,Zi,It,Gi,Qi,Z,p,Xe,r,c,n,Xi,Yi,xi,$i,er,tr,ir,rr,nr,or,sr,lr,ar]}class Pi extends he{constructor(e){super(),me(this,e,Ai,Di,de,{class:2,apiKey:25,bbox:26,clearButtonTitle:3,clearOnBlur:27,collapsed:4,country:28,debounceSearch:29,enableReverse:5,errorMessage:6,filter:30,flyTo:31,fuzzyMatch:32,language:33,limit:34,mapController:35,minLength:36,noResultsMessage:7,placeholder:8,proximity:37,reverseActive:0,reverseButtonTitle:9,searchValue:1,showFullGeometry:38,showPlaceType:10,showResultsWhileTyping:39,selectFirst:11,flyToSelected:40,markerOnSelected:41,types:42,excludeTypes:43,zoom:44,maxZoom:45,apiUrl:46,fetchParameters:47,iconsBaseUrl:12,adjustUrlQuery:48,focus:49,blur:50,setQuery:51,clearList:52,clearMap:53},null,[-1,-1,-1])}get focus(){return this.$$.ctx[49]}get blur(){return this.$$.ctx[50]}get setQuery(){return this.$$.ctx[51]}get clearList(){return this.$$.ctx[52]}get clearMap(){return this.$$.ctx[53]}}const Mt=["featuresListed","featuresMarked","optionsVisibilityChange","pick","queryChange","response","reverseToggle","select"],Fi=["apiKey","bbox","clearButtonTitle","clearOnBlur","collapsed","country","debounceSearch","enableReverse","reverseActive","errorMessage","filter","fuzzyMatch","language","limit","minLength","noResultsMessage","placeholder","proximity","reverseButtonTitle","showFullGeometry","showPlaceType","showResultsWhileTyping","adjustUrlQuery","types","excludeTypes","zoom","mapController"];function Wt(i){return"on"+i[0].toUpperCase()+i.slice(1)}const ji=H.forwardRef(function(e,t){const r=H.useRef(),n=H.useRef(),c={...e};for(const o of Mt)delete c[Wt(o)];H.useEffect(()=>{if(!r.current)throw new Error;const o=new Pi({target:r.current,props:c});return n.current=o,()=>o.$destroy()},[]);for(const o of Fi)H.useEffect(()=>{n.current&&e[o]!==void 0&&n.current.$set({[o]:e[o]})},[e[o]]);for(const o of Mt){const l=e[Wt(o)];H.useEffect(()=>{var d;return l&&((d=n.current)==null?void 0:d.$on(o,u=>{l(u.detail)}))},[l])}return H.useImperativeHandle(t,()=>({setQuery:(o,l=!0)=>{var d;return(d=n.current)==null?void 0:d.setQuery(o,l)},clearMap:()=>{var o;return(o=n.current)==null?void 0:o.clearMap()},clearList:()=>{var o;return(o=n.current)==null?void 0:o.clearList()},focus:()=>{var o;return(o=n.current)==null?void 0:o.focus()},blur:()=>{var o;return(o=n.current)==null?void 0:o.blur()}})),H.createElement("div",{ref:r})});J.GeocodingControl=ji,Object.defineProperty(J,Symbol.toStringTag,{value:"Module"})});
//# sourceMappingURL=react.umd.cjs.map
