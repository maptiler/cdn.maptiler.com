(function(fe,H){typeof exports=="object"&&typeof module<"u"?H(exports,require("react")):typeof define=="function"&&define.amd?define(["exports","react"],H):(fe=typeof globalThis<"u"?globalThis:fe||self,H(fe.MapTilerGeocoder={},fe.React))})(this,function(fe,H){"use strict";function I(){}function wt(n,e){for(const t in e)n[t]=e[t];return n}function Qe(n){return n()}function Je(){return Object.create(null)}function $(n){n.forEach(Qe)}function Xe(n){return typeof n=="function"}function ue(n,e){return n!=n?e==e:n!==e||n&&typeof n=="object"||typeof n=="function"}let Ee;function K(n,e){return Ee||(Ee=document.createElement("a")),Ee.href=e,n===Ee.href}function kt(n){return Object.keys(n).length===0}function vt(n,e,t,r){if(n){const l=Ye(n,e,t,r);return n[0](l)}}function Ye(n,e,t,r){return n[1]&&r?wt(t.ctx.slice(),n[1](r(e))):t.ctx}function pt(n,e,t,r){if(n[2]&&r){const l=n[2](r(t));if(e.dirty===void 0)return l;if(typeof l=="object"){const a=[],s=Math.max(e.dirty.length,l.length);for(let f=0;f<s;f+=1)a[f]=e.dirty[f]|l[f];return a}return e.dirty|l}return e.dirty}function Tt(n,e,t,r,l,a){if(l){const s=Ye(e,t,r,a);n.p(s,l)}}function Mt(n){if(n.ctx.length>32){const e=[],t=n.ctx.length/32;for(let r=0;r<t;r++)e[r]=-1;return e}return-1}function xe(n){return n??""}function v(n,e){n.appendChild(e)}function z(n,e,t){n.insertBefore(e,t||null)}function P(n){n.parentNode&&n.parentNode.removeChild(n)}function L(n){return document.createElement(n)}function re(n){return document.createElementNS("http://www.w3.org/2000/svg",n)}function le(n){return document.createTextNode(n)}function Q(){return le(" ")}function Rt(){return le("")}function Z(n,e,t,r){return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t,r)}function Ct(n){return function(e){return e.preventDefault(),n.call(this,e)}}function o(n,e,t){t==null?n.removeAttribute(e):n.getAttribute(e)!==t&&n.setAttribute(e,t)}function Bt(n){return Array.from(n.childNodes)}function Me(n,e){e=""+e,n.data!==e&&(n.data=e)}function $e(n,e){n.value=e??""}function ie(n,e,t){n.classList[t?"add":"remove"](e)}function Et(n,e,{bubbles:t=!1,cancelable:r=!1}={}){const l=document.createEvent("CustomEvent");return l.initCustomEvent(n,t,r,e),l}let Re;function Ce(n){Re=n}function et(){if(!Re)throw new Error("Function called outside component initialization");return Re}function Lt(n){et().$$.on_destroy.push(n)}function St(){const n=et();return(e,t,{cancelable:r=!1}={})=>{const l=n.$$.callbacks[e];if(l){const a=Et(e,t,{cancelable:r});return l.slice().forEach(s=>{s.call(n,a)}),!a.defaultPrevented}return!0}}function tt(n,e){const t=n.$$.callbacks[e.type];t&&t.slice().forEach(r=>r.call(this,e))}const be=[],We=[];let we=[];const nt=[],It=Promise.resolve();let je=!1;function Pt(){je||(je=!0,It.then(rt))}function Ne(n){we.push(n)}const Ge=new Set;let ke=0;function rt(){if(ke!==0)return;const n=Re;do{try{for(;ke<be.length;){const e=be[ke];ke++,Ce(e),zt(e.$$)}}catch(e){throw be.length=0,ke=0,e}for(Ce(null),be.length=0,ke=0;We.length;)We.pop()();for(let e=0;e<we.length;e+=1){const t=we[e];Ge.has(t)||(Ge.add(t),t())}we.length=0}while(be.length);for(;nt.length;)nt.pop()();je=!1,Ge.clear(),Ce(n)}function zt(n){if(n.fragment!==null){n.update(),$(n.before_update);const e=n.dirty;n.dirty=[-1],n.fragment&&n.fragment.p(n.ctx,e),n.after_update.forEach(Ne)}}function Ut(n){const e=[],t=[];we.forEach(r=>n.indexOf(r)===-1?e.push(r):t.push(r)),t.forEach(r=>r()),we=e}const Le=new Set;let ae;function Se(){ae={r:0,c:[],p:ae}}function Ie(){ae.r||$(ae.c),ae=ae.p}function A(n,e){n&&n.i&&(Le.delete(n),n.i(e))}function F(n,e,t,r){if(n&&n.o){if(Le.has(n))return;Le.add(n),ae.c.push(()=>{Le.delete(n),r&&(t&&n.d(1),r())}),n.o(e)}else r&&r()}function At(n,e){F(n,1,1,()=>{e.delete(n.key)})}function Wt(n,e,t,r,l,a,s,f,d,c,m,k){let g=n.length,R=a.length,S=g;const T={};for(;S--;)T[n[S].key]=S;const M=[],W=new Map,y=new Map,G=[];for(S=R;S--;){const C=k(l,a,S),B=t(C);let _=s.get(B);_?r&&G.push(()=>_.p(C,e)):(_=c(B,C),_.c()),W.set(B,M[S]=_),B in T&&y.set(B,Math.abs(S-T[B]))}const O=new Set,h=new Set;function b(C){A(C,1),C.m(f,m),s.set(C.key,C),m=C.first,R--}for(;g&&R;){const C=M[R-1],B=n[g-1],_=C.key,w=B.key;C===B?(m=C.first,g--,R--):W.has(w)?!s.has(_)||O.has(_)?b(C):h.has(w)?g--:y.get(_)>y.get(w)?(h.add(_),b(C)):(O.add(w),g--):(d(B,s),g--)}for(;g--;){const C=n[g];W.has(C.key)||d(C,s)}for(;R;)b(M[R-1]);return $(G),M}function se(n){n&&n.c()}function ee(n,e,t,r){const{fragment:l,after_update:a}=n.$$;l&&l.m(e,t),r||Ne(()=>{const s=n.$$.on_mount.map(Qe).filter(Xe);n.$$.on_destroy?n.$$.on_destroy.push(...s):$(s),n.$$.on_mount=[]}),a.forEach(Ne)}function te(n,e){const t=n.$$;t.fragment!==null&&(Ut(t.after_update),$(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function jt(n,e){n.$$.dirty[0]===-1&&(be.push(n),Pt(),n.$$.dirty.fill(0)),n.$$.dirty[e/31|0]|=1<<e%31}function de(n,e,t,r,l,a,s,f=[-1]){const d=Re;Ce(n);const c=n.$$={fragment:null,ctx:[],props:a,update:I,not_equal:l,bound:Je(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(d?d.$$.context:[])),callbacks:Je(),dirty:f,skip_bound:!1,root:e.target||d.$$.root};s&&s(c.root);let m=!1;if(c.ctx=t?t(n,e.props||{},(k,g,...R)=>{const S=R.length?R[0]:g;return c.ctx&&l(c.ctx[k],c.ctx[k]=S)&&(!c.skip_bound&&c.bound[k]&&c.bound[k](S),m&&jt(n,k)),g}):[],c.update(),m=!0,$(c.before_update),c.fragment=r?r(c.ctx):!1,e.target){if(e.hydrate){const k=Bt(e.target);c.fragment&&c.fragment.l(k),k.forEach(P)}else c.fragment&&c.fragment.c();e.intro&&A(n.$$.fragment),ee(n,e.target,e.anchor,e.customElement),rt()}Ce(d)}class he{$destroy(){te(this,1),this.$destroy=I}$on(e,t){if(!Xe(t))return I;const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(t),()=>{const l=r.indexOf(t);l!==-1&&r.splice(l,1)}}$set(e){this.$$set&&!kt(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Pn="";function Nt(n){let e,t;return{c(){e=re("svg"),t=re("path"),o(t,"d","M13.12.706a.982.982 0 0 0-1.391 0L6.907 5.517 2.087.696a.982.982 0 1 0-1.391 1.39l4.821 4.821L.696 11.73a.982.982 0 1 0 1.39 1.39l4.821-4.821 4.822 4.821a.982.982 0 1 0 1.39-1.39L8.298 6.908l4.821-4.822a.988.988 0 0 0 0-1.38Z"),o(e,"viewBox","0 0 14 14"),o(e,"width","13"),o(e,"height","13"),o(e,"class","svelte-en2qvf")},m(r,l){z(r,e,l),v(e,t)},p:I,i:I,o:I,d(r){r&&P(e)}}}class lt extends he{constructor(e){super(),de(this,e,null,Nt,ue,{})}}const zn="";function Gt(n){let e,t;return{c(){e=re("svg"),t=re("path"),o(t,"d","M15 0C6.705 0 0 6.705 0 15C0 23.295 6.705 30 15 30C23.295 30 30 23.295 30 15C30 6.705 23.295 0 15 0ZM22.5 20.385L20.385 22.5L15 17.115L9.615 22.5L7.5 20.385L12.885 15L7.5 9.615L9.615 7.5L15 12.885L20.385 7.5L22.5 9.615L17.115 15L22.5 20.385Z"),o(e,"viewBox","0 0 30 30"),o(e,"fill","none"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"class","svelte-d2loi5")},m(r,l){z(r,e,l),v(e,t)},p:I,i:I,o:I,d(r){r&&P(e)}}}class it extends he{constructor(e){super(),de(this,e,null,Gt,ue,{})}}const Un="";function Ot(n){let e,t;return{c(){e=L("img"),K(e.src,t=n[3]+"area.svg")||o(e,"src",t),o(e,"alt",n[6]),o(e,"class","svelte-ltkwvy")},m(r,l){z(r,e,l)},p(r,l){l&8&&!K(e.src,t=r[3]+"area.svg")&&o(e,"src",t),l&64&&o(e,"alt",r[6])},d(r){r&&P(e)}}}function Ft(n){let e,t;return{c(){e=L("img"),K(e.src,t=n[3]+"poi.svg")||o(e,"src",t),o(e,"alt",n[6]),o(e,"class","svelte-ltkwvy")},m(r,l){z(r,e,l)},p(r,l){l&8&&!K(e.src,t=r[3]+"poi.svg")&&o(e,"src",t),l&64&&o(e,"alt",r[6])},d(r){r&&P(e)}}}function Zt(n){let e,t;return{c(){e=L("img"),K(e.src,t=n[3]+"postal_code.svg")||o(e,"src",t),o(e,"alt",n[6]),o(e,"class","svelte-ltkwvy")},m(r,l){z(r,e,l)},p(r,l){l&8&&!K(e.src,t=r[3]+"postal_code.svg")&&o(e,"src",t),l&64&&o(e,"alt",r[6])},d(r){r&&P(e)}}}function qt(n){let e,t;return{c(){e=L("img"),K(e.src,t=n[3]+"street.svg")||o(e,"src",t),o(e,"alt",n[6]),o(e,"class","svelte-ltkwvy")},m(r,l){z(r,e,l)},p(r,l){l&8&&!K(e.src,t=r[3]+"street.svg")&&o(e,"src",t),l&64&&o(e,"alt",r[6])},d(r){r&&P(e)}}}function Dt(n){let e,t;return{c(){e=L("img"),K(e.src,t=n[3]+"road.svg")||o(e,"src",t),o(e,"alt",n[6]),o(e,"class","svelte-ltkwvy")},m(r,l){z(r,e,l)},p(r,l){l&8&&!K(e.src,t=r[3]+"road.svg")&&o(e,"src",t),l&64&&o(e,"alt",r[6])},d(r){r&&P(e)}}}function Kt(n){let e,t;return{c(){e=L("img"),K(e.src,t=n[3]+"housenumber.svg")||o(e,"src",t),o(e,"alt",n[6]),o(e,"class","svelte-ltkwvy")},m(r,l){z(r,e,l)},p(r,l){l&8&&!K(e.src,t=r[3]+"housenumber.svg")&&o(e,"src",t),l&64&&o(e,"alt",r[6])},d(r){r&&P(e)}}}function Vt(n){let e,t,r,l;return{c(){e=L("img"),K(e.src,t=n[5])||o(e,"src",t),o(e,"alt",n[4]),o(e,"class","svelte-ltkwvy")},m(a,s){z(a,e,s),r||(l=Z(e,"error",n[12]),r=!0)},p(a,s){s&32&&!K(e.src,t=a[5])&&o(e,"src",t),s&16&&o(e,"alt",a[4])},d(a){a&&P(e),r=!1,l()}}}function st(n){let e,t;return{c(){e=L("span"),t=le(n[6]),o(e,"class","secondary svelte-ltkwvy")},m(r,l){z(r,e,l),v(e,t)},p(r,l){l&64&&Me(t,r[6])},d(r){r&&P(e)}}}function Ht(n){var C,B;let e,t,r,l,a,s,f,d,c=n[0].place_name.replace(/,.*/,"")+"",m,k,g=n[2]==="always"||n[2]&&!n[0].address&&((C=n[0].properties)==null?void 0:C.kind)!=="road"&&((B=n[0].properties)==null?void 0:B.kind)!=="road_relation"&&!n[0].id.startsWith("address.")&&!n[0].id.startsWith("postal_code.")&&(!n[0].id.startsWith("poi.")||!n[5]),R,S,T=n[0].place_name.replace(/[^,]*,?\s*/,"")+"",M,W,y;function G(_,w){var J,u;return w&1&&(t=null),w&1&&(r=null),w&1&&(l=null),_[5]?Vt:_[0].address?Kt:((J=_[0].properties)==null?void 0:J.kind)==="road"||((u=_[0].properties)==null?void 0:u.kind)==="road_relation"?Dt:(t==null&&(t=!!_[0].id.startsWith("address.")),t?qt:(r==null&&(r=!!_[0].id.startsWith("postal_code.")),r?Zt:(l==null&&(l=!!_[0].id.startsWith("poi.")),l?Ft:Ot)))}let O=G(n,-1),h=O(n),b=g&&st(n);return{c(){e=L("li"),h.c(),a=Q(),s=L("span"),f=L("span"),d=L("span"),m=le(c),k=Q(),b&&b.c(),R=Q(),S=L("span"),M=le(T),o(d,"class","primary svelte-ltkwvy"),o(f,"class","svelte-ltkwvy"),o(S,"class","line2 svelte-ltkwvy"),o(s,"class","texts svelte-ltkwvy"),o(e,"tabindex","0"),o(e,"data-selected",n[1]),o(e,"class","svelte-ltkwvy"),ie(e,"selected",n[1])},m(_,w){z(_,e,w),h.m(e,null),v(e,a),v(e,s),v(s,f),v(f,d),v(d,m),v(f,k),b&&b.m(f,null),v(s,R),v(s,S),v(S,M),W||(y=[Z(e,"mouseenter",n[10]),Z(e,"focus",n[11])],W=!0)},p(_,[w]){var J,u;O===(O=G(_,w))&&h?h.p(_,w):(h.d(1),h=O(_),h&&(h.c(),h.m(e,a))),w&1&&c!==(c=_[0].place_name.replace(/,.*/,"")+"")&&Me(m,c),w&37&&(g=_[2]==="always"||_[2]&&!_[0].address&&((J=_[0].properties)==null?void 0:J.kind)!=="road"&&((u=_[0].properties)==null?void 0:u.kind)!=="road_relation"&&!_[0].id.startsWith("address.")&&!_[0].id.startsWith("postal_code.")&&(!_[0].id.startsWith("poi.")||!_[5])),g?b?b.p(_,w):(b=st(_),b.c(),b.m(f,null)):b&&(b.d(1),b=null),w&1&&T!==(T=_[0].place_name.replace(/[^,]*,?\s*/,"")+"")&&Me(M,T),w&2&&o(e,"data-selected",_[1]),w&2&&ie(e,"selected",_[1])},i:I,o:I,d(_){_&&P(e),h.d(),b&&b.d(),W=!1,$(y)}}}function Qt(n,e,t){var W;let r,l,{feature:a}=e,{selected:s=!1}=e,{showPlaceType:f}=e,{missingIconsCache:d}=e,{iconsBaseUrl:c}=e;const m=(W=a.properties)==null?void 0:W.categories;let k,g;function R(y){g&&d.add(g),t(9,r--,r)}function S(y){tt.call(this,n,y)}function T(y){tt.call(this,n,y)}const M=y=>R(y.currentTarget);return n.$$set=y=>{"feature"in y&&t(0,a=y.feature),"selected"in y&&t(1,s=y.selected),"showPlaceType"in y&&t(2,f=y.showPlaceType),"missingIconsCache"in y&&t(8,d=y.missingIconsCache),"iconsBaseUrl"in y&&t(3,c=y.iconsBaseUrl)},n.$$.update=()=>{var y,G,O,h;if(n.$$.dirty&824)do t(9,r--,r),t(4,k=m==null?void 0:m[r]),t(5,g=k?c+k.replace(/ /g,"_")+".svg":void 0);while(r>-1&&(!g||d.has(g)));n.$$.dirty&1&&t(6,l=a.id.startsWith("poi.")?(G=(y=a.properties)==null?void 0:y.categories)==null?void 0:G.join(", "):((h=(O=a.properties)==null?void 0:O.place_type_name)==null?void 0:h[0])??a.place_type[0])},t(9,r=(m==null?void 0:m.length)??0),[a,s,f,c,k,g,l,R,d,r,S,T,M]}class Jt extends he{constructor(e){super(),de(this,e,Qt,Ht,ue,{feature:0,selected:1,showPlaceType:2,missingIconsCache:8,iconsBaseUrl:3})}}const An="";function Xt(n){let e;return{c(){e=L("div"),e.innerHTML='<svg viewBox="0 0 18 18" width="24" height="24" class="svelte-7cmwmc"><path fill="#333" d="M4.4 4.4l.8.8c2.1-2.1 5.5-2.1 7.6 0l.8-.8c-2.5-2.5-6.7-2.5-9.2 0z"></path><path opacity=".1" d="M12.8 12.9c-2.1 2.1-5.5 2.1-7.6 0-2.1-2.1-2.1-5.5 0-7.7l-.8-.8c-2.5 2.5-2.5 6.7 0 9.2s6.6 2.5 9.2 0 2.5-6.6 0-9.2l-.8.8c2.2 2.1 2.2 5.6 0 7.7z"></path></svg>',o(e,"class","svelte-7cmwmc")},m(t,r){z(t,e,r)},p:I,i:I,o:I,d(t){t&&P(e)}}}class Yt extends he{constructor(e){super(),de(this,e,null,Xt,ue,{})}}const Wn="";function xt(n){let e,t;return{c(){e=re("svg"),t=re("path"),o(t,"d","M30.003-26.765C13.46-26.765 0-14.158 0 1.337c0 23.286 24.535 42.952 28.39 46.04.24.192.402.316.471.376.323.282.732.424 1.142.424.41 0 .82-.142 1.142-.424.068-.06.231-.183.471-.376 3.856-3.09 28.39-22.754 28.39-46.04 0-15.495-13.46-28.102-30.003-28.102Zm1.757 12.469c4.38 0 7.858 1.052 10.431 3.158 2.595 2.105 3.89 4.913 3.89 8.422 0 2.34-.53 4.362-1.593 6.063-1.063 1.702-3.086 3.616-6.063 5.742-2.042 1.51-3.337 2.659-3.89 3.446-.532.787-.8 1.82-.8 3.096v1.914h-8.449V15.18c0-2.041.434-3.815 1.306-5.325.872-1.51 2.467-3.118 4.785-4.82 2.233-1.594 3.7-2.89 4.402-3.889a5.582 5.582 0 0 0 1.087-3.35c0-1.382-.51-2.435-1.531-3.158-1.02-.723-2.45-1.087-4.28-1.087-3.19 0-6.826 1.047-10.91 3.131l-3.472-6.986c4.742-2.659 9.77-3.992 15.087-3.992Zm-1.88 37.324c1.765 0 3.124.472 4.08 1.408.98.936 1.47 2.276 1.47 4.02 0 1.68-.49 3.007-1.47 3.985-.977.957-2.336 1.435-4.08 1.435-1.787 0-3.171-.465-4.15-1.4-.978-.958-1.47-2.298-1.47-4.02 0-1.787.48-3.14 1.436-4.054.957-.915 2.355-1.374 4.184-1.374Z"),o(e,"viewBox","0 0 60.006 21.412"),o(e,"width","14"),o(e,"height","20"),o(e,"class","svelte-en2qvf")},m(r,l){z(r,e,l),v(e,t)},p:I,i:I,o:I,d(r){r&&P(e)}}}class $t extends he{constructor(e){super(),de(this,e,null,xt,ue,{})}}const jn="";function en(n){let e,t;return{c(){e=re("svg"),t=re("path"),o(t,"d","M13.101 14.261 8.74 9.899a4.797 4.797 0 0 1-1.425.748 5.165 5.165 0 0 1-1.603.248c-1.446 0-2.677-.5-3.693-1.503S.495 7.164.495 5.717c0-1.446.508-2.678 1.524-3.693C3.035 1.008 4.266.5 5.712.5c1.448 0 2.672.508 3.675 1.524 1.002 1.015 1.503 2.247 1.503 3.693 0 .558-.08 1.092-.239 1.603-.159.512-.411.98-.757 1.405l4.382 4.4a.74.74 0 0 1 .229.568.81.81 0 0 1-.249.568.787.787 0 0 1-.577.239.787.787 0 0 1-.578-.239ZM5.712 9.223c.97 0 1.796-.342 2.48-1.026a3.378 3.378 0 0 0 1.026-2.48c0-.982-.34-1.818-1.016-2.509-.677-.69-1.507-1.035-2.49-1.035a3.42 3.42 0 0 0-2.509 1.035 3.42 3.42 0 0 0-1.035 2.51c0 .982.345 1.812 1.035 2.488.691.678 1.527 1.017 2.51 1.017Z"),o(e,"width","14"),o(e,"height","14"),o(e,"viewBox","0 0 15 15"),o(e,"class","svelte-en2qvf")},m(r,l){z(r,e,l),v(e,t)},p:I,i:I,o:I,d(r){r&&P(e)}}}class tn extends he{constructor(e){super(),de(this,e,null,en,ue,{})}}const Nn="";function ot(n,e,t){const r=n.slice();return r[75]=e[t],r[77]=t,r}function ct(n){let e,t;return e=new Yt({}),{c(){se(e.$$.fragment)},m(r,l){ee(e,r,l),t=!0},i(r){t||(A(e.$$.fragment,r),t=!0)},o(r){F(e.$$.fragment,r),t=!1},d(r){te(e,r)}}}function ft(n){let e,t,r,l,a;return t=new $t({}),{c(){e=L("button"),se(t.$$.fragment),o(e,"type","button"),o(e,"title",n[9]),o(e,"class","svelte-1r7dvt7"),ie(e,"active",n[0])},m(s,f){z(s,e,f),ee(t,e,null),r=!0,l||(a=Z(e,"click",n[61]),l=!0)},p(s,f){(!r||f[0]&512)&&o(e,"title",s[9]),(!r||f[0]&1)&&ie(e,"active",s[0])},i(s){r||(A(t.$$.fragment,s),r=!0)},o(s){F(t.$$.fragment,s),r=!1},d(s){s&&P(e),te(t),l=!1,a()}}}function nn(n){let e,t=[],r=new Map,l,a,s,f=n[13];const d=c=>c[75].id+(c[75].address?","+c[75].address:"");for(let c=0;c<f.length;c+=1){let m=ot(n,f,c),k=d(m);r.set(k,t[c]=ut(k,m))}return{c(){e=L("ul");for(let c=0;c<t.length;c+=1)t[c].c();o(e,"class","svelte-1r7dvt7")},m(c,m){z(c,e,m);for(let k=0;k<t.length;k+=1)t[k]&&t[k].m(e,null);l=!0,a||(s=[Z(e,"mouseleave",n[65]),Z(e,"blur",n[66])],a=!0)},p(c,m){m[0]&8940544&&(f=c[13],Se(),t=Wt(t,m,d,1,c,f,r,e,At,ut,null,ot),Ie())},i(c){if(!l){for(let m=0;m<f.length;m+=1)A(t[m]);l=!0}},o(c){for(let m=0;m<t.length;m+=1)F(t[m]);l=!1},d(c){c&&P(e);for(let m=0;m<t.length;m+=1)t[m].d();a=!1,$(s)}}}function rn(n){let e,t,r,l,a,s;return t=new it({}),{c(){e=L("div"),se(t.$$.fragment),r=Q(),l=L("div"),a=le(n[7]),o(l,"class","svelte-1r7dvt7"),o(e,"class","no-results svelte-1r7dvt7")},m(f,d){z(f,e,d),ee(t,e,null),v(e,r),v(e,l),v(l,a),s=!0},p(f,d){(!s||d[0]&128)&&Me(a,f[7])},i(f){s||(A(t.$$.fragment,f),s=!0)},o(f){F(t.$$.fragment,f),s=!1},d(f){f&&P(e),te(t)}}}function ln(n){let e="",t;return{c(){t=le(e)},m(r,l){z(r,t,l)},p:I,i:I,o:I,d(r){r&&P(t)}}}function sn(n){let e,t,r,l,a,s,f,d,c,m,k;return t=new it({}),d=new lt({}),{c(){e=L("div"),se(t.$$.fragment),r=Q(),l=L("div"),a=le(n[6]),s=Q(),f=L("button"),se(d.$$.fragment),o(l,"class","svelte-1r7dvt7"),o(f,"class","svelte-1r7dvt7"),o(e,"class","error svelte-1r7dvt7")},m(g,R){z(g,e,R),ee(t,e,null),v(e,r),v(e,l),v(l,a),v(e,s),v(e,f),ee(d,f,null),c=!0,m||(k=Z(f,"click",n[62]),m=!0)},p(g,R){(!c||R[0]&64)&&Me(a,g[6])},i(g){c||(A(t.$$.fragment,g),A(d.$$.fragment,g),c=!0)},o(g){F(t.$$.fragment,g),F(d.$$.fragment,g),c=!1},d(g){g&&P(e),te(t),te(d),m=!1,k()}}}function ut(n,e){let t,r,l;function a(){return e[63](e[77])}function s(){return e[64](e[75])}return r=new Jt({props:{feature:e[75],showPlaceType:e[10],selected:e[14]===e[77],missingIconsCache:e[19],iconsBaseUrl:e[11]}}),r.$on("mouseenter",a),r.$on("focus",s),{key:n,first:null,c(){t=Rt(),se(r.$$.fragment),this.first=t},m(f,d){z(f,t,d),ee(r,f,d),l=!0},p(f,d){e=f;const c={};d[0]&8192&&(c.feature=e[75]),d[0]&1024&&(c.showPlaceType=e[10]),d[0]&24576&&(c.selected=e[14]===e[77]),d[0]&2048&&(c.iconsBaseUrl=e[11]),r.$set(c)},i(f){l||(A(r.$$.fragment,f),l=!0)},o(f){F(r.$$.fragment,f),l=!1},d(f){f&&P(t),te(r,f)}}}function on(n){let e,t,r,l,a,s,f,d,c,m,k,g,R,S,T,M,W,y,G,O;l=new tn({}),m=new lt({});let h=n[18]&&ct(),b=n[5]===!0&&ft(n);const C=n[53].default,B=vt(C,n,n[52],null),_=[sn,ln,rn,nn],w=[];function J(u,U){var ne,me;return u[17]?0:u[15]?((ne=u[13])==null?void 0:ne.length)===0?2:u[15]&&((me=u[13])!=null&&me.length)?3:-1:1}return~(T=J(n))&&(M=w[T]=_[T](n)),{c(){e=L("form"),t=L("div"),r=L("button"),se(l.$$.fragment),a=Q(),s=L("input"),f=Q(),d=L("div"),c=L("button"),se(m.$$.fragment),k=Q(),h&&h.c(),g=Q(),b&&b.c(),R=Q(),B&&B.c(),S=Q(),M&&M.c(),o(r,"class","search-button svelte-1r7dvt7"),o(r,"type","button"),o(s,"placeholder",n[8]),o(s,"aria-label",n[8]),o(s,"class","svelte-1r7dvt7"),o(c,"type","button"),o(c,"title",n[3]),o(c,"class","svelte-1r7dvt7"),o(d,"class","clear-button-container svelte-1r7dvt7"),ie(d,"displayable",n[1]!==""),o(t,"class","input-group svelte-1r7dvt7"),o(e,"tabindex","0"),o(e,"class",W=xe(n[2])+" svelte-1r7dvt7"),ie(e,"can-collapse",n[4]&&n[1]==="")},m(u,U){z(u,e,U),v(e,t),v(t,r),ee(l,r,null),v(t,a),v(t,s),n[55](s),$e(s,n[1]),v(t,f),v(t,d),v(d,c),ee(m,c,null),v(d,k),h&&h.m(d,null),v(t,g),b&&b.m(t,null),v(t,R),B&&B.m(t,null),v(e,S),~T&&w[T].m(e,null),y=!0,G||(O=[Z(r,"click",n[54]),Z(s,"input",n[56]),Z(s,"focus",n[57]),Z(s,"blur",n[58]),Z(s,"keydown",n[21]),Z(s,"input",n[59]),Z(c,"click",n[60]),Z(e,"submit",Ct(n[20]))],G=!0)},p(u,U){(!y||U[0]&256)&&o(s,"placeholder",u[8]),(!y||U[0]&256)&&o(s,"aria-label",u[8]),U[0]&2&&s.value!==u[1]&&$e(s,u[1]),(!y||U[0]&8)&&o(c,"title",u[3]),u[18]?h?U[0]&262144&&A(h,1):(h=ct(),h.c(),A(h,1),h.m(d,null)):h&&(Se(),F(h,1,1,()=>{h=null}),Ie()),(!y||U[0]&2)&&ie(d,"displayable",u[1]!==""),u[5]===!0?b?(b.p(u,U),U[0]&32&&A(b,1)):(b=ft(u),b.c(),A(b,1),b.m(t,R)):b&&(Se(),F(b,1,1,()=>{b=null}),Ie()),B&&B.p&&(!y||U[1]&2097152)&&Tt(B,C,u,u[52],y?pt(C,u[52],U,null):Mt(u[52]),null);let ne=T;T=J(u),T===ne?~T&&w[T].p(u,U):(M&&(Se(),F(w[ne],1,1,()=>{w[ne]=null}),Ie()),~T?(M=w[T],M?M.p(u,U):(M=w[T]=_[T](u),M.c()),A(M,1),M.m(e,null)):M=null),(!y||U[0]&4&&W!==(W=xe(u[2])+" svelte-1r7dvt7"))&&o(e,"class",W),(!y||U[0]&22)&&ie(e,"can-collapse",u[4]&&u[1]==="")},i(u){y||(A(l.$$.fragment,u),A(m.$$.fragment,u),A(h),A(b),A(B,u),A(M),y=!0)},o(u){F(l.$$.fragment,u),F(m.$$.fragment,u),F(h),F(b),F(B,u),F(M),y=!1},d(u){u&&P(e),te(l),n[55](null),te(m),h&&h.d(),b&&b.d(),B&&B.d(u),~T&&w[T].d(),G=!1,$(O)}}}function cn(n,e,t){const r=e[1],l=e[0],a=r-l;return n===r&&t?n:((n-l)%a+a)%a+l}function at(n){let e=[...n];return e[2]<e[0]&&(e[2]+=360),e}function fn(n,e,t){let r,{$$slots:l={},$$scope:a}=e,{class:s=void 0}=e,{apiKey:f}=e,{bbox:d=void 0}=e,{clearButtonTitle:c="clear"}=e,{clearOnBlur:m=!1}=e,{collapsed:k=!1}=e,{country:g=void 0}=e,{debounceSearch:R=200}=e,{enableReverse:S=!1}=e,{errorMessage:T="Something went wrongâ€¦"}=e,{filter:M=()=>!0}=e,{flyTo:W=!0}=e,{fuzzyMatch:y=!0}=e,{language:G=void 0}=e,{limit:O=void 0}=e,{mapController:h=void 0}=e,{minLength:b=2}=e,{noResultsMessage:C="Oops! Looks like you're trying to predict something that's not quite right. We can't seem to find what you're looking for. Maybe try double-checking your spelling or try a different search term. Keep on typing - we'll do our best to get you where you need to go!"}=e,{placeholder:B="Search"}=e,{proximity:_=void 0}=e,{reverseActive:w=S==="always"}=e,{reverseButtonTitle:J="toggle reverse geocoding"}=e,{searchValue:u=""}=e,{showFullGeometry:U=!0}=e,{showPlaceType:ne="ifNeeded"}=e,{showResultsWhileTyping:me=!0}=e,{trackProximity:Pe=!0}=e,{types:_e=void 0}=e,{zoom:ze=16}=e,{maxZoom:Be=18}=e,{apiUrl:Oe="https://api.maptiler.com/geocoding"}=e,{fetchParameters:Fe={}}=e,{iconsBaseUrl:mt="icons/"}=e;function hn(){X.focus()}function mn(){X.blur()}function _t(i,N=!0){t(1,u=i),N?(t(14,j=-1),yt()):(De(),setTimeout(()=>{X.focus(),X.select()}))}let ve=!1,E,q,p,gt="",X,j=-1,Y,Ue=[],ge,pe,Ae,Ze;const _n=new Set,oe=St();Lt(()=>{h&&(h.setEventHandler(void 0),h.indicateReverse(!1),h.setSelectedMarker(-1),h.setMarkers(void 0,void 0))});function yt(i){if(pe&&(clearTimeout(pe),pe=void 0),j>-1&&E)t(49,p=E[j]),t(1,u=p.place_name.replace(/,.*/,"")),t(17,Y=void 0),t(48,q=void 0),t(14,j=-1);else if(u){const N=i||!bt();qe(u,{exact:!0}).then(()=>{t(48,q=E),t(49,p=void 0),N&&gn()}).catch(x=>t(17,Y=x))}}function bt(){return/^-?\d+(\.\d+)?,-?\d+(\.\d+)?$/.test(u)}async function qe(i,{byId:N=!1,exact:x=!1}={}){t(17,Y=void 0);const Te=bt(),V=new URLSearchParams;G!=null&&V.set("language",Array.isArray(G)?G.join(","):G),_e&&V.set("types",_e.join(",")),Te||(d&&V.set("bbox",d.map(ce=>ce.toFixed(6)).join(",")),g&&V.set("country",Array.isArray(g)?g.join(","):g)),N||(_&&V.set("proximity",_.map(ce=>ce.toFixed(6)).join(",")),(x||!me)&&V.set("autocomplete","false"),V.set("fuzzyMatch",String(y))),O!==void 0&&(!Te||(_e==null?void 0:_e.length)===1)&&V.set("limit",String(O)),V.set("key",f);const ye=Oe+"/"+encodeURIComponent(i)+".json?"+V.toString();if(ye===gt){N?(t(13,E=void 0),t(49,p=Ue[0])):t(13,E=Ue);return}gt=ye,ge==null||ge.abort();const D=new AbortController;t(18,ge=D);let Ve;try{Ve=await fetch(ye,{signal:D.signal,...Fe}).finally(()=>{D===ge&&t(18,ge=void 0)})}catch(ce){if(ce&&typeof ce=="object"&&"name"in ce&&ce.name==="AbortError")return;throw new Error}if(!Ve.ok)throw new Error;const He=await Ve.json();oe("response",{url:ye,featureCollection:He}),N?(t(13,E=void 0),t(49,p=He.features[0]),Ue=[p]):(t(13,E=He.features.filter(M)),Ue=E,Te&&X.focus())}function gn(){var x,Te,V,ye;if(!(q!=null&&q.length)||!W)return;const i=[180,90,-180,-90],N=!q.some(D=>!D.matching_text);for(const D of q)(N||!D.matching_text)&&(i[0]=Math.min(i[0],((x=D.bbox)==null?void 0:x[0])??D.center[0]),i[1]=Math.min(i[1],((Te=D.bbox)==null?void 0:Te[1])??D.center[1]),i[2]=Math.max(i[2],((V=D.bbox)==null?void 0:V[2])??D.center[0]),i[3]=Math.max(i[3],((ye=D.bbox)==null?void 0:ye[3])??D.center[1]));h&&q.length>0&&(p&&i[0]===i[2]&&i[1]===i[3]?h.flyTo(p.center,ze):h.fitBounds(at(i),50,Be))}function yn(i){t(0,w=S==="always"),_t(cn(i[0],[-180,180],!0).toFixed(6)+","+i[1].toFixed(6))}function bn(i){if(!E)return;let N=i.key==="ArrowDown"?1:i.key==="ArrowUp"?-1:0;N?(j===-1&&N===-1&&t(14,j=E.length),t(14,j+=N),j>=E.length&&t(14,j=-1),i.preventDefault()):["ArrowLeft","ArrowRight","Home","End"].includes(i.key)&&t(14,j=-1)}function De(i=!0){if(t(17,Y=void 0),me){if(pe&&clearTimeout(pe),u.length<b)return;const N=u;pe=window.setTimeout(()=>{qe(N).catch(x=>t(17,Y=x))},i?R:0)}else t(13,E=void 0),t(17,Y=void 0)}function Ke(i){t(49,p=i),t(1,u=i.place_name),t(14,j=-1)}const wn=()=>X.focus();function kn(i){We[i?"unshift":"push"](()=>{X=i,t(16,X)})}function vn(){u=this.value,t(1,u),t(12,ve),t(27,m)}const pn=()=>t(12,ve=!0),Tn=()=>t(12,ve=!1),Mn=()=>De(),Rn=()=>{t(1,u=""),X.focus()},Cn=()=>t(0,w=!w),Bn=()=>t(17,Y=void 0),En=i=>t(14,j=i),Ln=i=>Ke(i),Sn=()=>t(14,j=-1),In=()=>{};return n.$$set=i=>{"class"in i&&t(2,s=i.class),"apiKey"in i&&t(25,f=i.apiKey),"bbox"in i&&t(26,d=i.bbox),"clearButtonTitle"in i&&t(3,c=i.clearButtonTitle),"clearOnBlur"in i&&t(27,m=i.clearOnBlur),"collapsed"in i&&t(4,k=i.collapsed),"country"in i&&t(28,g=i.country),"debounceSearch"in i&&t(29,R=i.debounceSearch),"enableReverse"in i&&t(5,S=i.enableReverse),"errorMessage"in i&&t(6,T=i.errorMessage),"filter"in i&&t(30,M=i.filter),"flyTo"in i&&t(31,W=i.flyTo),"fuzzyMatch"in i&&t(32,y=i.fuzzyMatch),"language"in i&&t(33,G=i.language),"limit"in i&&t(34,O=i.limit),"mapController"in i&&t(35,h=i.mapController),"minLength"in i&&t(36,b=i.minLength),"noResultsMessage"in i&&t(7,C=i.noResultsMessage),"placeholder"in i&&t(8,B=i.placeholder),"proximity"in i&&t(24,_=i.proximity),"reverseActive"in i&&t(0,w=i.reverseActive),"reverseButtonTitle"in i&&t(9,J=i.reverseButtonTitle),"searchValue"in i&&t(1,u=i.searchValue),"showFullGeometry"in i&&t(37,U=i.showFullGeometry),"showPlaceType"in i&&t(10,ne=i.showPlaceType),"showResultsWhileTyping"in i&&t(38,me=i.showResultsWhileTyping),"trackProximity"in i&&t(39,Pe=i.trackProximity),"types"in i&&t(40,_e=i.types),"zoom"in i&&t(41,ze=i.zoom),"maxZoom"in i&&t(42,Be=i.maxZoom),"apiUrl"in i&&t(43,Oe=i.apiUrl),"fetchParameters"in i&&t(44,Fe=i.fetchParameters),"iconsBaseUrl"in i&&t(11,mt=i.iconsBaseUrl),"$$scope"in i&&t(52,a=i.$$scope)},n.$$.update=()=>{if(n.$$.dirty[1]&256&&(Pe||t(24,_=void 0)),n.$$.dirty[0]&134221824&&setTimeout(()=>{t(15,Ae=ve),m&&!ve&&t(1,u="")}),n.$$.dirty[0]&8194|n.$$.dirty[1]&32&&u.length<b&&(t(49,p=void 0),t(13,E=void 0),t(17,Y=void 0),t(48,q=E)),n.$$.dirty[1]&262208&&U&&p&&!p.address&&p.geometry.type==="Point"&&qe(p.id,{byId:!0}).catch(i=>t(17,Y=i)),n.$$.dirty[1]&789521&&(h&&p&&p.id!==Ze&&W&&(!p.bbox||p.bbox[0]===p.bbox[2]&&p.bbox[1]===p.bbox[3]?h.flyTo(p.center,p.id.startsWith("poi.")||p.id.startsWith("address.")?Be:ze):h.fitBounds(at(p.bbox),50,Be),t(13,E=void 0),t(48,q=void 0),t(14,j=-1)),t(50,Ze=p==null?void 0:p.id)),n.$$.dirty[0]&8192|n.$$.dirty[1]&131072&&q!==E&&t(48,q=void 0),n.$$.dirty[1]&393232&&h&&h.setMarkers(q,p),n.$$.dirty[0]&2&&t(14,j=-1),n.$$.dirty[0]&40961|n.$$.dirty[1]&272&&h&&h.setEventHandler(i=>{switch(i.type){case"mapClick":w&&yn(i.coordinates);break;case"proximityChange":t(24,_=Pe?i.proximity:void 0);break;case"markerClick":{const N=E==null?void 0:E.find(x=>x.id===i.id);N&&Ke(N)}break;case"markerMouseEnter":t(14,j=Ae?(E==null?void 0:E.findIndex(N=>N.id===i.id))??-1:-1);break;case"markerMouseLeave":t(14,j=-1);break}}),n.$$.dirty[0]&16384|n.$$.dirty[1]&16&&(h==null||h.setSelectedMarker(j)),n.$$.dirty[0]&24576&&t(51,r=E==null?void 0:E[j]),n.$$.dirty[0]&2|n.$$.dirty[1]&16){const i=/^(-?\d+(?:\.\d*)?),(-?\d+(?:\.\d*)?)$/.exec(u);h==null||h.setReverseMarker(i?[Number(i[1]),Number(i[2])]:void 0)}n.$$.dirty[1]&1048576&&oe("select",r),n.$$.dirty[1]&262144&&oe("pick",p),n.$$.dirty[0]&40960&&oe("optionsVisibilityChange",Ae&&!!E),n.$$.dirty[0]&8192&&oe("featuresListed",E),n.$$.dirty[1]&131072&&oe("featuresMarked",q),n.$$.dirty[0]&1&&oe("reverseToggle",w),n.$$.dirty[0]&2&&oe("queryChange",u),n.$$.dirty[0]&1|n.$$.dirty[1]&16&&h&&h.indicateReverse(w)},[w,u,s,c,k,S,T,C,B,J,ne,mt,ve,E,j,Ae,X,Y,ge,_n,yt,bn,De,Ke,_,f,d,m,g,R,M,W,y,G,O,h,b,U,me,Pe,_e,ze,Be,Oe,Fe,hn,mn,_t,q,p,Ze,r,a,l,wn,kn,vn,pn,Tn,Mn,Rn,Cn,Bn,En,Ln,Sn,In]}class un extends he{constructor(e){super(),de(this,e,fn,on,ue,{class:2,apiKey:25,bbox:26,clearButtonTitle:3,clearOnBlur:27,collapsed:4,country:28,debounceSearch:29,enableReverse:5,errorMessage:6,filter:30,flyTo:31,fuzzyMatch:32,language:33,limit:34,mapController:35,minLength:36,noResultsMessage:7,placeholder:8,proximity:24,reverseActive:0,reverseButtonTitle:9,searchValue:1,showFullGeometry:37,showPlaceType:10,showResultsWhileTyping:38,trackProximity:39,types:40,zoom:41,maxZoom:42,apiUrl:43,fetchParameters:44,iconsBaseUrl:11,focus:45,blur:46,setQuery:47},null,[-1,-1,-1])}get focus(){return this.$$.ctx[45]}get blur(){return this.$$.ctx[46]}get setQuery(){return this.$$.ctx[47]}}const dt=["featuresListed","featuresMarked","optionsVisibilityChange","pick","queryChange","response","reverseToggle","select"],an=["apiKey","bbox","clearButtonTitle","clearOnBlur","collapsed","country","debounceSearch","enableReverse","errorMessage","filter","fuzzyMatch","language","limit","minLength","noResultsMessage","placeholder","proximity","reverseButtonTitle","showFullGeometry","showPlaceType","showResultsWhileTyping","trackProximity","types","zoom","mapController"];function ht(n){return"on"+n[0].toUpperCase()+n.slice(1)}const dn=H.forwardRef(function(e,t){const r=H.useRef(),l=H.useRef(),a={...e};for(const s of dt)delete a[ht(s)];H.useEffect(()=>{if(!r.current)throw new Error;const s=new un({target:r.current,props:a});return l.current=s,()=>s.$destroy()},[]);for(const s of an)H.useEffect(()=>{l.current&&e[s]!==void 0&&l.current.$set({[s]:e[s]})},[e[s]]);for(const s of dt){const f=e[ht(s)];H.useEffect(()=>{var d;(d=l.current)==null||d.$on(s,f?c=>{f(c.detail)}:void 0)},[f])}return H.useImperativeHandle(t,()=>({setQuery:(s,f=!0)=>{var d;return(d=l.current)==null?void 0:d.setQuery(s,f)},focus:()=>{var s;return(s=l.current)==null?void 0:s.focus()},blur:()=>{var s;return(s=l.current)==null?void 0:s.blur()}})),H.createElement("div",{ref:r})});fe.GeocodingControl=dn,Object.defineProperty(fe,Symbol.toStringTag,{value:"Module"})});
//# sourceMappingURL=react.umd.cjs.map
